/* Generated by CIL v. 1.8.2 */
/* print_CIL_Input is true */

struct __pthread_internal_list {
   struct __pthread_internal_list *__prev ;
   struct __pthread_internal_list *__next ;
};
typedef struct __pthread_internal_list __pthread_list_t;
struct __pthread_mutex_s {
   int __lock ;
   unsigned int __count ;
   int __owner ;
   unsigned int __nusers ;
   int __kind ;
   short __spins ;
   short __elision ;
   __pthread_list_t __list ;
};
union __anonunion_pthread_mutex_t_335460617 {
   struct __pthread_mutex_s __data ;
   char __size[40] ;
   long __align ;
};
typedef union __anonunion_pthread_mutex_t_335460617 pthread_mutex_t;
struct sc_mutex {
   pthread_mutex_t mtx ;
};
union __anonunion_pthread_mutexattr_t_488594144 {
   char __size[4] ;
   int __align ;
};
typedef union __anonunion_pthread_mutexattr_t_488594144 pthread_mutexattr_t;
#pragma merger("0","/tmp/cil-sCa0HJO0.i","-pthread")
int sc_mutex_init(struct sc_mutex *mtx ) ;
int sc_mutex_term(struct sc_mutex *mtx ) ;
void sc_mutex_lock(struct sc_mutex *mtx ) ;
void sc_mutex_unlock(struct sc_mutex *mtx ) ;
extern  __attribute__((__nothrow__, __noreturn__)) void __assert_fail(char const   *__assertion ,
                                                                      char const   *__file ,
                                                                      unsigned int __line ,
                                                                      char const   *__function ) ;
int main(void) 
{ 
  struct sc_mutex mutex ;
  int tmp___2 ;
  int tmp___6 ;

  {
  tmp___2 = sc_mutex_init(& mutex);
  if (! (tmp___2 == 0)) {
    __assert_fail("sc_mutex_init(&mutex) == 0", "mutex_test.c", 92U, "main");
  }
  sc_mutex_lock(& mutex);
  sc_mutex_unlock(& mutex);
  tmp___6 = sc_mutex_term(& mutex);
  if (! (tmp___6 == 0)) {
    __assert_fail("sc_mutex_term(&mutex) == 0", "mutex_test.c", 95U, "main");
  }
  return (0);
}
}
#pragma merger("0","/tmp/cil-o09VAHPq.i","-pthread")
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutex_init)(pthread_mutex_t *__mutex ,
                                                                                               pthread_mutexattr_t const   *__mutexattr ) ;
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutex_destroy)(pthread_mutex_t *__mutex ) ;
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutex_lock)(pthread_mutex_t *__mutex ) ;
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutex_unlock)(pthread_mutex_t *__mutex ) ;
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutexattr_init)(pthread_mutexattr_t *__attr ) ;
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutexattr_destroy)(pthread_mutexattr_t *__attr ) ;
extern  __attribute__((__nothrow__)) int ( __attribute__((__nonnull__(1))) pthread_mutexattr_settype)(pthread_mutexattr_t *__attr ,
                                                                                                      int __kind ) ;
int sc_mutex_init(struct sc_mutex *mtx ) 
{ 
  int rc ;
  int rv ;
  pthread_mutexattr_t attr ;
  pthread_mutex_t mut ;
  int tmp___1 ;

  {
  mut.__data.__lock = 0;
  mut.__data.__count = 0U;
  mut.__data.__owner = 0;
  mut.__data.__nusers = 0U;
  mut.__data.__kind = 0;
  mut.__data.__spins = (short)0;
  mut.__data.__elision = (short)0;
  mut.__data.__list.__prev = (struct __pthread_internal_list *)0;
  mut.__data.__list.__next = (struct __pthread_internal_list *)0;
  mtx->mtx = mut;
  rc = pthread_mutexattr_init(& attr);
  if (rc != 0) {
    return (-1);
  }
  rc = pthread_mutexattr_settype(& attr, 0);
  if (! (rc == 0)) {
    __assert_fail("rc == 0", "sc_mutex.c", 81U, "sc_mutex_init");
  }
  rc = pthread_mutex_init(& mtx->mtx, (pthread_mutexattr_t const   *)(& attr));
  rv = pthread_mutexattr_destroy(& attr);
  if (! (rv == 0)) {
    __assert_fail("rv == 0", "sc_mutex.c", 88U, "sc_mutex_init");
  }
  if (rc != 0) {
    tmp___1 = -1;
  } else {
    tmp___1 = 0;
  }
  return (tmp___1);
}
}
int sc_mutex_term(struct sc_mutex *mtx ) 
{ 
  int rc ;
  int tmp ;

  {
  rc = pthread_mutex_destroy(& mtx->mtx);
  if (rc != 0) {
    tmp = -1;
  } else {
    tmp = 0;
  }
  return (tmp);
}
}
void sc_mutex_lock(struct sc_mutex *mtx ) 
{ 
  int rc ;

  {
  rc = pthread_mutex_lock(& mtx->mtx);
  if (! (rc == 0)) {
    __assert_fail("rc == 0", "sc_mutex.c", 108U, "sc_mutex_lock");
  }
  return;
}
}
void sc_mutex_unlock(struct sc_mutex *mtx ) 
{ 
  int rc ;

  {
  rc = pthread_mutex_unlock(& mtx->mtx);
  if (! (rc == 0)) {
    __assert_fail("rc == 0", "sc_mutex.c", 118U, "sc_mutex_unlock");
  }
  return;
}
}
