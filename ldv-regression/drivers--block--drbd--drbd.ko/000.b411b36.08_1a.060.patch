6298c6298
<    atomic_t delay_seq ;
---
>    unsigned int delay_seq ;
6300c6300
<    int dp_volume_last ;
---
>    unsigned int dp_volume_last ;
6701c6701
<    int seq_num ;
---
>    unsigned int seq_num ;
11856d11855
<   int tmp ;
11923,11925c11922
<     tmp = atomic_read((atomic_t const   *)(& mdev->delay_seq));
< #line 97
<     seq_printf(seq, " delay_probe: %d\n\t", tmp);
---
>     seq_printf(seq, " delay_probe: %u\n\t", mdev->delay_seq);
11929c11926
< #line 109
---
> #line 108
11931c11928
< #line 111
---
> #line 110
11933c11930
< #line 114
---
> #line 113
11935c11932
< #line 115
---
> #line 114
11940c11937
< #line 118
---
> #line 117
11942c11939
< #line 119
---
> #line 118
11947c11944
< #line 120
---
> #line 119
11949c11946
< #line 121
---
> #line 120
11951c11948
< #line 123
---
> #line 122
11953c11950
< #line 127
---
> #line 126
11955c11952
< #line 128
---
> #line 127
11957c11954
< #line 129
---
> #line 128
11960c11957
< #line 132
---
> #line 131
11963c11960
< #line 136
---
> #line 135
11965c11962
< #line 137
---
> #line 136
11967c11964
< #line 138
---
> #line 137
11972c11969
< #line 139
---
> #line 138
11974c11971
< #line 140
---
> #line 139
11976c11973
< #line 141
---
> #line 140
11978c11975
< #line 142
---
> #line 141
11981c11978
< #line 145
---
> #line 144
11984c11981
< #line 147
---
> #line 146
11986c11983
< #line 148
---
> #line 147
11988c11985
< #line 149
---
> #line 148
11991c11988
< #line 152
---
> #line 151
11997c11994
< #line 155
---
> #line 154
11999c11996
< #line 156
---
> #line 155
12003c12000
< #line 158 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
---
> #line 157 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
12010c12007
< #line 160
---
> #line 159
12012c12009
< #line 160
---
> #line 159
12014c12011
< #line 162
---
> #line 161
12016c12013
< #line 165
---
> #line 164
12020c12017
< #line 168 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
---
> #line 167 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
12042c12039
< #line 170
---
> #line 169
12044c12041
< #line 174
---
> #line 173
12046c12043
< #line 174
---
> #line 173
12048c12045
< #line 174
---
> #line 173
12050c12047
< #line 174
---
> #line 173
12052c12049
< #line 181
---
> #line 180
12054c12051
< #line 181
---
> #line 180
12056c12053
< #line 204
---
> #line 203
12058c12055
< #line 204
---
> #line 203
12061c12058
< #line 205
---
> #line 204
12063c12060
< #line 206
---
> #line 205
12065c12062
< #line 207
---
> #line 206
12067c12064
< #line 208
---
> #line 207
12072c12069
< #line 210
---
> #line 209
12074c12071
< #line 211
---
> #line 210
12076c12073
< #line 212
---
> #line 211
12081c12078
< #line 215
---
> #line 214
12083c12080
< #line 217
---
> #line 216
12085c12082
< #line 220
---
> #line 219
12088c12085
< #line 222
---
> #line 221
12090c12087
< #line 222
---
> #line 221
12092c12089
< #line 222
---
> #line 221
12094c12091
< #line 222
---
> #line 221
12096c12093
< #line 222
---
> #line 221
12098c12095
< #line 222
---
> #line 221
12100c12097
< #line 222
---
> #line 221
12102c12099
< #line 222
---
> #line 221
12104c12101
< #line 222
---
> #line 221
12106c12103
< #line 222
---
> #line 221
12116c12113
< #line 252
---
> #line 251
12118c12115
< #line 252
---
> #line 251
12121c12118
< #line 255
---
> #line 254
12123c12120
< #line 257
---
> #line 256
12128c12125
< #line 259
---
> #line 258
12130c12127
< #line 260
---
> #line 259
12136c12133
< #line 266
---
> #line 265
12138c12135
< #line 266
---
> #line 265
12140c12137
< #line 266
---
> #line 265
12142c12139
< #line 267
---
> #line 266
12144c12141
< #line 268
---
> #line 267
12146c12143
< #line 269
---
> #line 268
12154c12151
< #line 272
---
> #line 271
12156c12153
< #line 273
---
> #line 272
12158c12155
< #line 274
---
> #line 273
12167c12164
< #line 204
---
> #line 203
12170c12167
< #line 204
---
> #line 203
12172c12169
< #line 205
---
> #line 204
12178c12175
< #line 280
---
> #line 279
12182c12179
< #line 283 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
---
> #line 282 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
12189c12186
< #line 285
---
> #line 284
12191c12188
< #line 285
---
> #line 284
12193c12190
< #line 285
---
> #line 284
12197c12194
< #line 306
---
> #line 305
12199c12196
< #line 309
---
> #line 308
12201c12198
< #line 315
---
> #line 314
12203c12200
< #line 318
---
> #line 317
12205c12202
< #line 321
---
> #line 320
12207c12204
< #line 324 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
---
> #line 323 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
12209c12206
< #line 327 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
---
> #line 326 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_proc.c.prepared"
12220c12217
< #line 359
---
> #line 358
12222c12219
< #line 349
---
> #line 348
12224c12221
< #line 358
---
> #line 357
12226c12223
< #line 362
---
> #line 361
12229c12226
< #line 366
---
> #line 365
12231c12228
< #line 366
---
> #line 365
12234c12231
< #line 371
---
> #line 370
12236c12233
< #line 376
---
> #line 375
12238c12235
< #line 377
---
> #line 376
12240c12237
< #line 378
---
> #line 377
12242c12239
< #line 379
---
> #line 378
12244c12241
< #line 380
---
> #line 379
12249c12246
< #line 381
---
> #line 380
12254c12251
< #line 387
---
> #line 386
12257c12254
< #line 388
---
> #line 387
12262c12259
< #line 362
---
> #line 361
12264c12261
< #line 362
---
> #line 361
12266c12263
< #line 364
---
> #line 363
12273c12270
< #line 397
---
> #line 396
12275c12272
< #line 400
---
> #line 399
27300c27297
<     if (dp->seq_num == seq_num) {
---
>     if (dp->seq_num == (unsigned int )seq_num) {
27326c27323
<     if (dp->seq_num > seq_num) {
---
>     if (dp->seq_num > (unsigned int )seq_num) {
27365c27362
<   dp->seq_num = seq_num;
---
>   dp->seq_num = (unsigned int )seq_num;
42569c42566
<   int tmp ;
---
>   __u32 tmp ;
42571,42572c42568
<   __u32 tmp___1 ;
<   long tmp___2 ;
---
>   long tmp___1 ;
42580c42576
<   tmp___2 = __builtin_expect((unsigned long )ds->socket != (unsigned long )((struct socket *)0),
---
>   tmp___1 = __builtin_expect((unsigned long )ds->socket != (unsigned long )((struct socket *)0),
42583c42579
<   if (tmp___2 != 0L) {
---
>   if (tmp___1 != 0L) {
42589,42591c42585
<     tmp = atomic_read((atomic_t const   *)(& mdev->delay_seq));
< #line 2210
<     tmp___0 = __fswab32((__u32 )tmp);
---
>     tmp = __fswab32(mdev->delay_seq);
42593c42587
<     dp.seq_num = tmp___0;
---
>     dp.seq_num = tmp;
42595c42589
<     tmp___1 = __fswab32((__u32 )offset);
---
>     tmp___0 = __fswab32((__u32 )offset);
42597c42591
<     dp.offset = tmp___1;
---
>     dp.offset = tmp___0;
42618,42619d42611
< #line 2224
<   atomic_inc(& mdev->delay_seq);
42621c42613
<   do_gettimeofday(& mdev->dps_time);
---
>   mdev->delay_seq = mdev->delay_seq + 1U;
42623c42615
<   ok = drbd_send_delay_probe(mdev, & mdev->meta);
---
>   do_gettimeofday(& mdev->dps_time);
42624a42617,42618
>   ok = drbd_send_delay_probe(mdev, & mdev->meta);
> #line 2228
42626c42620
< #line 2227
---
> #line 2228
42628c42622
< #line 2227
---
> #line 2228
42630c42624
< #line 2227
---
> #line 2228
42633c42627
< #line 2227
---
> #line 2228
42637c42631
< #line 2227
---
> #line 2228
42640c42634
< #line 2227
---
> #line 2228
42642,42643d42635
< #line 2229
<   mdev->dp_volume_last = (int )mdev->send_cnt;
42644a42637,42638
>   mdev->dp_volume_last = mdev->send_cnt;
> #line 2231
42646c42640
< #line 2232
---
> #line 2233
42650c42644
< #line 2239 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2240 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42662c42656
< #line 2244
---
> #line 2245
42664c42658
< #line 2244
---
> #line 2245
42667c42661
< #line 2244
---
> #line 2245
42669c42663
< #line 2244
---
> #line 2245
42671c42665
< #line 2244
---
> #line 2245
42674c42668
< #line 2244
---
> #line 2245
42676c42670
< #line 2244
---
> #line 2245
42679c42673
< #line 2244
---
> #line 2245
42683c42677
< #line 2244
---
> #line 2245
42685,42686d42678
< #line 2249
<   if (drop_it != 0) {
42687a42680,42681
>   if (drop_it != 0) {
> #line 2251
42692c42686
< #line 2252
---
> #line 2253
42694,42695d42687
< #line 2252
<   drop_it = mdev->ko_count == 0U;
42697c42689
<   if (drop_it == 0) {
---
>   drop_it = mdev->ko_count == 0U;
42698a42691,42692
>   if (drop_it == 0) {
> #line 2255
42700c42694
< #line 2254
---
> #line 2255
42702c42696
< #line 2254
---
> #line 2255
42704c42698
< #line 2254
---
> #line 2255
42706c42700
< #line 2254
---
> #line 2255
42709c42703
< #line 2256
---
> #line 2257
42714c42708
< #line 2259
---
> #line 2260
42718c42712
< #line 2283 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2284 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42727c42721
< #line 2286
---
> #line 2287
42729c42723
< #line 2286
---
> #line 2287
42732,42733d42725
< #line 2286
<   sent = tmp___0;
42735c42727
<   kunmap(page);
---
>   sent = tmp___0;
42737c42729
<   if ((size_t )sent == size) {
---
>   kunmap(page);
42738a42731,42732
>   if ((size_t )sent == size) {
> #line 2290
42743c42737
< #line 2290
---
> #line 2291
42747c42741
< #line 2293 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2294 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42769c42763
< #line 2296
---
> #line 2297
42771c42765
< #line 2296
---
> #line 2297
42773c42767
< #line 2298
---
> #line 2299
42775,42776d42768
< #line 2306
<   if (disable_sendpage != 0) {
42777a42770,42771
>   if (disable_sendpage != 0) {
> #line 2308
42779c42773
< #line 2307
---
> #line 2308
42782c42776
< #line 2306
---
> #line 2307
42784,42785d42777
< #line 2306
<     if (tmp___1 <= 0) {
42786a42779,42780
>     if (tmp___1 <= 0) {
> #line 2308
42788c42782
< #line 2307
---
> #line 2308
42791c42785
< #line 2306
---
> #line 2307
42793,42794d42786
< #line 2306
<       if (tmp___2 != 0) {
42795a42788,42789
>       if (tmp___2 != 0) {
> #line 2308
42797c42791
< #line 2307
---
> #line 2308
42804,42805d42797
< #line 2309
<   drbd_update_congested(mdev);
42806a42799,42800
>   drbd_update_congested(mdev);
> #line 2311
42808c42802
< #line 2310
---
> #line 2311
42810c42804
< #line 2310
---
> #line 2311
42813c42807
< #line 2312
---
> #line 2313
42816c42810
< #line 2312
---
> #line 2313
42818,42819d42811
< #line 2315
<   if (sent == -11) {
42820a42813,42814
>   if (sent == -11) {
> #line 2317
42822c42816
< #line 2316
---
> #line 2317
42824c42818
< #line 2318
---
> #line 2319
42827c42821
< #line 2320
---
> #line 2321
42833,42834d42826
< #line 2322
<   if (sent <= 0) {
42835a42828,42829
>   if (sent <= 0) {
> #line 2324
42837c42831
< #line 2323
---
> #line 2324
42839c42833
< #line 2323
---
> #line 2324
42842c42836
< #line 2325
---
> #line 2326
42847,42848d42840
< #line 2327
<   len = len - sent;
42849a42842,42843
>   len = len - sent;
> #line 2329
42852,42853d42845
< #line 2329
<   if (len > 0) {
42854a42847,42848
>   if (len > 0) {
> #line 2331
42860c42854
< #line 2330
---
> #line 2331
42862,42863d42855
< #line 2330
<   tmp___8->addr_limit = oldfs;
42864a42857,42858
>   tmp___8->addr_limit = oldfs;
> #line 2332
42866,42867d42859
< #line 2333
<   ok = len == 0;
42868a42861,42862
>   ok = len == 0;
> #line 2335
42870,42871d42863
< #line 2334
<   if (tmp___9 != 0L) {
42872a42865,42866
>   if (tmp___9 != 0L) {
> #line 2336
42877c42871
< #line 2336
---
> #line 2337
42881c42875
< #line 2339 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2340 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42889c42883
< #line 2343
---
> #line 2344
42891c42885
< #line 2343
---
> #line 2344
42893c42887
< #line 2343
---
> #line 2344
42896c42890
< #line 2344
---
> #line 2345
42898c42892
< #line 2344
---
> #line 2345
42900c42894
< #line 2346
---
> #line 2347
42905c42899
< #line 2343
---
> #line 2344
42907c42901
< #line 2343
---
> #line 2344
42910,42911d42903
< #line 2343
<   if ((int )bio->bi_vcnt > i) {
42912a42905,42906
>   if ((int )bio->bi_vcnt > i) {
> #line 2345
42918c42912
< #line 2348
---
> #line 2349
42922c42916
< #line 2351 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2352 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42930c42924
< #line 2355
---
> #line 2356
42932c42926
< #line 2355
---
> #line 2356
42934c42928
< #line 2355
---
> #line 2356
42937c42931
< #line 2356
---
> #line 2357
42939c42933
< #line 2356
---
> #line 2357
42941c42935
< #line 2358
---
> #line 2359
42946c42940
< #line 2355
---
> #line 2356
42948c42942
< #line 2355
---
> #line 2356
42951,42952d42944
< #line 2355
<   if ((int )bio->bi_vcnt > i) {
42953a42946,42947
>   if ((int )bio->bi_vcnt > i) {
> #line 2357
42959c42953
< #line 2361
---
> #line 2362
42963c42957
< #line 2364 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2365 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42969,42970d42962
< #line 2366
<   if ((unsigned int )*((unsigned short *)mdev + 982UL) != 256U) {
42971a42964,42965
>   if ((unsigned int )*((unsigned short *)mdev + 982UL) != 256U || mdev->agreed_pro_version <= 92) {
> #line 2368
42976,42977d42969
< #line 2369
<   if ((unsigned int )(mdev->dp_volume_last + mdev->sync_conf.dp_volume * 2) < mdev->send_cnt) {
42978a42971,42972
>   if (mdev->dp_volume_last + (unsigned int )(mdev->sync_conf.dp_volume * 2) < mdev->send_cnt) {
> #line 2371
42983c42977
< #line 2371
---
> #line 2372
42987c42981
< #line 2373 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2374 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
42993,42994d42986
< #line 2375
<   if (cancel == 0 && (unsigned int )*((unsigned short *)mdev + 982UL) == 256U) {
42995a42988,42989
>   if (cancel == 0 && (unsigned int )*((unsigned short *)mdev + 982UL) == 256U) {
> #line 2377
43000c42994
< #line 2378
---
> #line 2379
43004c42998
< #line 2381 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2382 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43011c43005
< #line 2383
---
> #line 2384
43013c43007
< #line 2385
---
> #line 2386
43015,43016d43008
< #line 2385
<   if (tmp != 0) {
43017a43010,43011
>   if (tmp != 0) {
> #line 2387
43022c43016
< #line 2387
---
> #line 2388
43026c43020
< #line 2392 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2393 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43049c43043
< #line 2394
---
> #line 2395
43051c43045
< #line 2396
---
> #line 2397
43053c43047
< #line 2400
---
> #line 2401
43055,43056d43048
< #line 2400
<   if (tmp == 0) {
43057a43050,43051
>   if (tmp == 0) {
> #line 2402
43062c43056
< #line 2403
---
> #line 2404
43064c43058
< #line 2403
---
> #line 2404
43066c43060
< #line 2403
---
> #line 2404
43069c43063
< #line 2403
---
> #line 2404
43072,43073d43065
< #line 2406
<   p.head.magic = 1728214147U;
43075c43067
<   p.head.command = 0U;
---
>   p.head.magic = 1728214147U;
43076a43069,43070
>   p.head.command = 0U;
> #line 2409
43078c43072
< #line 2408
---
> #line 2409
43080c43074
< #line 2411
---
> #line 2412
43082,43083d43075
< #line 2411
<   p.sector = tmp___2;
43085c43077
<   p.block_id = (u64 )req;
---
>   p.sector = tmp___2;
43086a43079,43080
>   p.block_id = (u64 )req;
> #line 2414
43088c43082
< #line 2413
---
> #line 2414
43090c43084
< #line 2413
---
> #line 2414
43092c43086
< #line 2413
---
> #line 2414
43094c43088
< #line 2415
---
> #line 2416
43096c43090
< #line 2420
---
> #line 2421
43098,43099d43091
< #line 2420
<   if ((int )tmp___7) {
43100a43093,43094
>   if ((int )tmp___7) {
> #line 2422
43102c43096
< #line 2421
---
> #line 2422
43104c43098
< #line 2421
---
> #line 2422
43109c43103
< #line 2424
---
> #line 2425
43111,43112d43104
< #line 2424
<   if ((int )tmp___8) {
43113a43106,43107
>   if ((int )tmp___8) {
> #line 2426
43118c43112
< #line 2428
---
> #line 2429
43120,43121d43113
< #line 2428
<   if ((int )tmp___9) {
43122a43115,43116
>   if ((int )tmp___9) {
> #line 2430
43127c43121
< #line 2430
---
> #line 2431
43129c43123
< #line 2432
---
> #line 2433
43134c43128
< #line 2434
---
> #line 2435
43136,43137d43129
< #line 2434
<   p.dp_flags = tmp___10;
43139c43131
<   set_bit(5U, (unsigned long volatile   *)(& mdev->flags));
---
>   p.dp_flags = tmp___10;
43140a43133,43134
>   set_bit(5U, (unsigned long volatile   *)(& mdev->flags));
> #line 2437
43142c43136
< #line 2436
---
> #line 2437
43144,43145d43137
< #line 2438
<   if (ok != 0 && dgs != 0) {
43147c43139
<     dgb = mdev->int_dig_out;
---
>   if (ok != 0 && dgs != 0) {
43149c43141
<     drbd_csum(mdev, mdev->integrity_w_tfm, req->master_bio, dgb);
---
>     dgb = mdev->int_dig_out;
43150a43143,43144
>     drbd_csum(mdev, mdev->integrity_w_tfm, req->master_bio, dgb);
> #line 2442
43155,43156d43148
< #line 2443
<   if (ok != 0) {
43158c43150
<     if ((mdev->net_conf)->wire_protocol == 1) {
---
>   if (ok != 0) {
43159a43152,43153
>     if ((mdev->net_conf)->wire_protocol == 1) {
> #line 2446
43162c43156
< #line 2447
---
> #line 2448
43168c43162
< #line 2450
---
> #line 2451
43170,43171d43163
< #line 2452
<   if (ok != 0) {
43172a43165,43166
>   if (ok != 0) {
> #line 2454
43177c43171
< #line 2455
---
> #line 2456
43181c43175
< #line 2462 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2463 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43196c43190
< #line 2470
---
> #line 2471
43198c43192
< #line 2470
---
> #line 2471
43200c43194
< #line 2470
---
> #line 2471
43203c43197
< #line 2470
---
> #line 2471
43206,43207d43199
< #line 2473
<   p.head.magic = 1728214147U;
43208a43201,43202
>   p.head.magic = 1728214147U;
> #line 2475
43210,43211d43203
< #line 2474
<   p.head.command = tmp___0;
43212a43205,43206
>   p.head.command = tmp___0;
> #line 2476
43214c43208
< #line 2475
---
> #line 2476
43216c43210
< #line 2478
---
> #line 2479
43218,43219d43211
< #line 2478
<   p.sector = tmp___2;
43220a43213,43214
>   p.sector = tmp___2;
> #line 2480
43222c43216
< #line 2486
---
> #line 2487
43224,43225d43217
< #line 2486
<   if (tmp___3 == 0) {
43226a43219,43220
>   if (tmp___3 == 0) {
> #line 2488
43231c43225
< #line 2489
---
> #line 2490
43233c43227
< #line 2489
---
> #line 2490
43235,43236d43228
< #line 2491
<   if (ok != 0 && dgs != 0) {
43238c43230
<     dgb = mdev->int_dig_out;
---
>   if (ok != 0 && dgs != 0) {
43240c43232
<     drbd_csum(mdev, mdev->integrity_w_tfm, e->private_bio, dgb);
---
>     dgb = mdev->int_dig_out;
43241a43234,43235
>     drbd_csum(mdev, mdev->integrity_w_tfm, e->private_bio, dgb);
> #line 2495
43246,43247d43239
< #line 2496
<   if (ok != 0) {
43248a43241,43242
>   if (ok != 0) {
> #line 2498
43253c43247
< #line 2499
---
> #line 2500
43255,43256d43248
< #line 2501
<   if (ok != 0) {
43257a43250,43251
>   if (ok != 0) {
> #line 2503
43262c43256
< #line 2504
---
> #line 2505
43266c43260
< #line 2523 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2524 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43286c43280
< #line 2528
---
> #line 2529
43288,43289d43281
< #line 2530
<   if ((unsigned long )sock == (unsigned long )((struct socket *)0)) {
43290a43283,43284
>   if ((unsigned long )sock == (unsigned long )((struct socket *)0)) {
> #line 2532
43295,43296d43288
< #line 2535
<   iov.iov_base = buf;
43297a43290,43291
>   iov.iov_base = buf;
> #line 2537
43299,43300d43292
< #line 2538
<   msg.msg_name = 0;
43302c43294
<   msg.msg_namelen = 0;
---
>   msg.msg_name = 0;
43304c43296
<   msg.msg_control = 0;
---
>   msg.msg_namelen = 0;
43306c43298
<   msg.msg_controllen = 0UL;
---
>   msg.msg_control = 0;
43307a43300,43301
>   msg.msg_controllen = 0UL;
> #line 2543
43309,43310d43302
< #line 2544
<   if ((unsigned long )mdev->data.socket == (unsigned long )sock) {
43312c43304
<     mdev->ko_count = (unsigned int )(mdev->net_conf)->ko_count;
---
>   if ((unsigned long )mdev->data.socket == (unsigned long )sock) {
43313a43306,43307
>     mdev->ko_count = (unsigned int )(mdev->net_conf)->ko_count;
> #line 2547
43319,43320d43312
< #line 2558
<   rv = kernel_sendmsg(sock, & msg, & iov, 1UL, size);
43322c43314
<   if (rv == -11) {
---
>   rv = kernel_sendmsg(sock, & msg, & iov, 1UL, size);
43323a43316,43317
>   if (rv == -11) {
> #line 2561
43325,43326d43318
< #line 2560
<     if (tmp != 0) {
43327a43320,43321
>     if (tmp != 0) {
> #line 2562
43330c43324
< #line 2563
---
> #line 2564
43336c43330
< #line 2565
---
> #line 2566
43338c43332
< #line 2565
---
> #line 2566
43340c43334
< #line 2565
---
> #line 2566
43342c43336
< #line 2565
---
> #line 2566
43344c43338
<            2565);
---
>            2566);
43348,43349d43341
< #line 2566
<   if (rv == -4) {
43350a43343,43344
>   if (rv == -4) {
> #line 2568
43352,43353d43345
< #line 2567
<     flush_signals(tmp___2);
43354a43347,43348
>     flush_signals(tmp___2);
> #line 2569
43359,43360d43352
< #line 2570
<   if (rv < 0) {
43361a43354,43355
>   if (rv < 0) {
> #line 2572
43366,43367d43359
< #line 2572
<   sent = sent + rv;
43369c43361
<   iov.iov_base = iov.iov_base + (unsigned long )rv;
---
>   sent = sent + rv;
43370a43363,43364
>   iov.iov_base = iov.iov_base + (unsigned long )rv;
> #line 2575
43373,43374d43366
< #line 2575
<   if ((size_t )sent < size) {
43375a43368,43369
>   if ((size_t )sent < size) {
> #line 2577
43381,43382d43374
< #line 2577
<   if ((unsigned long )mdev->data.socket == (unsigned long )sock) {
43383a43376,43377
>   if ((unsigned long )mdev->data.socket == (unsigned long )sock) {
> #line 2579
43388,43389d43381
< #line 2580
<   if (rv <= 0) {
43391c43383
<     if (rv != -11) {
---
>   if (rv <= 0) {
43392a43385,43386
>     if (rv != -11) {
> #line 2583
43394c43388
< #line 2582
---
> #line 2583
43396c43390
< #line 2582
---
> #line 2583
43399c43393
< #line 2585
---
> #line 2586
43401c43395
< #line 2585
---
> #line 2586
43403c43397
< #line 2585
---
> #line 2586
43405c43399
< #line 2585
---
> #line 2586
43407c43401
< #line 2585
---
> #line 2586
43410c43404
< #line 2587
---
> #line 2588
43412c43406
< #line 2587
---
> #line 2588
43414c43408
< #line 2587
---
> #line 2588
43416c43410
< #line 2587
---
> #line 2588
43418c43412
< #line 2587
---
> #line 2588
43424c43418
< #line 2590
---
> #line 2591
43428c43422
< #line 2593 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2594 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43437c43431
< #line 2595
---
> #line 2596
43439c43433
< #line 2597
---
> #line 2598
43441c43435
< #line 2599
---
> #line 2600
43443c43437
< #line 2599
---
> #line 2600
43445,43446d43438
< #line 2603
<   if ((unsigned int )*((unsigned char *)mdev + 1964UL) != 1U) {
43448c43440
<     if ((mode & 2U) != 0U) {
---
>   if ((unsigned int )*((unsigned char *)mdev + 1964UL) != 1U) {
43449a43442,43443
>     if ((mode & 2U) != 0U) {
> #line 2606
43452,43453d43445
< #line 2606
<     if (allow_oos == 0) {
43454a43447,43448
>     if (allow_oos == 0) {
> #line 2608
43462,43463d43455
< #line 2610
<   if (rv == 0) {
43464a43457,43458
>   if (rv == 0) {
> #line 2612
43469c43463
< #line 2612
---
> #line 2613
43471c43465
< #line 2614
---
> #line 2615
43475c43469
< #line 2617 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2618 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43481,43482d43474
< #line 2619
<   mdev = (struct drbd_conf *)gd->private_data;
43484c43476
<   mdev->open_cnt = mdev->open_cnt - 1;
---
>   mdev = (struct drbd_conf *)gd->private_data;
43485a43478,43479
>   mdev->open_cnt = mdev->open_cnt - 1;
> #line 2622
43489c43483
< #line 2624 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2625 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43499c43493
< #line 2626
---
> #line 2627
43501,43502d43494
< #line 2629
<   spin_lock_irq(q->queue_lock);
43504c43496
<   blk_remove_plug(q);
---
>   spin_lock_irq(q->queue_lock);
43505a43498,43499
>   blk_remove_plug(q);
> #line 2632
43507,43508d43500
< #line 2634
<   spin_lock_irq(& mdev->req_lock);
43510c43502
<   if ((int )mdev->state.ldv_33296.pdsk > 3 && (int )mdev->state.ldv_33296.conn > 9) {
---
>   spin_lock_irq(& mdev->req_lock);
43511a43504,43505
>   if ((int )mdev->state.ldv_33296.pdsk > 3 && (int )mdev->state.ldv_33296.conn > 9) {
> #line 2637
43513c43507
< #line 2636
---
> #line 2637
43515c43509
< #line 2636
---
> #line 2637
43517c43511
< #line 2636
---
> #line 2637
43520c43514
<              2636);
---
>              2637);
43524c43518
< #line 2637
---
> #line 2638
43526c43520
< #line 2637
---
> #line 2638
43528c43522
< #line 2642
---
> #line 2643
43530,43531d43523
< #line 2642
<       if (tmp___1 != 0) {
43532a43525,43526
>       if (tmp___1 != 0) {
> #line 2644
43543c43537
< #line 2647
---
> #line 2648
43545,43546d43538
< #line 2649
<   if ((int )mdev->state.ldv_33296.disk > 3) {
43547a43540,43541
>   if ((int )mdev->state.ldv_33296.disk > 3) {
> #line 2651
43552c43546
< #line 2651
---
> #line 2652
43556c43550
< #line 2653 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2654 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43562,43563d43555
< #line 2655
<   mdev->sync_conf.after = -1;
43565c43557
<   mdev->sync_conf.rate = 250;
---
>   mdev->sync_conf.after = -1;
43567c43559
<   mdev->sync_conf.al_extents = 127;
---
>   mdev->sync_conf.rate = 250;
43568a43561,43562
>   mdev->sync_conf.al_extents = 127;
> #line 2659
43570c43564
< #line 2658
---
> #line 2659
43572c43566
< #line 2658
---
> #line 2659
43574c43568
< #line 2658
---
> #line 2659
43576c43570
< #line 2658
---
> #line 2659
43578c43572
< #line 2658
---
> #line 2659
43580c43574
< #line 2658
---
> #line 2659
43582c43576
< #line 2658
---
> #line 2659
43584c43578
< #line 2658
---
> #line 2659
43586c43580
< #line 2658
---
> #line 2659
43588,43589d43581
< #line 2658
<   mdev->state = __constr_expr_0;
43590a43583,43584
>   mdev->state = __constr_expr_0;
> #line 2660
43594c43588
< #line 2668 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
---
> #line 2669 "/work/ldvuser/novikov/work/current--X--drivers/block/drbd/drbd.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/19/dscv_tempdir/dscv/ri/08_1a/drivers/block/drbd/drbd_main.c.prepared"
43617c43611
< #line 2673
---
> #line 2674
43619c43613
< #line 2678
---
> #line 2679
43621,43622d43614
< #line 2680
<   atomic_set(& mdev->ap_bio_cnt, 0);
43624c43616
<   atomic_set(& mdev->ap_pending_cnt, 0);
---
>   atomic_set(& mdev->ap_bio_cnt, 0);
43626c43618
<   atomic_set(& mdev->rs_pending_cnt, 0);
---
>   atomic_set(& mdev->ap_pending_cnt, 0);
43628c43620
<   atomic_set(& mdev->unacked_cnt, 0);
---
>   atomic_set(& mdev->rs_pending_cnt, 0);
43630c43622
<   atomic_set(& mdev->local_cnt, 0);
---
>   atomic_set(& mdev->unacked_cnt, 0);
43632c43624
<   atomic_set(& mdev->net_cnt, 0);
---
>   atomic_set(& mdev->local_cnt, 0);
43634c43626
<   atomic_set(& mdev->packet_seq, 0);
---
>   atomic_set(& mdev->net_cnt, 0);
43636c43628
<   atomic_set(& mdev->pp_in_use, 0);
---
>   atomic_set(& mdev->packet_seq, 0);
43638c43630
<   atomic_set(& mdev->delay_seq, 0);
---
>   atomic_set(& mdev->pp_in_use, 0);
