18170,18171c18170,18171
< #line 2503
<     ret = i915_gem_evict_everything(dev);
---
> #line 2501
>     pinned = 0;
18173c18173
<     if (ret) {
---
>     ret = i915_gem_evict_everything(dev);
18174a18175,18176
>     if (ret) {
> #line 2506
18182,18183d18183
< #line 2509
<   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
18185c18185
<   batch_obj->pending_read_domains = 8;
---
>   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
18186a18187,18188
>   batch_obj->pending_read_domains = 8;
> #line 2512
18188,18189d18189
< #line 2519
<   dev->invalidate_domains = 0;
18190a18191,18192
>   dev->invalidate_domains = 0;
> #line 2521
18192c18194
< #line 2522
---
> #line 2523
18194c18196
< #line 2522
---
> #line 2523
18196c18198
< #line 2522
---
> #line 2523
18200c18202
< #line 2522
---
> #line 2523
18203c18205
< #line 2523
---
> #line 2524
18205c18207
< #line 2526
---
> #line 2527
18207c18209
< #line 2522
---
> #line 2523
18210c18212
< #line 2533
---
> #line 2534
18212c18214
< #line 2540
---
> #line 2541
18214,18215d18215
< #line 2543
<     if (dev->flush_domains) {
18216a18217,18218
>     if (dev->flush_domains) {
> #line 2545
18224c18226
< #line 2556
---
> #line 2557
18226,18227d18227
< #line 2566
<   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
18229c18229
<   if (ret) {
---
>   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
18231c18231
<     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
---
>   if (ret) {
18232a18233,18234
>     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
> #line 2570
18237c18239
< #line 2576
---
> #line 2577
18239,18240d18240
< #line 2587
<   seqno = i915_add_request(dev, flush_domains);
18241a18242,18243
>   seqno = i915_add_request(dev, flush_domains);
> #line 2589
18243c18245
< #line 2588
---
> #line 2589
18245c18247
< #line 2588
---
> #line 2589
18247c18249
< #line 2588
---
> #line 2589
18249c18251
< #line 2588
---
> #line 2589
18256,18257c18258,18259
<                              "i" (2588), "i" (sizeof(struct bug_entry )));
< #line 2588
---
>                              "i" (2589), "i" (sizeof(struct bug_entry )));
> #line 2589
18261c18263
< #line 2588
---
> #line 2589
18267c18269
< #line 2588
---
> #line 2589
18270,18271d18271
< #line 2589
<   i915_file_priv->mm.last_gem_seqno = seqno;
18272a18273,18274
>   i915_file_priv->mm.last_gem_seqno = seqno;
> #line 2591
18274c18276
< #line 2590
---
> #line 2591
18276c18278
< #line 2590
---
> #line 2591
18280c18282
< #line 2590
---
> #line 2591
18283c18285
< #line 2591
---
> #line 2592
18285c18287
< #line 2593
---
> #line 2594
18287c18289
< #line 2590
---
> #line 2591
18290c18292
< #line 2605
---
> #line 2606
18293c18295
< #line 2605
---
> #line 2606
18295,18296d18296
< #line 2609
<   if (ret) {
18297a18298,18299
>   if (ret) {
> #line 2611
18304,18305d18305
< #line 2614
<   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
18306a18307,18308
>   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
> #line 2616
18308c18310
< #line 2615
---
> #line 2616
18310c18312
< #line 2615
---
> #line 2616
18314c18316
< #line 2615
---
> #line 2616
18317c18319
< #line 2616
---
> #line 2617
18319c18321
< #line 2615
---
> #line 2616
18322c18324
< #line 2618
---
> #line 2619
18324c18326
< #line 2618
---
> #line 2619
18326c18328
< #line 2618
---
> #line 2619
18330c18332
< #line 2618
---
> #line 2619
18333c18335
< #line 2619
---
> #line 2620
18335c18337
< #line 2618
---
> #line 2619
18341c18343
< #line 2621
---
> #line 2622
18344c18346
< #line 2624
---
> #line 2625
18347c18349
< #line 2626
---
> #line 2627
18349c18351
< #line 2629
---
> #line 2630
18353c18355
< #line 2632 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2633 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18362,18363d18363
< #line 2635
<   dev = obj->dev;
18364a18365,18366
>   dev = obj->dev;
> #line 2637
18366,18367d18367
< #line 2640
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
18369c18369
<     ret = i915_gem_object_bind_to_gtt(obj, alignment);
---
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
18371c18371
<     if (ret != 0) {
---
>     ret = i915_gem_object_bind_to_gtt(obj, alignment);
18373c18373
<       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
---
>     if (ret != 0) {
18374a18375,18376
>       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
> #line 2645
18382c18384
< #line 2647
---
> #line 2648
18384,18385d18385
< #line 2652
<   if (obj_priv->pin_count == 1) {
18387c18387
<     atomic_inc(& dev->pin_count);
---
>   if (obj_priv->pin_count == 1) {
18389c18389
<     atomic_add(obj->size, & dev->pin_memory);
---
>     atomic_inc(& dev->pin_count);
18390a18391,18392
>     atomic_add(obj->size, & dev->pin_memory);
> #line 2656
18392c18394
< #line 2655
---
> #line 2656
18394c18396
< #line 2655
---
> #line 2656
18398c18400
< #line 2659
---
> #line 2660
18407c18409
< #line 2663
---
> #line 2664
18411c18413
< #line 2666 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2667 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18421,18422d18422
< #line 2669
<   dev = obj->dev;
18424c18424
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
18425a18426,18427
>   dev_priv = dev->dev_private;
> #line 2672
18427,18428d18428
< #line 2674
<   obj_priv->pin_count = obj_priv->pin_count - 1;
18429a18430,18431
>   obj_priv->pin_count = obj_priv->pin_count - 1;
> #line 2676
18431c18433
< #line 2675
---
> #line 2676
18433c18435
< #line 2675
---
> #line 2676
18435c18437
< #line 2675
---
> #line 2676
18437c18439
< #line 2675
---
> #line 2676
18444,18445c18446,18447
<                              "i" (2675), "i" (sizeof(struct bug_entry )));
< #line 2675
---
>                              "i" (2676), "i" (sizeof(struct bug_entry )));
> #line 2676
18449c18451
< #line 2675
---
> #line 2676
18455c18457
< #line 2675
---
> #line 2676
18458c18460
< #line 2676
---
> #line 2677
18460c18462
< #line 2676
---
> #line 2677
18463c18465
< #line 2676
---
> #line 2677
18465c18467
< #line 2676
---
> #line 2677
18467c18469
< #line 2676
---
> #line 2677
18474,18475c18476,18477
<                              "i" (2676), "i" (sizeof(struct bug_entry )));
< #line 2676
---
>                              "i" (2677), "i" (sizeof(struct bug_entry )));
> #line 2677
18479c18481
< #line 2676
---
> #line 2677
18485c18487
< #line 2676
---
> #line 2677
18488,18489d18489
< #line 2682
<   if (obj_priv->pin_count == 0) {
18490a18491,18492
>   if (obj_priv->pin_count == 0) {
> #line 2684
18492c18494
< #line 2686
---
> #line 2687
18497,18498d18498
< #line 2688
<     atomic_dec(& dev->pin_count);
18499a18500,18501
>     atomic_dec(& dev->pin_count);
> #line 2690
18504c18506
< #line 2692
---
> #line 2693
18508c18510
< #line 2694 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2695 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18517c18519
< #line 2698
---
> #line 2699
18519c18521
< #line 2703
---
> #line 2704
18521,18522d18522
< #line 2705
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
18524c18524
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
18525a18526,18527
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2708
18528,18529d18529
< #line 2709
<     mutex_unlock(& dev->struct_mutex);
18530a18531,18532
>     mutex_unlock(& dev->struct_mutex);
> #line 2711
18535c18537
< #line 2712
---
> #line 2713
18537,18538d18538
< #line 2714
<   if ((unsigned long )obj_priv->pin_filp != (unsigned long )((void *)0) && (unsigned long )obj_priv->pin_filp != (unsigned long )file_priv) {
18539a18540,18541
>   if ((unsigned long )obj_priv->pin_filp != (unsigned long )((void *)0) && (unsigned long )obj_priv->pin_filp != (unsigned long )file_priv) {
> #line 2716
18542,18543d18543
< #line 2717
<     mutex_unlock(& dev->struct_mutex);
18544a18545,18546
>     mutex_unlock(& dev->struct_mutex);
> #line 2719
18549,18550d18550
< #line 2721
<   obj_priv->user_pin_count = obj_priv->user_pin_count + (uint32_t )1;
18552c18552
<   obj_priv->pin_filp = file_priv;
---
>   obj_priv->user_pin_count = obj_priv->user_pin_count + (uint32_t )1;
18554c18554
<   if (obj_priv->user_pin_count == (uint32_t )1) {
---
>   obj_priv->pin_filp = file_priv;
18556c18556
<     ret = i915_gem_object_pin(obj, args->alignment);
---
>   if (obj_priv->user_pin_count == (uint32_t )1) {
18558c18558
<     if (ret != 0) {
---
>     ret = i915_gem_object_pin(obj, args->alignment);
18560c18560
<       drm_gem_object_unreference(obj);
---
>     if (ret != 0) {
18562c18562
<       mutex_unlock(& dev->struct_mutex);
---
>       drm_gem_object_unreference(obj);
18563a18564,18565
>       mutex_unlock(& dev->struct_mutex);
> #line 2729
18571,18572d18572
< #line 2735
<   i915_gem_object_flush_cpu_write_domain(obj);
18574c18574
<   args->offset = obj_priv->gtt_offset;
---
>   i915_gem_object_flush_cpu_write_domain(obj);
18576c18576
<   drm_gem_object_unreference(obj);
---
>   args->offset = obj_priv->gtt_offset;
18577a18578,18579
>   drm_gem_object_unreference(obj);
> #line 2739
18579c18581
< #line 2740
---
> #line 2741
18583c18585
< #line 2743 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2744 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18591c18593
< #line 2747
---
> #line 2748
18593c18595
< #line 2751
---
> #line 2752
18595,18596d18596
< #line 2753
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
18598c18598
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
18599a18600,18601
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2756
18602,18603d18603
< #line 2757
<     mutex_unlock(& dev->struct_mutex);
18604a18605,18606
>     mutex_unlock(& dev->struct_mutex);
> #line 2759
18609,18610d18610
< #line 2761
<   obj_priv = obj->driver_private;
18612c18612
<   if ((unsigned long )obj_priv->pin_filp != (unsigned long )file_priv) {
---
>   obj_priv = obj->driver_private;
18613a18614,18615
>   if ((unsigned long )obj_priv->pin_filp != (unsigned long )file_priv) {
> #line 2764
18616,18617d18617
< #line 2765
<     drm_gem_object_unreference(obj);
18619c18619
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
18620a18621,18622
>     mutex_unlock(& dev->struct_mutex);
> #line 2768
18625,18626d18626
< #line 2769
<   obj_priv->user_pin_count = obj_priv->user_pin_count - (uint32_t )1;
18628c18628
<   if (obj_priv->user_pin_count == (uint32_t )0) {
---
>   obj_priv->user_pin_count = obj_priv->user_pin_count - (uint32_t )1;
18630c18630
<     obj_priv->pin_filp = (void *)0;
---
>   if (obj_priv->user_pin_count == (uint32_t )0) {
18631a18632,18633
>     obj_priv->pin_filp = (void *)0;
> #line 2773
18636,18637d18637
< #line 2775
<   drm_gem_object_unreference(obj);
18639c18639
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
18640a18641,18642
>   mutex_unlock(& dev->struct_mutex);
> #line 2778
18644c18646
< #line 2780 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2781 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18652c18654
< #line 2784
---
> #line 2785
18654,18655d18655
< #line 2788
<   mutex_lock(& dev->struct_mutex);
18657c18657
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock(& dev->struct_mutex);
18659c18659
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
18660a18661,18662
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2792
18663,18664d18664
< #line 2793
<     mutex_unlock(& dev->struct_mutex);
18665a18666,18667
>     mutex_unlock(& dev->struct_mutex);
> #line 2795
18670c18672
< #line 2797
---
> #line 2798
18672c18674
< #line 2805
---
> #line 2806
18674,18675d18675
< #line 2807
<   drm_gem_object_unreference(obj);
18677c18677
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
18678a18679,18680
>   mutex_unlock(& dev->struct_mutex);
> #line 2810
18682c18684
< #line 2812 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2813 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18688c18690
< #line 2816
---
> #line 2817
18690c18692
< #line 2816
---
> #line 2817
18694c18696
< #line 2819 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2820 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18701c18703
< #line 2823
---
> #line 2824
18703,18704d18704
< #line 2823
<   obj_priv = tmp;
18706c18706
<   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
---
>   obj_priv = tmp;
18707a18708,18709
>   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
> #line 2826
18712,18713d18713
< #line 2833
<   obj->write_domain = 1;
18714a18715,18716
>   obj->write_domain = 1;
> #line 2835
18716c18718
< #line 2836
---
> #line 2837
18718,18719d18719
< #line 2838
<   obj->driver_private = obj_priv;
18721c18721
<   obj_priv->obj = obj;
---
>   obj->driver_private = obj_priv;
18723c18723
<   obj_priv->fence_reg = -1;
---
>   obj_priv->obj = obj;
18724a18725,18726
>   obj_priv->fence_reg = -1;
> #line 2842
18726c18728
< #line 2843
---
> #line 2844
18730c18732
< #line 2846 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2847 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18740,18741d18741
< #line 2848
<   dev = obj->dev;
18742a18743,18744
>   dev = obj->dev;
> #line 2850
18744c18746
< #line 2852
---
> #line 2853
18746c18748
< #line 2854
---
> #line 2855
18748c18750
< #line 2854
---
> #line 2855
18752c18754
< #line 2854
---
> #line 2855
18755c18757
< #line 2855
---
> #line 2856
18758c18760
< #line 2857
---
> #line 2858
18760,18761d18761
< #line 2859
<   list = & obj->map_list;
18762a18763,18764
>   list = & obj->map_list;
> #line 2861
18764,18765d18765
< #line 2862
<   if (list->file_offset_node) {
18767c18767
<     drm_mm_put_block(list->file_offset_node);
---
>   if (list->file_offset_node) {
18768a18769,18770
>     drm_mm_put_block(list->file_offset_node);
> #line 2865
18773,18774d18774
< #line 2867
<   map = list->map;
18776c18776
<   if (map) {
---
>   map = list->map;
18778c18778
<     drm_free(map, sizeof(*map), 2);
---
>   if (map) {
18779a18780,18781
>     drm_free(map, sizeof(*map), 2);
> #line 2871
18784,18785d18785
< #line 2873
<   drm_free(obj_priv->page_cpu_valid, 1, 2);
18787c18787
<   drm_free(obj->driver_private, 1, 2);
---
>   drm_free(obj_priv->page_cpu_valid, 1, 2);
18788a18789,18790
>   drm_free(obj->driver_private, 1, 2);
> #line 2876
18792c18794
< #line 2878 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2879 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18802c18804
< #line 2885
---
> #line 2886
18804c18806
< #line 2885
---
> #line 2886
18806c18808
< #line 2885
---
> #line 2886
18808c18810
< #line 2885
---
> #line 2886
18813c18815
< #line 2886
---
> #line 2887
18815c18817
< #line 2886
---
> #line 2887
18817c18819
< #line 2889
---
> #line 2890
18819,18820d18820
< #line 2891
<     if (obj_priv->pin_count != 0) {
18822c18822
<       printk("<3>[drm:%s] *ERROR* Pinned object in unbind list\n", "i915_gem_evict_from_list");
---
>     if (obj_priv->pin_count != 0) {
18824c18824
<       mutex_unlock(& dev->struct_mutex);
---
>       printk("<3>[drm:%s] *ERROR* Pinned object in unbind list\n", "i915_gem_evict_from_list");
18825a18826,18827
>       mutex_unlock(& dev->struct_mutex);
> #line 2895
18830,18831d18831
< #line 2897
<     ret = i915_gem_object_unbind(obj);
18833c18833
<     if (ret != 0) {
---
>     ret = i915_gem_object_unbind(obj);
18834a18835,18836
>     if (ret != 0) {
> #line 2900
18837,18838d18838
< #line 2901
<       mutex_unlock(& dev->struct_mutex);
18839a18840,18841
>       mutex_unlock(& dev->struct_mutex);
> #line 2903
18845c18847
< #line 2907
---
> #line 2908
18849c18851
< #line 2910 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2911 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
18884c18886
< #line 2913
---
> #line 2914
18886c18888
< #line 2917
---
> #line 2918
18888,18889d18889
< #line 2919
<   if (dev_priv->mm.suspended || (unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
18891c18891
<     mutex_unlock(& dev->struct_mutex);
---
>   if (dev_priv->mm.suspended || (unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
18892a18893,18894
>     mutex_unlock(& dev->struct_mutex);
> #line 2922
18897c18899
< #line 2927
---
> #line 2928
18899,18900d18900
< #line 2931
<   mutex_unlock(& dev->struct_mutex);
18902c18902
<   cancel_delayed_work_sync(& dev_priv->mm.retire_work);
---
>   mutex_unlock(& dev->struct_mutex);
18903a18904,18905
>   cancel_delayed_work_sync(& dev_priv->mm.retire_work);
> #line 2934
18905c18907
< #line 2935
---
> #line 2936
18907c18909
< #line 2939
---
> #line 2940
18909c18911
< #line 2941
---
> #line 2942
18911,18912d18912
< #line 2943
<   if (seqno == (uint32_t )0) {
18914c18914
<     mutex_unlock(& dev->struct_mutex);
---
>   if (seqno == (uint32_t )0) {
18915a18916,18917
>     mutex_unlock(& dev->struct_mutex);
> #line 2946
18920,18921d18921
< #line 2948
<   dev_priv->mm.waiting_gem_seqno = seqno;
18923c18923
<   last_seqno = 0;
---
>   dev_priv->mm.waiting_gem_seqno = seqno;
18925c18925
<   stuck = 0;
---
>   last_seqno = 0;
18927c18927
<   while (1) {
---
>   stuck = 0;
18929c18929
<     cur_seqno = i915_get_gem_seqno(dev);
---
>   while (1) {
18930a18931,18932
>     cur_seqno = i915_get_gem_seqno(dev);
> #line 2954
18932,18933d18933
< #line 2953
<     if (tmp) {
18934a18935,18936
>     if (tmp) {
> #line 2955
18939,18940d18940
< #line 2955
<     if (last_seqno == cur_seqno) {
18941a18942,18943
>     if (last_seqno == cur_seqno) {
> #line 2957
18943c18945
< #line 2956
---
> #line 2957
18945,18946d18946
< #line 2956
<       if (tmp___0 > 100) {
18948c18948
<         printk("<3>[drm:%s] *ERROR* hardware wedged\n", "i915_gem_idle");
---
>       if (tmp___0 > 100) {
18950c18950
<         dev_priv->mm.wedged = 1;
---
>         printk("<3>[drm:%s] *ERROR* hardware wedged\n", "i915_gem_idle");
18952c18952
<         __wake_up(& dev_priv->irq_queue, 1, 1, (void *)0);
---
>         dev_priv->mm.wedged = 1;
18953a18954,18955
>         __wake_up(& dev_priv->irq_queue, 1, 1, (void *)0);
> #line 2961
18961,18962d18962
< #line 2963
<     msleep(10);
18963a18964,18965
>     msleep(10);
> #line 2965
18966c18968
< #line 2966
---
> #line 2967
18968c18970
< #line 2968
---
> #line 2969
18970c18972
< #line 2970
---
> #line 2971
18972c18974
< #line 2974
---
> #line 2975
18974c18976
< #line 2974
---
> #line 2975
18976c18978
< #line 2974
---
> #line 2975
18979c18981
< #line 2974
---
> #line 2975
18982c18984
< #line 2974
---
> #line 2975
18984c18986
< #line 2974
---
> #line 2975
18986c18988
< #line 2974
---
> #line 2975
18988c18990
< #line 2974
---
> #line 2975
18990c18992
<                        2974);
---
>                        2975);
18994,18995d18995
< #line 2974
<     __builtin_expect(! (! __ret_warn_on), 0);
18996a18997,18998
>     __builtin_expect(! (! __ret_warn_on), 0);
> #line 2976
18998c19000
< #line 2975
---
> #line 2976
19000c19002
< #line 2975
---
> #line 2976
19003c19005
< #line 2975
---
> #line 2976
19006c19008
< #line 2975
---
> #line 2976
19008c19010
< #line 2975
---
> #line 2976
19010c19012
< #line 2975
---
> #line 2976
19012c19014
< #line 2975
---
> #line 2976
19014c19016
<                        2975);
---
>                        2976);
19018c19020
< #line 2975
---
> #line 2976
19020c19022
< #line 2979
---
> #line 2980
19022c19024
< #line 2979
---
> #line 2980
19024c19026
< #line 2979
---
> #line 2980
19027c19029
< #line 2979
---
> #line 2980
19030c19032
< #line 2979
---
> #line 2980
19032c19034
< #line 2979
---
> #line 2980
19034c19036
< #line 2979
---
> #line 2980
19036c19038
< #line 2979
---
> #line 2980
19038c19040
<                        2979);
---
>                        2980);
19042c19044
< #line 2979
---
> #line 2980
19047c19049
< #line 2987
---
> #line 2988
19049c19051
< #line 2987
---
> #line 2988
19051c19053
< #line 2987
---
> #line 2988
19053c19055
< #line 2987
---
> #line 2988
19058c19060
< #line 2990
---
> #line 2991
19060c19062
< #line 2990
---
> #line 2991
19062,19063d19063
< #line 2993
<     (obj_priv->obj)->write_domain = (obj_priv->obj)->write_domain & (unsigned int )(~ (~ (1 | 64)));
19064a19065,19066
>     (obj_priv->obj)->write_domain = (obj_priv->obj)->write_domain & (unsigned int )(~ (~ (1 | 64)));
> #line 2995
19067c19069
< #line 2997
---
> #line 2998
19069c19071
< #line 2997
---
> #line 2998
19071c19073
< #line 2997
---
> #line 2998
19073c19075
< #line 2997
---
> #line 2998
19078c19080
< #line 3000
---
> #line 3001
19080c19082
< #line 3000
---
> #line 3001
19082,19083d19083
< #line 3003
<     (obj_priv___0->obj)->write_domain = (obj_priv___0->obj)->write_domain & (unsigned int )(~ (~ (1 | 64)));
19084a19085,19086
>     (obj_priv___0->obj)->write_domain = (obj_priv___0->obj)->write_domain & (unsigned int )(~ (~ (1 | 64)));
> #line 3005
19087,19088d19088
< #line 3009
<   ret = i915_gem_evict_from_list(dev, & dev_priv->mm.inactive_list);
19089a19090,19091
>   ret = i915_gem_evict_from_list(dev, & dev_priv->mm.inactive_list);
> #line 3011
19091c19093
< #line 3010
---
> #line 3011
19093c19095
< #line 3010
---
> #line 3011
19096c19098
< #line 3010
---
> #line 3011
19099c19101
< #line 3010
---
> #line 3011
19101c19103
< #line 3010
---
> #line 3011
19103c19105
< #line 3010
---
> #line 3011
19105c19107
< #line 3010
---
> #line 3011
19107c19109
<                      3010);
---
>                      3011);
19111,19112d19112
< #line 3010
<   __builtin_expect(! (! __ret_warn_on___2), 0);
19114c19114
<   if (ret) {
---
>   __builtin_expect(! (! __ret_warn_on___2), 0);
19116c19116
<     mutex_unlock(& dev->struct_mutex);
---
>   if (ret) {
19117a19118,19119
>     mutex_unlock(& dev->struct_mutex);
> #line 3014
19122,19123d19123
< #line 3016
<   i915_gem_cleanup_ringbuffer(dev);
19124a19125,19126
>   i915_gem_cleanup_ringbuffer(dev);
> #line 3018
19126c19128
< #line 3019
---
> #line 3020
19130c19132
< #line 3022 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3023 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19139c19141
< #line 3025
---
> #line 3026
19141,19142d19142
< #line 3033
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
19143a19144,19145
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
> #line 3035
19148,19149d19149
< #line 3036
<   obj = drm_gem_object_alloc(dev, 4096);
19151c19151
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_alloc(dev, 4096);
19153c19153
<     printk("<3>[drm:%s] *ERROR* Failed to allocate status page\n", "i915_gem_init_hws");
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
19154a19155,19156
>     printk("<3>[drm:%s] *ERROR* Failed to allocate status page\n", "i915_gem_init_hws");
> #line 3040
19159,19160d19160
< #line 3041
<   obj_priv = obj->driver_private;
19161a19162,19163
>   obj_priv = obj->driver_private;
> #line 3043
19163,19164d19164
< #line 3044
<   ret = i915_gem_object_pin(obj, 4096);
19166c19166
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, 4096);
19168c19168
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
19169a19170,19171
>     drm_gem_object_unreference(obj);
> #line 3048
19174c19176
< #line 3050
---
> #line 3051
19176,19177d19177
< #line 3052
<   dev_priv->hw_status_page = kmap(*(obj_priv->page_list + 0));
19179c19179
<   if ((unsigned long )dev_priv->hw_status_page == (unsigned long )((void *)0)) {
---
>   dev_priv->hw_status_page = kmap(*(obj_priv->page_list + 0));
19181c19181
<     printk("<3>[drm:%s] *ERROR* Failed to map status page.\n", "i915_gem_init_hws");
---
>   if ((unsigned long )dev_priv->hw_status_page == (unsigned long )((void *)0)) {
19183c19183
<     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
---
>     printk("<3>[drm:%s] *ERROR* Failed to map status page.\n", "i915_gem_init_hws");
19185c19185
<     drm_gem_object_unreference(obj);
---
>     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
19186a19187,19188
>     drm_gem_object_unreference(obj);
> #line 3058
19191,19192d19192
< #line 3059
<   dev_priv->hws_obj = obj;
19194c19194
<   memset(dev_priv->hw_status_page, 0, 1UL << 12);
---
>   dev_priv->hws_obj = obj;
19196c19196
<   writel(dev_priv->status_gfx_addr, dev_priv->regs + 8320);
---
>   memset(dev_priv->hw_status_page, 0, 1UL << 12);
19198c19198
<   readl(dev_priv->regs + 8320);
---
>   writel(dev_priv->status_gfx_addr, dev_priv->regs + 8320);
19199a19200,19201
>   readl(dev_priv->regs + 8320);
> #line 3064
19201c19203
< #line 3063
---
> #line 3064
19203c19205
< #line 3063
---
> #line 3064
19208c19210
< #line 3063
---
> #line 3064
19211c19213
< #line 3065
---
> #line 3066
19215c19217
< #line 3068 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3069 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19243c19245
< #line 3071
---
> #line 3072
19245c19247
< #line 3074
---
> #line 3075
19247,19248d19248
< #line 3078
<   ret = i915_gem_init_hws(dev);
19250c19250
<   if (ret != 0) {
---
>   ret = i915_gem_init_hws(dev);
19251a19252,19253
>   if (ret != 0) {
> #line 3081
19256,19257d19257
< #line 3082
<   obj = drm_gem_object_alloc(dev, 128 * 1024);
19259c19259
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_alloc(dev, 128 * 1024);
19261c19261
<     printk("<3>[drm:%s] *ERROR* Failed to allocate ringbuffer\n", "i915_gem_init_ringbuffer");
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
19262a19263,19264
>     printk("<3>[drm:%s] *ERROR* Failed to allocate ringbuffer\n", "i915_gem_init_ringbuffer");
> #line 3086
19267c19269
< #line 3087
---
> #line 3088
19269,19270d19270
< #line 3089
<   ret = i915_gem_object_pin(obj, 4096);
19272c19272
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, 4096);
19274c19274
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
19275a19276,19277
>     drm_gem_object_unreference(obj);
> #line 3093
19280,19281d19281
< #line 3096
<   ring->Size = obj->size;
19282a19283,19284
>   ring->Size = obj->size;
> #line 3098
19284,19285d19285
< #line 3099
<   ring->map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
19287c19287
<   ring->map.size = obj->size;
---
>   ring->map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
19289c19289
<   ring->map.type = 0;
---
>   ring->map.size = obj->size;
19291c19291
<   ring->map.flags = 0;
---
>   ring->map.type = 0;
19292a19293,19294
>   ring->map.flags = 0;
> #line 3104
19294,19295d19295
< #line 3105
<   drm_core_ioremap_wc(& ring->map, dev);
19297c19297
<   if ((unsigned long )ring->map.handle == (unsigned long )((void *)0)) {
---
>   drm_core_ioremap_wc(& ring->map, dev);
19299c19299
<     printk("<3>[drm:%s] *ERROR* Failed to map ringbuffer.\n", "i915_gem_init_ringbuffer");
---
>   if ((unsigned long )ring->map.handle == (unsigned long )((void *)0)) {
19301c19301
<     memset(& dev_priv->ring, 0, sizeof(dev_priv->ring));
---
>     printk("<3>[drm:%s] *ERROR* Failed to map ringbuffer.\n", "i915_gem_init_ringbuffer");
19303c19303
<     drm_gem_object_unreference(obj);
---
>     memset(& dev_priv->ring, 0, sizeof(dev_priv->ring));
19304a19305,19306
>     drm_gem_object_unreference(obj);
> #line 3111
19309,19310d19310
< #line 3112
<   ring->ring_obj = obj;
19311a19312,19313
>   ring->ring_obj = obj;
> #line 3114
19313,19314d19314
< #line 3116
<   writel(0, dev_priv->regs + 8252);
19316c19316
<   writel(0, dev_priv->regs + 8240);
---
>   writel(0, dev_priv->regs + 8252);
19317a19318,19319
>   writel(0, dev_priv->regs + 8240);
> #line 3119
19319,19320d19320
< #line 3121
<   writel(obj_priv->gtt_offset, dev_priv->regs + 8248);
19321a19322,19323
>   writel(obj_priv->gtt_offset, dev_priv->regs + 8248);
> #line 3123
19323c19325
< #line 3122
---
> #line 3123
19325,19326d19326
< #line 3125
<   if (head != (u32 )0) {
19327a19328,19329
>   if (head != (u32 )0) {
> #line 3127
19329c19331
< #line 3126
---
> #line 3127
19331c19333
< #line 3126
---
> #line 3127
19333c19335
< #line 3126
---
> #line 3127
19335c19337
< #line 3126
---
> #line 3127
19338c19340
< #line 3132
---
> #line 3133
19340c19342
< #line 3134
---
> #line 3135
19342c19344
< #line 3134
---
> #line 3135
19344c19346
< #line 3134
---
> #line 3135
19346c19348
< #line 3134
---
> #line 3135
19348c19350
< #line 3134
---
> #line 3135
19354c19356
< #line 3142
---
> #line 3143
19356c19358
< #line 3147
---
> #line 3148
19358c19360
< #line 3147
---
> #line 3148
19360,19361d19361
< #line 3150
<   if (head != (u32 )0) {
19362a19363,19364
>   if (head != (u32 )0) {
> #line 3152
19364c19366
< #line 3151
---
> #line 3152
19366c19368
< #line 3151
---
> #line 3152
19368c19370
< #line 3151
---
> #line 3152
19370c19372
< #line 3151
---
> #line 3152
19373c19375
< #line 3157
---
> #line 3158
19378c19380
< #line 3161
---
> #line 3162
19380c19382
< #line 3161
---
> #line 3162
19382c19384
< #line 3164
---
> #line 3165
19384,19385d19385
< #line 3164
<     ring->head = tmp___13 & 2097148U;
19386a19387,19388
>     ring->head = tmp___13 & 2097148U;
> #line 3166
19388,19389d19389
< #line 3165
<     ring->tail = tmp___14 & 2097144U;
19391c19391
<     ring->space = ring->head - (ring->tail + 8);
---
>     ring->tail = tmp___14 & 2097144U;
19393c19393
<     if (ring->space < 0) {
---
>     ring->space = ring->head - (ring->tail + 8);
19394a19395,19396
>     if (ring->space < 0) {
> #line 3169
19400c19402
< #line 3162
---
> #line 3163
19403c19405
< #line 3171
---
> #line 3172
19407c19409
< #line 3174 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3175 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19415c19417
< #line 3177
---
> #line 3178
19417,19418d19418
< #line 3179
<   if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
19419a19420,19421
>   if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
> #line 3181
19424c19426
< #line 3182
---
> #line 3183
19426,19427d19427
< #line 3184
<   i915_gem_object_unpin(dev_priv->ring.ring_obj);
19429c19429
<   drm_gem_object_unreference(dev_priv->ring.ring_obj);
---
>   i915_gem_object_unpin(dev_priv->ring.ring_obj);
19431c19431
<   dev_priv->ring.ring_obj = (void *)0;
---
>   drm_gem_object_unreference(dev_priv->ring.ring_obj);
19432a19433,19434
>   dev_priv->ring.ring_obj = (void *)0;
> #line 3188
19434,19435d19435
< #line 3189
<   if ((unsigned long )dev_priv->hws_obj != (unsigned long )((void *)0)) {
19437c19437
<     obj = dev_priv->hws_obj;
---
>   if ((unsigned long )dev_priv->hws_obj != (unsigned long )((void *)0)) {
19438a19439,19440
>     obj = dev_priv->hws_obj;
> #line 3192
19440c19442
< #line 3193
---
> #line 3194
19442c19444
< #line 3193
---
> #line 3194
19445,19446d19446
< #line 3194
<     i915_gem_object_unpin(obj);
19448c19448
<     drm_gem_object_unreference(obj);
---
>     i915_gem_object_unpin(obj);
19450c19450
<     dev_priv->hws_obj = (void *)0;
---
>     drm_gem_object_unreference(obj);
19452c19452
<     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
---
>     dev_priv->hws_obj = (void *)0;
19453a19454,19455
>     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
> #line 3199
19455c19457
< #line 3201
---
> #line 3202
19460c19462
< #line 3203
---
> #line 3204
19464c19466
< #line 3205 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3206 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19484c19486
< #line 3209
---
> #line 3210
19486c19488
< #line 3212
---
> #line 3213
19488,19489d19489
< #line 3212
<   if (tmp) {
19490a19491,19492
>   if (tmp) {
> #line 3214
19495,19496d19496
< #line 3215
<   if (dev_priv->mm.wedged) {
19498c19498
<     printk("<3>[drm:%s] *ERROR* Reenabling wedged hardware, good luck\n", "i915_gem_entervt_ioctl");
---
>   if (dev_priv->mm.wedged) {
19499a19500,19501
>     printk("<3>[drm:%s] *ERROR* Reenabling wedged hardware, good luck\n", "i915_gem_entervt_ioctl");
> #line 3218
19504,19505d19505
< #line 3220
<   ret = i915_gem_init_ringbuffer(dev);
19507c19507
<   if (ret != 0) {
---
>   ret = i915_gem_init_ringbuffer(dev);
19508a19509,19510
>   if (ret != 0) {
> #line 3223
19513c19515
< #line 3224
---
> #line 3225
19515,19516d19516
< #line 3228
<   mutex_lock(& dev->struct_mutex);
19517a19518,19519
>   mutex_lock(& dev->struct_mutex);
> #line 3230
19519c19521
< #line 3229
---
> #line 3230
19521c19523
< #line 3229
---
> #line 3230
19523c19525
< #line 3229
---
> #line 3230
19526c19528
< #line 3229
---
> #line 3230
19529c19531
< #line 3229
---
> #line 3230
19531c19533
< #line 3229
---
> #line 3230
19533c19535
< #line 3229
---
> #line 3230
19535c19537
< #line 3229
---
> #line 3230
19542,19543c19544,19545
<                              "i" (3229), "i" (sizeof(struct bug_entry )));
< #line 3229
---
>                              "i" (3230), "i" (sizeof(struct bug_entry )));
> #line 3230
19547c19549
< #line 3229
---
> #line 3230
19553c19555
< #line 3229
---
> #line 3230
19556c19558
< #line 3230
---
> #line 3231
19558c19560
< #line 3230
---
> #line 3231
19560c19562
< #line 3230
---
> #line 3231
19562c19564
< #line 3230
---
> #line 3231
19565c19567
< #line 3230
---
> #line 3231
19568c19570
< #line 3230
---
> #line 3231
19570c19572
< #line 3230
---
> #line 3231
19572c19574
< #line 3230
---
> #line 3231
19574c19576
< #line 3230
---
> #line 3231
19581,19582c19583,19584
<                              "i" (3230), "i" (sizeof(struct bug_entry )));
< #line 3230
---
>                              "i" (3231), "i" (sizeof(struct bug_entry )));
> #line 3231
19586c19588
< #line 3230
---
> #line 3231
19592c19594
< #line 3230
---
> #line 3231
19595c19597
< #line 3231
---
> #line 3232
19597c19599
< #line 3231
---
> #line 3232
19599c19601
< #line 3231
---
> #line 3232
19601c19603
< #line 3231
---
> #line 3232
19604c19606
< #line 3231
---
> #line 3232
19607c19609
< #line 3231
---
> #line 3232
19609c19611
< #line 3231
---
> #line 3232
19611c19613
< #line 3231
---
> #line 3232
19613c19615
< #line 3231
---
> #line 3232
19620,19621c19622,19623
<                              "i" (3231), "i" (sizeof(struct bug_entry )));
< #line 3231
---
>                              "i" (3232), "i" (sizeof(struct bug_entry )));
> #line 3232
19625c19627
< #line 3231
---
> #line 3232
19631c19633
< #line 3231
---
> #line 3232
19634c19636
< #line 3232
---
> #line 3233
19636c19638
< #line 3232
---
> #line 3233
19638c19640
< #line 3232
---
> #line 3233
19640c19642
< #line 3232
---
> #line 3233
19643c19645
< #line 3232
---
> #line 3233
19646c19648
< #line 3232
---
> #line 3233
19648c19650
< #line 3232
---
> #line 3233
19650c19652
< #line 3232
---
> #line 3233
19652c19654
< #line 3232
---
> #line 3233
19659,19660c19661,19662
<                              "i" (3232), "i" (sizeof(struct bug_entry )));
< #line 3232
---
>                              "i" (3233), "i" (sizeof(struct bug_entry )));
> #line 3233
19664c19666
< #line 3232
---
> #line 3233
19670c19672
< #line 3232
---
> #line 3233
19673,19674d19674
< #line 3233
<   dev_priv->mm.suspended = 0;
19675a19676,19677
>   dev_priv->mm.suspended = 0;
> #line 3235
19677c19679
< #line 3236
---
> #line 3237
19679c19681
< #line 3238
---
> #line 3239
19683c19685
< #line 3241 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3242 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19691c19693
< #line 3245
---
> #line 3246
19693c19695
< #line 3248
---
> #line 3249
19695,19696d19696
< #line 3248
<   if (tmp) {
19697a19698,19699
>   if (tmp) {
> #line 3250
19702,19703d19703
< #line 3251
<   ret = i915_gem_idle(dev);
19704a19705,19706
>   ret = i915_gem_idle(dev);
> #line 3253
19706,19707d19707
< #line 3254
<   io_mapping_free(dev_priv->mm.gtt_mapping);
19708a19709,19710
>   io_mapping_free(dev_priv->mm.gtt_mapping);
> #line 3256
19712c19714
< #line 3258 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3259 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19718,19719d19719
< #line 3263
<   ret = i915_gem_idle(dev);
19721c19721
<   if (ret) {
---
>   ret = i915_gem_idle(dev);
19722a19723,19724
>   if (ret) {
> #line 3266
19728c19730
< #line 3266
---
> #line 3267
19732c19734
< #line 3268 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 3269 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
19739c19741
< #line 3271
---
> #line 3272
19741,19742d19742
< #line 3273
<   INIT_LIST_HEAD(& dev_priv->mm.active_list);
19744c19744
<   INIT_LIST_HEAD(& dev_priv->mm.flushing_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.active_list);
19746c19746
<   INIT_LIST_HEAD(& dev_priv->mm.inactive_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.flushing_list);
19748c19748
<   INIT_LIST_HEAD(& dev_priv->mm.request_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.inactive_list);
19749a19750,19751
>   INIT_LIST_HEAD(& dev_priv->mm.request_list);
> #line 3278
19751c19753
< #line 3277
---
> #line 3278
19753c19755
< #line 3277
---
> #line 3278
19755c19757
< #line 3277
---
> #line 3278
19757c19759
< #line 3277
---
> #line 3278
19759c19761
< #line 3277
---
> #line 3278
19761c19763
< #line 3277
---
> #line 3278
19763c19765
< #line 3277
---
> #line 3278
19766c19768
< #line 3277
---
> #line 3278
19769c19771
< #line 3277
---
> #line 3278
19771c19773
< #line 3277
---
> #line 3278
19774c19776
< #line 3279
---
> #line 3280
19776c19778
< #line 3282
---
> #line 3283
19778,19779d19779
< #line 3284
<   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
19780a19781,19782
>   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 3286
19783c19785
< #line 3287
---
> #line 3288
19786,19787d19787
< #line 3289
<   i915_gem_detect_bit_6_swizzle(dev);
19788a19789,19790
>   i915_gem_detect_bit_6_swizzle(dev);
> #line 3291
