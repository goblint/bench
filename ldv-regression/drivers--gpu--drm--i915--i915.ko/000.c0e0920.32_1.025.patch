3970c3970
< #line 406 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 409 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
3975c3975
< #line 406 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 409 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4276a4277
>    uint32_t agp_type ;
4279c4280
< #line 393 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 396 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4290c4291
< #line 1789 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1790 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
4403c4404
< #line 1134
---
> #line 1135
4405c4406
< #line 413 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 416 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4407c4408
< #line 414
---
> #line 417
4409c4410
< #line 418
---
> #line 421
4411c4412
< #line 419
---
> #line 422
4413c4414
< #line 420
---
> #line 423
4415c4416
< #line 421
---
> #line 424
4417c4418
< #line 422
---
> #line 425
4419c4420
< #line 424
---
> #line 427
4421c4422
< #line 426
---
> #line 429
4423c4424
< #line 427
---
> #line 430
4425c4426
< #line 442
---
> #line 445
4427c4428
< #line 443
---
> #line 446
4429c4430
< #line 444
---
> #line 447
4431c4432
< #line 445
---
> #line 448
4433c4434
< #line 450
---
> #line 453
4435c4436
< #line 451
---
> #line 454
4437c4438
< #line 452
---
> #line 455
4439c4440
< #line 503
---
> #line 506
4441c4442
< #line 504
---
> #line 507
4443c4444
< #line 505
---
> #line 508
4445c4446
< #line 506
---
> #line 509
4447c4448
< #line 532
---
> #line 535
4449c4450
< #line 533
---
> #line 536
4451c4452
< #line 540
---
> #line 543
4453c4454
< #line 541
---
> #line 544
5199c5200
< #line 1125 "include/drm/drmP.h"
---
> #line 1126 "include/drm/drmP.h"
5201c5202
< #line 1127
---
> #line 1128
5203c5204
< #line 1142
---
> #line 1143
5205c5206
< #line 1199
---
> #line 1200
5207c5208
< #line 1206
---
> #line 1207
5209c5210
< #line 1227
---
> #line 1228
5212c5213
< #line 1230
---
> #line 1231
5214c5215
< #line 1315
---
> #line 1316
5216c5217
< #line 1317
---
> #line 1318
5218c5219
< #line 1353 "include/drm/drmP.h"
---
> #line 1354 "include/drm/drmP.h"
5224c5225
< #line 1355
---
> #line 1356
5226c5227
< #line 1355
---
> #line 1356
5230c5231
< #line 1359 "include/drm/drmP.h"
---
> #line 1360 "include/drm/drmP.h"
5236,5237d5236
< #line 1361
<   kfree(pt);
5238a5238,5239
>   kfree(pt);
> #line 1363
5242c5243
< #line 417 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 420 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
5244c5245
< #line 429
---
> #line 432
5247c5248
< #line 434
---
> #line 437
5249c5250
< #line 436
---
> #line 439
5251c5252
< #line 446
---
> #line 449
5253c5254
< #line 448
---
> #line 451
5255c5256
< #line 453
---
> #line 456
5257c5258
< #line 458
---
> #line 461
5259c5260
< #line 460
---
> #line 463
5261c5262
< #line 462
---
> #line 465
5263c5264
< #line 464
---
> #line 467
5265c5266
< #line 466
---
> #line 469
5267,5268d5267
< #line 467
< void i915_mem_release(struct drm_device *dev , struct drm_file *file_priv , struct mem_block *heap ) ;
5269a5269,5270
> void i915_mem_release(struct drm_device *dev , struct drm_file *file_priv , struct mem_block *heap ) ;
> #line 473
5271c5272
< #line 472
---
> #line 475
5273c5274
< #line 474
---
> #line 477
5275c5276
< #line 476
---
> #line 479
5277c5278
< #line 478
---
> #line 481
5279c5280
< #line 480
---
> #line 483
5281c5282
< #line 482
---
> #line 485
5283c5284
< #line 484
---
> #line 487
5285c5286
< #line 486
---
> #line 489
5287c5288
< #line 488
---
> #line 491
5289c5290
< #line 490
---
> #line 493
5291c5292
< #line 492
---
> #line 495
5293c5294
< #line 494
---
> #line 497
5295c5296
< #line 496
---
> #line 499
5297c5298
< #line 498
---
> #line 501
5299c5300
< #line 500
---
> #line 503
5301c5302
< #line 502
---
> #line 505
5303c5304
< #line 509
---
> #line 512
5305c5306
< #line 613
---
> #line 616
8074c8075
< #line 1072 "include/drm/drmP.h"
---
> #line 1073 "include/drm/drmP.h"
8076c8077
< #line 1147
---
> #line 1148
8078c8079
< #line 1151
---
> #line 1152
8080,8081d8080
< #line 1153
< extern u32 drm_vblank_count(struct drm_device *dev , int crtc ) ;
8083c8082
< extern void drm_handle_vblank(struct drm_device *dev , int crtc ) ;
---
> extern u32 drm_vblank_count(struct drm_device *dev , int crtc ) ;
8085c8084
< extern int drm_vblank_get(struct drm_device *dev , int crtc ) ;
---
> extern void drm_handle_vblank(struct drm_device *dev , int crtc ) ;
8086a8086,8087
> extern int drm_vblank_get(struct drm_device *dev , int crtc ) ;
> #line 1157
8088c8089
< #line 1365 "include/drm/drmP.h"
---
> #line 1366 "include/drm/drmP.h"
8094c8095
< #line 1367
---
> #line 1368
8096c8097
< #line 1367
---
> #line 1368
8100c8101
< #line 438 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 441 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
8102c8103
< #line 439
---
> #line 442
8104c8105
< #line 441
---
> #line 444
8106c8107
< #line 455
---
> #line 458
8108c8109
< #line 510
---
> #line 513
8110c8111
< #line 542
---
> #line 545
8112c8113
< #line 543
---
> #line 546
12586a12588,12589
> #line 130 "include/linux/kernel.h"
> extern void __might_sleep(char *file , int line ) ;
12768a12772,12781
> #line 584 "include/linux/mm.h"
> __inline static void *( __attribute__((__always_inline__)) lowmem_page_address)(struct page *page ) 
> { 
> 
> 
>   {
> #line 586
>   return ((void *)((unsigned long )((page - (struct page *)0xffffe20000000000UL) << 12) + 0xffff880000000000UL));
> }
> }
12807a12821,12844
> #line 39 "include/linux/highmem.h"
> __inline static void *kmap(struct page *page ) 
> { 
>   void *tmp ;
> 
>   {
> #line 41
>   while (1) {
> #line 41
>     __might_sleep("include/linux/highmem.h", 41);
> #line 41
>     while (1) {
> #line 41
>       break;
>     }
> #line 41
>     break;
>   }
> #line 42
>   tmp = lowmem_page_address(page);
> #line 42
>   return (tmp);
> }
> }
12831,12832c12868,12870
<                                              unsigned long num_pages , uint32_t gtt_offset ) ;
< #line 1020
---
>                                              unsigned long num_pages , uint32_t gtt_offset ,
>                                              uint32_t type ) ;
> #line 1021
12834c12872
< #line 1083
---
> #line 1084
12836c12874
< #line 1141
---
> #line 1142
12838c12876
< #line 1192
---
> #line 1193
12840c12878
< #line 1242
---
> #line 1243
12843,12844d12880
< #line 1245
< extern void drm_mm_put_block(struct drm_mm_node *cur ) ;
12845a12882,12883
> extern void drm_mm_put_block(struct drm_mm_node *cur ) ;
> #line 1247
12848c12886
< #line 1248
---
> #line 1249
12850,12851d12887
< #line 1257
< extern void drm_gem_object_free(struct kref *kref ) ;
12852a12889,12890
> extern void drm_gem_object_free(struct kref *kref ) ;
> #line 1259
12854c12892
< #line 1260
---
> #line 1261
12856c12894
< #line 1262 "include/drm/drmP.h"
---
> #line 1263 "include/drm/drmP.h"
12862,12863d12899
< #line 1265
<   kref_get(& obj->refcount);
12864a12901,12902
>   kref_get(& obj->refcount);
> #line 1267
12868c12906
< #line 1268 "include/drm/drmP.h"
---
> #line 1269 "include/drm/drmP.h"
12874,12875d12911
< #line 1271
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
12876a12913,12914
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 1273
12881,12882d12918
< #line 1274
<   kref_put(& obj->refcount, & drm_gem_object_free);
12883a12920,12921
>   kref_put(& obj->refcount, & drm_gem_object_free);
> #line 1276
12887c12925
< #line 1277
---
> #line 1278
12890c12928
< #line 1288 "include/drm/drmP.h"
---
> #line 1289 "include/drm/drmP.h"
12896,12897d12933
< #line 1291
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
12898a12935,12936
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 1293
12903,12904d12940
< #line 1299
<   kref_put(& obj->handlecount, & drm_gem_object_handle_free);
12906c12942
<   drm_gem_object_unreference(obj);
---
>   kref_put(& obj->handlecount, & drm_gem_object_handle_free);
12907a12944,12945
>   drm_gem_object_unreference(obj);
> #line 1302
12911c12949
< #line 1303
---
> #line 1304
12914c12952
< #line 1316
---
> #line 1317
12916c12954
< #line 507 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 510 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
12918,12919d12955
< #line 508
< void i915_gem_object_unpin(struct drm_gem_object *obj ) ;
12920a12957,12958
> void i915_gem_object_unpin(struct drm_gem_object *obj ) ;
> #line 514
12922c12960
< #line 512
---
> #line 515
12924,12925d12961
< #line 513
< void i915_gem_clflush_object(struct drm_gem_object *obj ) ;
12926a12963,12964
> void i915_gem_clflush_object(struct drm_gem_object *obj ) ;
> #line 519
14947,14949c14985
<                                          obj_priv->gtt_offset);
< #line 1163
<   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
---
>                                          obj_priv->gtt_offset, obj_priv->agp_type);
14951c14987
<     i915_gem_object_free_page_list(obj);
---
>   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
14953c14989
<     drm_mm_put_block(obj_priv->gtt_space);
---
>     i915_gem_object_free_page_list(obj);
14955c14991
<     obj_priv->gtt_space = (void *)0;
---
>     drm_mm_put_block(obj_priv->gtt_space);
14956a14993,14994
>     obj_priv->gtt_space = (void *)0;
> #line 1168
14961,14962d14998
< #line 1169
<   atomic_inc(& dev->gtt_count);
14963a15000,15001
>   atomic_inc(& dev->gtt_count);
> #line 1171
14965c15003
< #line 1176
---
> #line 1177
14967c15005
< #line 1176
---
> #line 1177
14970c15008
< #line 1176
---
> #line 1177
14972c15010
< #line 1176
---
> #line 1177
14974c15012
< #line 1176
---
> #line 1177
14981,14982c15019,15020
<                              "i" (1176), "i" (sizeof(struct bug_entry )));
< #line 1176
---
>                              "i" (1177), "i" (sizeof(struct bug_entry )));
> #line 1177
14986c15024
< #line 1176
---
> #line 1177
14992c15030
< #line 1176
---
> #line 1177
14995c15033
< #line 1177
---
> #line 1178
14997c15035
< #line 1177
---
> #line 1178
15000c15038
< #line 1177
---
> #line 1178
15002c15040
< #line 1177
---
> #line 1178
15004c15042
< #line 1177
---
> #line 1178
15011,15012c15049,15050
<                              "i" (1177), "i" (sizeof(struct bug_entry )));
< #line 1177
---
>                              "i" (1178), "i" (sizeof(struct bug_entry )));
> #line 1178
15016c15054
< #line 1177
---
> #line 1178
15022c15060
< #line 1177
---
> #line 1178
15025c15063
< #line 1179
---
> #line 1180
15029c15067
< #line 1182 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1183 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15035c15073
< #line 1185
---
> #line 1186
15037,15038d15074
< #line 1191
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
15039a15076,15077
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
> #line 1193
15044,15045d15081
< #line 1194
<   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
15046a15083,15084
>   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
> #line 1196
15050c15088
< #line 1308 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1309 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15061,15062d15098
< #line 1313
<   dev = obj->dev;
15064c15100
<   obj_priv = obj->driver_private;
---
>   dev = obj->dev;
15066c15102
<   invalidate_domains = 0;
---
>   obj_priv = obj->driver_private;
15067a15104,15105
>   invalidate_domains = 0;
> #line 1317
15069,15070d15106
< #line 1329
<   if (write_domain == (uint32_t )0) {
15071a15108,15109
>   if (write_domain == (uint32_t )0) {
> #line 1331
15074c15112
< #line 1332
---
> #line 1333
15077,15078d15114
< #line 1340
<   if (obj->write_domain && obj->write_domain != read_domains) {
15080c15116
<     flush_domains = flush_domains | obj->write_domain;
---
>   if (obj->write_domain && obj->write_domain != read_domains) {
15081a15118,15119
>     flush_domains = flush_domains | obj->write_domain;
> #line 1343
15086,15087d15123
< #line 1348
<   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
15088a15125,15126
>   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
> #line 1350
15090c15128
< #line 1359
---
> #line 1360
15092,15093d15129
< #line 1362
<       ret = i915_gem_object_wait_rendering(obj);
15095c15131
<       if (ret) {
---
>       ret = i915_gem_object_wait_rendering(obj);
15096a15133,15134
>       if (ret) {
> #line 1365
15104c15142
< #line 1366
---
> #line 1367
15109,15110d15146
< #line 1369
<   if ((write_domain | flush_domains) != 0U) {
15111a15148,15149
>   if ((write_domain | flush_domains) != 0U) {
> #line 1371
15116c15154
< #line 1375
---
> #line 1376
15118c15156
< #line 1378
---
> #line 1379
15120c15158
< #line 1380
---
> #line 1381
15125c15163
< #line 1382
---
> #line 1383
15127,15128d15164
< #line 1384
<   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
15129a15166,15167
>   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
> #line 1386
15131c15169
< #line 1392
---
> #line 1393
15135c15173
< #line 1401 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1402 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15147c15185
< #line 1408
---
> #line 1409
15149,15150d15186
< #line 1411
<   if (obj->read_domains & 1U) {
15151a15188,15189
>   if (obj->read_domains & 1U) {
> #line 1413
15156c15194
< #line 1414
---
> #line 1415
15158c15196
< #line 1416
---
> #line 1417
15160c15198
< #line 1416
---
> #line 1417
15165,15166d15202
< #line 1420
<   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15168c15204
<     ret = i915_gem_object_wait_rendering(obj);
---
>   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15170c15206
<     if (ret) {
---
>     ret = i915_gem_object_wait_rendering(obj);
15171a15208,15209
>     if (ret) {
> #line 1424
15179,15180d15216
< #line 1426
<   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
15181a15218,15219
>   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
> #line 1428
15183c15221
< #line 1427
---
> #line 1428
15188c15226
< #line 1434
---
> #line 1435
15190c15228
< #line 1434
---
> #line 1435
15192c15230
< #line 1434
---
> #line 1435
15196c15234
< #line 1434
---
> #line 1435
15199,15200d15236
< #line 1435
<     if (*(obj_priv->page_cpu_valid + i)) {
15201a15238,15239
>     if (*(obj_priv->page_cpu_valid + i)) {
> #line 1437
15206c15244
< #line 1438
---
> #line 1439
15208c15246
< #line 1440
---
> #line 1441
15211c15249
< #line 1434
---
> #line 1435
15214c15252
< #line 1443
---
> #line 1444
15218c15256
< #line 1452 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1453 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15224c15262
< #line 1455
---
> #line 1456
15226c15264
< #line 1461
---
> #line 1462
15228c15266
< #line 1468
---
> #line 1469
15230,15231d15267
< #line 1471
<     dev->invalidate_domains = 0;
15232a15269,15270
>     dev->invalidate_domains = 0;
> #line 1473
15237c15275
< #line 1475
---
> #line 1476
15241c15279
< #line 1481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1482 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15262c15300
< #line 1486
---
> #line 1487
15264c15302
< #line 1489
---
> #line 1490
15266,15267d15303
< #line 1491
<   last_reloc_offset = -1;
15268a15305,15306
>   last_reloc_offset = -1;
> #line 1493
15270,15271d15307
< #line 1495
<   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15273c15309
<   if (ret) {
---
>   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15274a15311,15312
>   if (ret) {
> #line 1498
15279c15317
< #line 1499
---
> #line 1500
15281c15319
< #line 1501
---
> #line 1502
15283c15321
< #line 1506
---
> #line 1507
15285c15323
< #line 1506
---
> #line 1507
15287c15325
< #line 1506
---
> #line 1507
15291c15329
< #line 1506
---
> #line 1507
15294c15332
< #line 1512
---
> #line 1513
15296,15297d15333
< #line 1512
<     ret = tmp;
15299c15335
<     if (ret != 0) {
---
>     ret = tmp;
15301c15337
<       i915_gem_object_unpin(obj);
---
>     if (ret != 0) {
15302a15339,15340
>       i915_gem_object_unpin(obj);
> #line 1516
15307c15345
< #line 1518
---
> #line 1519
15309,15310d15346
< #line 1520
<     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15312c15348
<       i915_gem_object_unpin(obj);
---
>     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15313a15350,15351
>       i915_gem_object_unpin(obj);
> #line 1523
15318c15356
< #line 1524
---
> #line 1525
15320,15321d15357
< #line 1529
<     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
15322a15359,15360
>     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
> #line 1531
15325,15326d15362
< #line 1532
<       drm_gem_object_unreference(target_obj);
15328c15364
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15329a15366,15367
>       i915_gem_object_unpin(obj);
> #line 1535
15334,15335d15371
< #line 1537
<     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
15336a15373,15374
>     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
> #line 1539
15340,15341d15377
< #line 1542
<       drm_gem_object_unreference(target_obj);
15343c15379
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15344a15381,15382
>       i915_gem_object_unpin(obj);
> #line 1545
15349,15350d15386
< #line 1546
<     if (reloc.offset & 3ULL) {
15351a15388,15389
>     if (reloc.offset & 3ULL) {
> #line 1548
15354,15355d15391
< #line 1551
<       drm_gem_object_unreference(target_obj);
15357c15393
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15358a15395,15396
>       i915_gem_object_unpin(obj);
> #line 1554
15363c15401
< #line 1556
---
> #line 1557
15365c15403
< #line 1558
---
> #line 1559
15369,15370d15406
< #line 1565
<       drm_gem_object_unreference(target_obj);
15372c15408
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15373a15410,15411
>       i915_gem_object_unpin(obj);
> #line 1568
15378,15379d15415
< #line 1585
<     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
15380a15417,15418
>     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
> #line 1587
15382,15383d15419
< #line 1591
<     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15385c15421
<       drm_gem_object_unreference(target_obj);
---
>     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15386a15423,15424
>       drm_gem_object_unreference(target_obj);
> #line 1594
15391c15429
< #line 1600
---
> #line 1601
15393,15394d15430
< #line 1605
<     if (obj->write_domain & 1U) {
15396c15432
<       i915_gem_clflush_object(obj);
---
>     if (obj->write_domain & 1U) {
15398c15434
<       drm_agp_chipset_flush(dev);
---
>       i915_gem_clflush_object(obj);
15399a15436,15437
>       drm_agp_chipset_flush(dev);
> #line 1609
15404,15405d15441
< #line 1614
<     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
15406a15443,15444
>     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
> #line 1616
15408,15409d15445
< #line 1618
<       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15410a15447,15448
>       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1620
15415c15453
< #line 1621
---
> #line 1622
15418,15419d15455
< #line 1625
<       last_reloc_offset = reloc_offset;
15421c15457
<       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
---
>       last_reloc_offset = reloc_offset;
15423c15459
<         drm_gem_object_unreference(target_obj);
---
>       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
15425c15461
<         i915_gem_object_unpin(obj);
---
>         drm_gem_object_unreference(target_obj);
15426a15463,15464
>         i915_gem_object_unpin(obj);
> #line 1630
15434c15472
< #line 1633
---
> #line 1634
15436c15474
< #line 1635
---
> #line 1636
15438c15476
< #line 1642
---
> #line 1643
15440,15441d15477
< #line 1647
<     reloc.presumed_offset = target_obj_priv->gtt_offset;
15442a15479,15480
>     reloc.presumed_offset = target_obj_priv->gtt_offset;
> #line 1649
15444,15445d15481
< #line 1648
<     ret = tmp___0;
15447c15483
<     if (ret != 0) {
---
>     ret = tmp___0;
15449c15485
<       drm_gem_object_unreference(target_obj);
---
>     if (ret != 0) {
15451c15487
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15452a15489,15490
>       i915_gem_object_unpin(obj);
> #line 1653
15457c15495
< #line 1655
---
> #line 1656
15460c15498
< #line 1506
---
> #line 1507
15463,15464d15500
< #line 1658
<   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15465a15502,15503
>   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1660
15470c15508
< #line 1665
---
> #line 1666
15474c15512
< #line 1670 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1671 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15493,15494d15530
< #line 1675
<   dev_priv = dev->dev_private;
15495a15532,15533
>   dev_priv = dev->dev_private;
> #line 1677
15497,15498d15534
< #line 1678
<   nbox = exec->num_cliprects;
15499a15536,15537
>   nbox = exec->num_cliprects;
> #line 1680
15501,15502d15538
< #line 1683
<   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
15503a15540,15541
>   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
> #line 1685
15505,15506d15542
< #line 1686
<   if ((exec_start | exec_len) & 7U) {
15508c15544
<     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
---
>   if ((exec_start | exec_len) & 7U) {
15509a15546,15547
>     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
> #line 1689
15514,15515d15551
< #line 1691
<   if (! exec_start) {
15516a15553,15554
>   if (! exec_start) {
> #line 1693
15521c15559
< #line 1694
---
> #line 1695
15523c15561
< #line 1696
---
> #line 1697
15525c15563
< #line 1696
---
> #line 1697
15527c15565
< #line 1696
---
> #line 1697
15531c15569
< #line 1696
---
> #line 1697
15534,15535d15571
< #line 1697
<     if (i < nbox) {
15536a15573,15574
>     if (i < nbox) {
> #line 1699
15538c15576
< #line 1698
---
> #line 1699
15540,15541d15577
< #line 1700
<       if (ret) {
15542a15579,15580
>       if (ret) {
> #line 1702
15550,15551d15587
< #line 1704
<     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
15552a15589,15590
>     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
> #line 1706
15554c15592
< #line 1705
---
> #line 1706
15556c15594
< #line 1705
---
> #line 1706
15561,15573d15598
< #line 1705
<         outcount = 0;
< #line 1705
<         outring = dev_priv->ring.tail;
< #line 1705
<         ringmask = dev_priv->ring.tail_mask;
< #line 1705
<         virt = dev_priv->ring.virtual_start;
< #line 1705
<         break;
<       }
< #line 1706
<       while (1) {
15575c15600
<         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
---
>         outcount = 0;
15577c15602
<         outcount = outcount + 1U;
---
>         outring = dev_priv->ring.tail;
15579c15604
<         outring = outring + 4U;
---
>         ringmask = dev_priv->ring.tail_mask;
15581c15606
<         outring = outring & ringmask;
---
>         virt = dev_priv->ring.virtual_start;
15588c15613
<         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
---
>         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
15601c15626
<         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
---
>         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
15614c15639
<         *((unsigned int volatile   *)(virt + outring)) = 0;
---
>         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
15627c15652
<         dev_priv->ring.tail = outring;
---
>         *((unsigned int volatile   *)(virt + outring)) = 0;
15629c15654
<         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>         outcount = outcount + 1U;
15631c15656,15658
<         writel(outring, dev_priv->regs + 8240);
---
>         outring = outring + 4U;
> #line 1710
>         outring = outring & ringmask;
15634a15662,15672
> #line 1711
>       while (1) {
> #line 1711
>         dev_priv->ring.tail = outring;
> #line 1711
>         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 1711
>         writel(outring, dev_priv->regs + 8240);
> #line 1711
>         break;
>       }
15636c15674
< #line 1712
---
> #line 1713
15638c15676
< #line 1712
---
> #line 1713
15640c15678
< #line 1712
---
> #line 1713
15645c15683
< #line 1712
---
> #line 1713
15647c15685
< #line 1712
---
> #line 1713
15649c15687
< #line 1712
---
> #line 1713
15651c15689
< #line 1712
---
> #line 1713
15653c15691
< #line 1712
---
> #line 1713
15656,15657d15693
< #line 1713
<       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
15658a15695,15696
>       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 1715
15660c15698
< #line 1714
---
> #line 1715
15662c15700
< #line 1714
---
> #line 1715
15664c15702
< #line 1714
---
> #line 1715
15666c15704
< #line 1714
---
> #line 1715
15668c15706
< #line 1714
---
> #line 1715
15671c15709
< #line 1717
---
> #line 1718
15673c15711
< #line 1717
---
> #line 1718
15675c15713
< #line 1717
---
> #line 1718
15677c15715
< #line 1717
---
> #line 1718
15679c15717
< #line 1717
---
> #line 1718
15681c15719
< #line 1717
---
> #line 1718
15685c15723
< #line 1719
---
> #line 1720
15687c15725
< #line 1719
---
> #line 1720
15689c15727
< #line 1719
---
> #line 1720
15691c15729
< #line 1719
---
> #line 1720
15693c15731
< #line 1719
---
> #line 1720
15695c15733
< #line 1719
---
> #line 1720
15698c15736
< #line 1721
---
> #line 1722
15700c15738
< #line 1721
---
> #line 1722
15702c15740
< #line 1721
---
> #line 1722
15704c15742
< #line 1721
---
> #line 1722
15706c15744
< #line 1721
---
> #line 1722
15708c15746
< #line 1721
---
> #line 1722
15712c15750
< #line 1723
---
> #line 1724
15714c15752
< #line 1723
---
> #line 1724
15716c15754
< #line 1723
---
> #line 1724
15718c15756
< #line 1723
---
> #line 1724
15720c15758
< #line 1723
---
> #line 1724
15724c15762
< #line 1696
---
> #line 1697
15727c15765
< #line 1728
---
> #line 1729
15731c15769
< #line 1737 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1738 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15739,15740d15776
< #line 1740
<   i915_file_priv = file_priv->driver_priv;
15741a15778,15779
>   i915_file_priv = file_priv->driver_priv;
> #line 1742
15743,15744d15780
< #line 1744
<   mutex_lock(& dev->struct_mutex);
15746c15782
<   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
---
>   mutex_lock(& dev->struct_mutex);
15747a15784,15785
>   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
> #line 1747
15749,15750d15786
< #line 1748
<   if (seqno) {
15751a15788,15789
>   if (seqno) {
> #line 1750
15756,15757d15793
< #line 1750
<   mutex_unlock(& dev->struct_mutex);
15758a15795,15796
>   mutex_unlock(& dev->struct_mutex);
> #line 1752
15762c15800
< #line 1754 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1755 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15788,15789d15825
< #line 1758
<   dev_priv = dev->dev_private;
15791c15827
<   i915_file_priv = file_priv->driver_priv;
---
>   dev_priv = dev->dev_private;
15793c15829
<   args = data;
---
>   i915_file_priv = file_priv->driver_priv;
15795c15831
<   exec_list = (void *)0;
---
>   args = data;
15796a15833,15834
>   exec_list = (void *)0;
> #line 1763
15798c15836
< #line 1764
---
> #line 1765
15800,15801d15837
< #line 1773
<   if (args->buffer_count < (uint32_t )1) {
15802a15839,15840
>   if (args->buffer_count < (uint32_t )1) {
> #line 1775
15805c15843
< #line 1775
---
> #line 1776
15810c15848
< #line 1778
---
> #line 1779
15812c15850
< #line 1778
---
> #line 1779
15814c15852
< #line 1780
---
> #line 1781
15816c15854
< #line 1780
---
> #line 1781
15818,15819d15855
< #line 1782
<   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
15820a15857,15858
>   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
> #line 1784
15823,15824d15860
< #line 1786
<     ret = -12;
15825a15862,15863
>     ret = -12;
> #line 1788
15830c15868
< #line 1789
---
> #line 1790
15833c15871
< #line 1789
---
> #line 1790
15835,15836d15872
< #line 1793
<   if (ret != 0) {
15837a15874,15875
>   if (ret != 0) {
> #line 1795
15840c15878
< #line 1796
---
> #line 1797
15845c15883
< #line 1799
---
> #line 1800
15847,15848d15884
< #line 1803
<   if (dev_priv->mm.wedged) {
15850c15886
<     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.wedged) {
15852c15888
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
15853a15890,15891
>     mutex_unlock(& dev->struct_mutex);
> #line 1807
15858,15859d15895
< #line 1809
<   if (dev_priv->mm.suspended) {
15861c15897
<     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.suspended) {
15863c15899
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
15864a15901,15902
>     mutex_unlock(& dev->struct_mutex);
> #line 1813
15869,15870d15906
< #line 1819
<   dev->invalidate_domains = 0;
15871a15908,15909
>   dev->invalidate_domains = 0;
> #line 1821
15873c15911
< #line 1823
---
> #line 1824
15875c15913
< #line 1823
---
> #line 1824
15877c15915
< #line 1823
---
> #line 1824
15881c15919
< #line 1823
---
> #line 1824
15884c15922
< #line 1824
---
> #line 1825
15886,15887d15923
< #line 1826
<     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
15888a15925,15926
>     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
> #line 1828
15891,15892d15928
< #line 1829
<       ret = -9;
15893a15930,15931
>       ret = -9;
> #line 1831
15898,15899d15935
< #line 1833
<     (*(object_list + i))->pending_read_domains = 0;
15901c15937
<     (*(object_list + i))->pending_write_domain = 0;
---
>     (*(object_list + i))->pending_read_domains = 0;
15902a15939,15940
>     (*(object_list + i))->pending_write_domain = 0;
> #line 1836
15904,15905d15941
< #line 1838
<     if (ret) {
15906a15943,15944
>     if (ret) {
> #line 1840
15909c15947
< #line 1840
---
> #line 1841
15914c15952
< #line 1842
---
> #line 1843
15916c15954
< #line 1823
---
> #line 1824
15919,15920d15956
< #line 1846
<   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
15922c15958
<   batch_obj->pending_read_domains = 8;
---
>   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
15923a15960,15961
>   batch_obj->pending_read_domains = 8;
> #line 1849
15925c15963
< #line 1852
---
> #line 1853
15927c15965
< #line 1852
---
> #line 1853
15929c15967
< #line 1852
---
> #line 1853
15933c15971
< #line 1852
---
> #line 1853
15936,15937d15973
< #line 1853
<     obj = *(object_list + i);
15938a15975,15976
>     obj = *(object_list + i);
> #line 1855
15940c15978
< #line 1856
---
> #line 1857
15942,15943d15979
< #line 1862
<       ret = -12;
15944a15981,15982
>       ret = -12;
> #line 1864
15949c15987
< #line 1867
---
> #line 1868
15951,15952d15988
< #line 1870
<     if (ret) {
15953a15990,15991
>     if (ret) {
> #line 1872
15958c15996
< #line 1852
---
> #line 1853
15961c15999
< #line 1877
---
> #line 1878
15963c16001
< #line 1888
---
> #line 1889
15965c16003
< #line 1897
---
> #line 1898
15967,15968d16004
< #line 1900
<   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
15970c16006
<   if (ret) {
---
>   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
15972c16008
<     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
---
>   if (ret) {
15973a16010,16011
>     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
> #line 1904
15978c16016
< #line 1910
---
> #line 1911
15980,15981d16017
< #line 1921
<   seqno = i915_add_request(dev, flush_domains);
15982a16019,16020
>   seqno = i915_add_request(dev, flush_domains);
> #line 1923
15984c16022
< #line 1922
---
> #line 1923
15986c16024
< #line 1922
---
> #line 1923
15988c16026
< #line 1922
---
> #line 1923
15990c16028
< #line 1922
---
> #line 1923
15997,15998c16035,16036
<                              "i" (1922), "i" (sizeof(struct bug_entry )));
< #line 1922
---
>                              "i" (1923), "i" (sizeof(struct bug_entry )));
> #line 1923
16002c16040
< #line 1922
---
> #line 1923
16008c16046
< #line 1922
---
> #line 1923
16011,16012d16048
< #line 1923
<   i915_file_priv->mm.last_gem_seqno = seqno;
16013a16050,16051
>   i915_file_priv->mm.last_gem_seqno = seqno;
> #line 1925
16015c16053
< #line 1924
---
> #line 1925
16017c16055
< #line 1924
---
> #line 1925
16021c16059
< #line 1924
---
> #line 1925
16024,16025d16061
< #line 1925
<     obj___0 = *(object_list + i);
16026a16063,16064
>     obj___0 = *(object_list + i);
> #line 1927
16028,16029d16065
< #line 1928
<     i915_gem_object_move_to_active(obj___0);
16030a16067,16068
>     i915_gem_object_move_to_active(obj___0);
> #line 1930
16032c16070
< #line 1924
---
> #line 1925
16035c16073
< #line 1941
---
> #line 1942
16038c16076
< #line 1941
---
> #line 1942
16040,16041d16077
< #line 1945
<   if (ret) {
16042a16079,16080
>   if (ret) {
> #line 1947
16049,16050d16086
< #line 1950
<   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
16051a16088,16089
>   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
> #line 1952
16053c16091
< #line 1951
---
> #line 1952
16055c16093
< #line 1951
---
> #line 1952
16059c16097
< #line 1951
---
> #line 1952
16062c16100
< #line 1952
---
> #line 1953
16064c16102
< #line 1951
---
> #line 1952
16067c16105
< #line 1954
---
> #line 1955
16069c16107
< #line 1954
---
> #line 1955
16071c16109
< #line 1954
---
> #line 1955
16075c16113
< #line 1954
---
> #line 1955
16078c16116
< #line 1955
---
> #line 1956
16080c16118
< #line 1954
---
> #line 1955
16086c16124
< #line 1957
---
> #line 1958
16089c16127
< #line 1960
---
> #line 1961
16092c16130
< #line 1962
---
> #line 1963
16094c16132
< #line 1965
---
> #line 1966
16098c16136
< #line 1968 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1969 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16107,16108d16144
< #line 1971
<   dev = obj->dev;
16109a16146,16147
>   dev = obj->dev;
> #line 1973
16111,16112d16148
< #line 1976
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16114c16150
<     ret = i915_gem_object_bind_to_gtt(obj, alignment);
---
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16116c16152
<     if (ret != 0) {
---
>     ret = i915_gem_object_bind_to_gtt(obj, alignment);
16118c16154
<       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
---
>     if (ret != 0) {
16119a16156,16157
>       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
> #line 1981
16127c16165
< #line 1983
---
> #line 1984
16129,16130d16166
< #line 1988
<   if (obj_priv->pin_count == 1) {
16132c16168
<     atomic_inc(& dev->pin_count);
---
>   if (obj_priv->pin_count == 1) {
16134c16170
<     atomic_add(obj->size, & dev->pin_memory);
---
>     atomic_inc(& dev->pin_count);
16135a16172,16173
>     atomic_add(obj->size, & dev->pin_memory);
> #line 1992
16137c16175
< #line 1991
---
> #line 1992
16139c16177
< #line 1991
---
> #line 1992
16143c16181
< #line 1995
---
> #line 1996
16152c16190
< #line 1999
---
> #line 2000
16156c16194
< #line 2002 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2003 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16166,16167d16203
< #line 2005
<   dev = obj->dev;
16169c16205
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
16170a16207,16208
>   dev_priv = dev->dev_private;
> #line 2008
16172,16173d16209
< #line 2010
<   obj_priv->pin_count = obj_priv->pin_count - 1;
16174a16211,16212
>   obj_priv->pin_count = obj_priv->pin_count - 1;
> #line 2012
16176c16214
< #line 2011
---
> #line 2012
16178c16216
< #line 2011
---
> #line 2012
16180c16218
< #line 2011
---
> #line 2012
16182c16220
< #line 2011
---
> #line 2012
16189,16190c16227,16228
<                              "i" (2011), "i" (sizeof(struct bug_entry )));
< #line 2011
---
>                              "i" (2012), "i" (sizeof(struct bug_entry )));
> #line 2012
16194c16232
< #line 2011
---
> #line 2012
16200c16238
< #line 2011
---
> #line 2012
16203c16241
< #line 2012
---
> #line 2013
16205c16243
< #line 2012
---
> #line 2013
16208c16246
< #line 2012
---
> #line 2013
16210c16248
< #line 2012
---
> #line 2013
16212c16250
< #line 2012
---
> #line 2013
16219,16220c16257,16258
<                              "i" (2012), "i" (sizeof(struct bug_entry )));
< #line 2012
---
>                              "i" (2013), "i" (sizeof(struct bug_entry )));
> #line 2013
16224c16262
< #line 2012
---
> #line 2013
16230c16268
< #line 2012
---
> #line 2013
16233,16234d16270
< #line 2018
<   if (obj_priv->pin_count == 0) {
16235a16272,16273
>   if (obj_priv->pin_count == 0) {
> #line 2020
16237c16275
< #line 2022
---
> #line 2023
16242,16243d16279
< #line 2024
<     atomic_dec(& dev->pin_count);
16244a16281,16282
>     atomic_dec(& dev->pin_count);
> #line 2026
16249c16287
< #line 2028
---
> #line 2029
16253c16291
< #line 2030 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2031 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16262c16300
< #line 2034
---
> #line 2035
16264c16302
< #line 2039
---
> #line 2040
16266,16267d16303
< #line 2041
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16269c16305
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16270a16307,16308
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2044
16273,16274d16310
< #line 2045
<     mutex_unlock(& dev->struct_mutex);
16275a16312,16313
>     mutex_unlock(& dev->struct_mutex);
> #line 2047
16280c16318
< #line 2048
---
> #line 2049
16282,16283d16319
< #line 2050
<   ret = i915_gem_object_pin(obj, args->alignment);
16285c16321
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, args->alignment);
16287c16323
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
16289c16325
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
16290a16327,16328
>     mutex_unlock(& dev->struct_mutex);
> #line 2055
16295,16296d16332
< #line 2060
<   if (obj->write_domain & 1U) {
16298c16334
<     i915_gem_clflush_object(obj);
---
>   if (obj->write_domain & 1U) {
16300c16336
<     drm_agp_chipset_flush(dev);
---
>     i915_gem_clflush_object(obj);
16301a16338,16339
>     drm_agp_chipset_flush(dev);
> #line 2064
16306,16307d16343
< #line 2065
<   args->offset = obj_priv->gtt_offset;
16309c16345
<   drm_gem_object_unreference(obj);
---
>   args->offset = obj_priv->gtt_offset;
16310a16347,16348
>   drm_gem_object_unreference(obj);
> #line 2068
16312c16350
< #line 2069
---
> #line 2070
16316c16354
< #line 2072 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2073 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16323c16361
< #line 2076
---
> #line 2077
16325c16363
< #line 2079
---
> #line 2080
16327,16328d16364
< #line 2081
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16330c16366
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16331a16368,16369
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2084
16334,16335d16371
< #line 2085
<     mutex_unlock(& dev->struct_mutex);
16336a16373,16374
>     mutex_unlock(& dev->struct_mutex);
> #line 2087
16341c16379
< #line 2089
---
> #line 2090
16343,16344d16380
< #line 2091
<   drm_gem_object_unreference(obj);
16346c16382
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16347a16384,16385
>   mutex_unlock(& dev->struct_mutex);
> #line 2094
16351c16389
< #line 2096 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2097 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16359c16397
< #line 2100
---
> #line 2101
16361,16362d16398
< #line 2104
<   mutex_lock(& dev->struct_mutex);
16364c16400
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock(& dev->struct_mutex);
16366c16402
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16367a16404,16405
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2108
16370,16371d16407
< #line 2109
<     mutex_unlock(& dev->struct_mutex);
16372a16409,16410
>     mutex_unlock(& dev->struct_mutex);
> #line 2111
16377,16378d16414
< #line 2113
<   obj_priv = obj->driver_private;
16379a16416,16417
>   obj_priv = obj->driver_private;
> #line 2115
16381,16382d16418
< #line 2116
<   drm_gem_object_unreference(obj);
16384c16420
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16385a16422,16423
>   mutex_unlock(& dev->struct_mutex);
> #line 2119
16389c16427
< #line 2121 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2122 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16395c16433
< #line 2125
---
> #line 2126
16397c16435
< #line 2125
---
> #line 2126
16401c16439
< #line 2128 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2129 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16408c16446
< #line 2132
---
> #line 2133
16410,16411d16447
< #line 2132
<   obj_priv = tmp;
16413c16449
<   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
---
>   obj_priv = tmp;
16414a16451,16452
>   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
> #line 2135
16419,16420d16456
< #line 2142
<   obj->write_domain = 1;
16421a16458,16459
>   obj->write_domain = 1;
> #line 2144
16423,16424d16460
< #line 2145
<   obj->driver_private = obj_priv;
16425a16462,16465
>   obj_priv->agp_type = 1 << 16;
> #line 2148
>   obj->driver_private = obj_priv;
> #line 2149
16427c16467
< #line 2147
---
> #line 2150
16429c16469
< #line 2148
---
> #line 2151
16433c16473
< #line 2151 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2154 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16439c16479
< #line 2153
---
> #line 2156
16441c16481
< #line 2155
---
> #line 2158
16443c16483
< #line 2155
---
> #line 2158
16447c16487
< #line 2155
---
> #line 2158
16450c16490
< #line 2156
---
> #line 2159
16453c16493
< #line 2158
---
> #line 2161
16455c16495
< #line 2160
---
> #line 2163
16457c16497
< #line 2161
---
> #line 2164
16459c16499
< #line 2162
---
> #line 2165
16463c16503
< #line 2164 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2167 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16475c16515
< #line 2170
---
> #line 2173
16477c16517
< #line 2174
---
> #line 2177
16479c16519
< #line 2174
---
> #line 2177
16481c16521
< #line 2174
---
> #line 2177
16483c16523
< #line 2174
---
> #line 2177
16486c16526
< #line 2174
---
> #line 2177
16489c16529
< #line 2174
---
> #line 2177
16491c16531
< #line 2174
---
> #line 2177
16493c16533
< #line 2174
---
> #line 2177
16495c16535
< #line 2174
---
> #line 2177
16502,16503c16542,16543
<                              "i" (2174), "i" (sizeof(struct bug_entry )));
< #line 2174
---
>                              "i" (2177), "i" (sizeof(struct bug_entry )));
> #line 2177
16507c16547
< #line 2174
---
> #line 2177
16513c16553
< #line 2174
---
> #line 2177
16516c16556
< #line 2176
---
> #line 2179
16518c16558
< #line 2177
---
> #line 2180
16520c16560
< #line 2178
---
> #line 2181
16525c16565
< #line 2179
---
> #line 2182
16527c16567
< #line 2181
---
> #line 2184
16529c16569
< #line 2182
---
> #line 2185
16534c16574
< #line 2184
---
> #line 2187
16538c16578
< #line 2188 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2191 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16548c16588
< #line 2195
---
> #line 2198
16550c16590
< #line 2195
---
> #line 2198
16552c16592
< #line 2195
---
> #line 2198
16554c16594
< #line 2195
---
> #line 2198
16559c16599
< #line 2196
---
> #line 2199
16561,16562d16600
< #line 2196
<     obj_priv = (struct drm_i915_gem_object *)((char *)__mptr - (unsigned int )(& ((struct drm_i915_gem_object *)0)->list));
16563a16602,16603
>     obj_priv = (struct drm_i915_gem_object *)((char *)__mptr - (unsigned int )(& ((struct drm_i915_gem_object *)0)->list));
> #line 2202
16565c16605
< #line 2201
---
> #line 2204
16567c16607
< #line 2202
---
> #line 2205
16569c16609
< #line 2203
---
> #line 2206
16571c16611
< #line 2204
---
> #line 2207
16576c16616
< #line 2207
---
> #line 2210
16578c16618
< #line 2208
---
> #line 2211
16580c16620
< #line 2209
---
> #line 2212
16583c16623
< #line 2211
---
> #line 2214
16585c16625
< #line 2212
---
> #line 2215
16591c16631
< #line 2217
---
> #line 2220
16595c16635
< #line 2220 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2223 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16629c16669
< #line 2223
---
> #line 2226
16631c16671
< #line 2227
---
> #line 2230
16633c16673
< #line 2228
---
> #line 2231
16638c16678
< #line 2233
---
> #line 2236
16640c16680
< #line 2235
---
> #line 2238
16642c16682
< #line 2239
---
> #line 2242
16644,16645d16683
< #line 2241
<   seqno = i915_add_request(dev, ~ (1 | 64));
16646a16685,16686
>   seqno = i915_add_request(dev, ~ (1 | 64));
> #line 2247
16648c16688
< #line 2245
---
> #line 2248
16650c16690
< #line 2246
---
> #line 2249
16655c16695
< #line 2249
---
> #line 2252
16657c16697
< #line 2250
---
> #line 2253
16659c16699
< #line 2251
---
> #line 2254
16661c16701
< #line 2252
---
> #line 2255
16663c16703
< #line 2253
---
> #line 2256
16665c16705
< #line 2254
---
> #line 2257
16667c16707
< #line 2254
---
> #line 2257
16669c16709
< #line 2255
---
> #line 2258
16674c16714
< #line 2256
---
> #line 2259
16676c16716
< #line 2257
---
> #line 2260
16678c16718
< #line 2257
---
> #line 2260
16680c16720
< #line 2257
---
> #line 2260
16682c16722
< #line 2258
---
> #line 2261
16684c16724
< #line 2259
---
> #line 2262
16686c16726
< #line 2260
---
> #line 2263
16688c16728
< #line 2261
---
> #line 2264
16696c16736
< #line 2264
---
> #line 2267
16698c16738
< #line 2265
---
> #line 2268
16701c16741
< #line 2267
---
> #line 2270
16703c16743
< #line 2269
---
> #line 2272
16705c16745
< #line 2274
---
> #line 2277
16707c16747
< #line 2274
---
> #line 2277
16709c16749
< #line 2274
---
> #line 2277
16711c16751
< #line 2274
---
> #line 2277
16714c16754
< #line 2274
---
> #line 2277
16717c16757
< #line 2274
---
> #line 2277
16719c16759
< #line 2274
---
> #line 2277
16721c16761
< #line 2274
---
> #line 2277
16723c16763
< #line 2274
---
> #line 2277
16730,16731c16770,16771
<                              "i" (2274), "i" (sizeof(struct bug_entry )));
< #line 2274
---
>                              "i" (2277), "i" (sizeof(struct bug_entry )));
> #line 2277
16735c16775
< #line 2274
---
> #line 2277
16741c16781
< #line 2274
---
> #line 2277
16744c16784
< #line 2275
---
> #line 2278
16746c16786
< #line 2275
---
> #line 2278
16748c16788
< #line 2275
---
> #line 2278
16750c16790
< #line 2275
---
> #line 2278
16753c16793
< #line 2275
---
> #line 2278
16756c16796
< #line 2275
---
> #line 2278
16758c16798
< #line 2275
---
> #line 2278
16760c16800
< #line 2275
---
> #line 2278
16762c16802
< #line 2275
---
> #line 2278
16769,16770c16809,16810
<                              "i" (2275), "i" (sizeof(struct bug_entry )));
< #line 2275
---
>                              "i" (2278), "i" (sizeof(struct bug_entry )));
> #line 2278
16774c16814
< #line 2275
---
> #line 2278
16780c16820
< #line 2275
---
> #line 2278
16783c16823
< #line 2280
---
> #line 2283
16785c16825
< #line 2280
---
> #line 2283
16787c16827
< #line 2280
---
> #line 2283
16789c16829
< #line 2280
---
> #line 2283
16792c16832
< #line 2280
---
> #line 2283
16795c16835
< #line 2280
---
> #line 2283
16797c16837
< #line 2280
---
> #line 2283
16799c16839
< #line 2280
---
> #line 2283
16801c16841
< #line 2280
---
> #line 2283
16808,16809c16848,16849
<                              "i" (2280), "i" (sizeof(struct bug_entry )));
< #line 2280
---
>                              "i" (2283), "i" (sizeof(struct bug_entry )));
> #line 2283
16813c16853
< #line 2280
---
> #line 2283
16819c16859
< #line 2280
---
> #line 2283
16822c16862
< #line 2283
---
> #line 2286
16824c16864
< #line 2284
---
> #line 2287
16826c16866
< #line 2285
---
> #line 2288
16831c16871
< #line 2287
---
> #line 2290
16833c16873
< #line 2287
---
> #line 2290
16835c16875
< #line 2287
---
> #line 2290
16837c16877
< #line 2287
---
> #line 2290
16840c16880
< #line 2287
---
> #line 2290
16843c16883
< #line 2287
---
> #line 2290
16845c16885
< #line 2287
---
> #line 2290
16847c16887
< #line 2287
---
> #line 2290
16849c16889
< #line 2287
---
> #line 2290
16856,16857c16896,16897
<                              "i" (2287), "i" (sizeof(struct bug_entry )));
< #line 2287
---
>                              "i" (2290), "i" (sizeof(struct bug_entry )));
> #line 2290
16861c16901
< #line 2287
---
> #line 2290
16867c16907
< #line 2287
---
> #line 2290
16870c16910
< #line 2288
---
> #line 2291
16872c16912
< #line 2288
---
> #line 2291
16874c16914
< #line 2288
---
> #line 2291
16876c16916
< #line 2288
---
> #line 2291
16879c16919
< #line 2288
---
> #line 2291
16882c16922
< #line 2288
---
> #line 2291
16884c16924
< #line 2288
---
> #line 2291
16886c16926
< #line 2288
---
> #line 2291
16888c16928
< #line 2288
---
> #line 2291
16895,16896c16935,16936
<                              "i" (2288), "i" (sizeof(struct bug_entry )));
< #line 2288
---
>                              "i" (2291), "i" (sizeof(struct bug_entry )));
> #line 2291
16900c16940
< #line 2288
---
> #line 2291
16906c16946
< #line 2288
---
> #line 2291
16909c16949
< #line 2289
---
> #line 2292
16911c16951
< #line 2289
---
> #line 2292
16913c16953
< #line 2289
---
> #line 2292
16915c16955
< #line 2289
---
> #line 2292
16918c16958
< #line 2289
---
> #line 2292
16921c16961
< #line 2289
---
> #line 2292
16923c16963
< #line 2289
---
> #line 2292
16925c16965
< #line 2289
---
> #line 2292
16927c16967
< #line 2289
---
> #line 2292
16934,16935c16974,16975
<                              "i" (2289), "i" (sizeof(struct bug_entry )));
< #line 2289
---
>                              "i" (2292), "i" (sizeof(struct bug_entry )));
> #line 2292
16939c16979
< #line 2289
---
> #line 2292
16945c16985
< #line 2289
---
> #line 2292
16948c16988
< #line 2290
---
> #line 2293
16950c16990
< #line 2290
---
> #line 2293
16952c16992
< #line 2290
---
> #line 2293
16954c16994
< #line 2290
---
> #line 2293
16957c16997
< #line 2290
---
> #line 2293
16960c17000
< #line 2290
---
> #line 2293
16962c17002
< #line 2290
---
> #line 2293
16964c17004
< #line 2290
---
> #line 2293
16966c17006
< #line 2290
---
> #line 2293
16973,16974c17013,17014
<                              "i" (2290), "i" (sizeof(struct bug_entry )));
< #line 2290
---
>                              "i" (2293), "i" (sizeof(struct bug_entry )));
> #line 2293
16978c17018
< #line 2290
---
> #line 2293
16984c17024
< #line 2290
---
> #line 2293
16987c17027
< #line 2291
---
> #line 2294
16991c17031
< #line 2294 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2297 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17000c17040
< #line 2297
---
> #line 2300
17002c17042
< #line 2305
---
> #line 2308
17004c17044
< #line 2306
---
> #line 2309
17009c17049
< #line 2308
---
> #line 2311
17011c17051
< #line 2309
---
> #line 2312
17013c17053
< #line 2310
---
> #line 2313
17015c17055
< #line 2311
---
> #line 2314
17020c17060
< #line 2313
---
> #line 2316
17022c17062,17064
< #line 2315
---
> #line 2317
>   obj_priv->agp_type = (1 << 16) + 1;
> #line 2319
17024c17066
< #line 2316
---
> #line 2320
17026c17068
< #line 2317
---
> #line 2321
17028c17070
< #line 2318
---
> #line 2322
17033,17040d17074
< #line 2321
<   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
< #line 2322
<   dev_priv->hws_map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
< #line 2323
<   dev_priv->hws_map.size = 4096;
< #line 2324
<   dev_priv->hws_map.type = 0;
17042,17049c17076,17081
<   dev_priv->hws_map.flags = 0;
< #line 2326
<   dev_priv->hws_map.mtrr = 0;
< #line 2330
<   drm_core_ioremap_wc(& dev_priv->hws_map, dev);
< #line 2331
<   if ((unsigned long )dev_priv->hws_map.handle == (unsigned long )((void *)0)) {
< #line 2332
---
>   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
> #line 2327
>   dev_priv->hw_status_page = kmap(*(obj_priv->page_list + 0));
> #line 2328
>   if ((unsigned long )dev_priv->hw_status_page == (unsigned long )((void *)0)) {
> #line 2329
17051c17083
< #line 2333
---
> #line 2330
17053c17085
< #line 2334
---
> #line 2331
17055c17087
< #line 2335
---
> #line 2332
17060c17092
< #line 2337
---
> #line 2334
17062,17064c17094
< #line 2338
<   dev_priv->hw_status_page = dev_priv->hws_map.handle;
< #line 2339
---
> #line 2335
17066c17096
< #line 2340
---
> #line 2336
17068c17098,17100
< #line 2341
---
> #line 2337
>   readl(dev_priv->regs + 8320);
> #line 2338
17070c17102
< #line 2341
---
> #line 2338
17072c17104
< #line 2341
---
> #line 2338
17077c17109
< #line 2341
---
> #line 2338
17080c17112
< #line 2343
---
> #line 2340
17084c17116
< #line 2346 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2343 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17108c17140
< #line 2349
---
> #line 2346
17110c17142
< #line 2355
---
> #line 2352
17112c17144
< #line 2356
---
> #line 2353
17114c17146
< #line 2357
---
> #line 2354
17119c17151
< #line 2359
---
> #line 2356
17121c17153
< #line 2360
---
> #line 2357
17123c17155
< #line 2361
---
> #line 2358
17125c17157
< #line 2362
---
> #line 2359
17130c17162
< #line 2364
---
> #line 2361
17132c17164
< #line 2366
---
> #line 2363
17134c17166
< #line 2367
---
> #line 2364
17136c17168
< #line 2368
---
> #line 2365
17138c17170
< #line 2369
---
> #line 2366
17143c17175
< #line 2373
---
> #line 2370
17145c17177
< #line 2374
---
> #line 2371
17147c17179
< #line 2376
---
> #line 2373
17149c17181
< #line 2377
---
> #line 2374
17151c17183
< #line 2378
---
> #line 2375
17153c17185
< #line 2379
---
> #line 2376
17155c17187
< #line 2380
---
> #line 2377
17157c17189
< #line 2382
---
> #line 2379
17159c17191
< #line 2383
---
> #line 2380
17161c17193
< #line 2384
---
> #line 2381
17163c17195
< #line 2385
---
> #line 2382
17165c17197
< #line 2386
---
> #line 2383
17167c17199
< #line 2387
---
> #line 2384
17172c17204
< #line 2389
---
> #line 2386
17174c17206
< #line 2390
---
> #line 2387
17176c17208
< #line 2393
---
> #line 2390
17178c17210
< #line 2394
---
> #line 2391
17180c17212
< #line 2395
---
> #line 2392
17182c17214
< #line 2398
---
> #line 2395
17184c17216
< #line 2399
---
> #line 2396
17186c17218
< #line 2399
---
> #line 2396
17188c17220
< #line 2402
---
> #line 2399
17190c17222
< #line 2403
---
> #line 2400
17192c17224
< #line 2403
---
> #line 2400
17194c17226
< #line 2403
---
> #line 2400
17196c17228
< #line 2403
---
> #line 2400
17198c17230
< #line 2403
---
> #line 2400
17201c17233
< #line 2409
---
> #line 2406
17203c17235
< #line 2411
---
> #line 2408
17205c17237
< #line 2411
---
> #line 2408
17207c17239
< #line 2411
---
> #line 2408
17209c17241
< #line 2411
---
> #line 2408
17211c17243
< #line 2411
---
> #line 2408
17217c17249
< #line 2419
---
> #line 2416
17219c17251
< #line 2424
---
> #line 2421
17221c17253
< #line 2424
---
> #line 2421
17223c17255
< #line 2427
---
> #line 2424
17225c17257
< #line 2428
---
> #line 2425
17227c17259
< #line 2428
---
> #line 2425
17229c17261
< #line 2428
---
> #line 2425
17231c17263
< #line 2428
---
> #line 2425
17233c17265
< #line 2428
---
> #line 2425
17236c17268
< #line 2434
---
> #line 2431
17241c17273
< #line 2438
---
> #line 2435
17243c17275
< #line 2440
---
> #line 2437
17247c17279
< #line 2443 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2440 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17250a17283,17284
>   struct drm_gem_object *obj ;
>   struct drm_i915_gem_object *obj_priv ;
17253c17287
< #line 2446
---
> #line 2443
17255c17289
< #line 2448
---
> #line 2445
17257c17291
< #line 2449
---
> #line 2446
17262c17296
< #line 2451
---
> #line 2448
17264c17298
< #line 2453
---
> #line 2450
17266c17300
< #line 2454
---
> #line 2451
17268c17302
< #line 2455
---
> #line 2452
17270c17304
< #line 2456
---
> #line 2453
17272c17306
< #line 2458
---
> #line 2455
17273a17308,17311
> #line 2456
>     obj = dev_priv->hws_obj;
> #line 2457
>     obj_priv = obj->driver_private;
17275c17313,17316
<     i915_gem_object_unpin(dev_priv->hws_obj);
---
>     while (1) {
> #line 2459
>       break;
>     }
17277c17318
<     drm_gem_object_unreference(dev_priv->hws_obj);
---
>     i915_gem_object_unpin(obj);
17279c17320
<     dev_priv->hws_obj = (void *)0;
---
>     drm_gem_object_unreference(obj);
17280a17322,17323
>     dev_priv->hws_obj = (void *)0;
> #line 2463
17282c17325,17327
< #line 2465
---
> #line 2464
>     dev_priv->hw_status_page = (void *)0;
> #line 2467
17287c17332
< #line 2467
---
> #line 2469
17291c17336
< #line 2469 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2471 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17310c17355
< #line 2473
---
> #line 2475
17312c17357
< #line 2476
---
> #line 2478
17314c17359
< #line 2477
---
> #line 2479
17316c17361
< #line 2478
---
> #line 2480
17321c17366
< #line 2481
---
> #line 2483
17323c17368
< #line 2482
---
> #line 2484
17325c17370
< #line 2483
---
> #line 2485
17330c17375
< #line 2485
---
> #line 2487
17332c17377
< #line 2486
---
> #line 2488
17334c17379
< #line 2486
---
> #line 2488
17336c17381
< #line 2486
---
> #line 2488
17338c17383
< #line 2486
---
> #line 2488
17341c17386
< #line 2486
---
> #line 2488
17344c17389
< #line 2486
---
> #line 2488
17346c17391
< #line 2486
---
> #line 2488
17348c17393
< #line 2486
---
> #line 2488
17350c17395
< #line 2486
---
> #line 2488
17357,17358c17402,17403
<                              "i" (2486), "i" (sizeof(struct bug_entry )));
< #line 2486
---
>                              "i" (2488), "i" (sizeof(struct bug_entry )));
> #line 2488
17362c17407
< #line 2486
---
> #line 2488
17368c17413
< #line 2486
---
> #line 2488
17371c17416
< #line 2487
---
> #line 2489
17373c17418
< #line 2487
---
> #line 2489
17375c17420
< #line 2487
---
> #line 2489
17377c17422
< #line 2487
---
> #line 2489
17380c17425
< #line 2487
---
> #line 2489
17383c17428
< #line 2487
---
> #line 2489
17385c17430
< #line 2487
---
> #line 2489
17387c17432
< #line 2487
---
> #line 2489
17389c17434
< #line 2487
---
> #line 2489
17396,17397c17441,17442
<                              "i" (2487), "i" (sizeof(struct bug_entry )));
< #line 2487
---
>                              "i" (2489), "i" (sizeof(struct bug_entry )));
> #line 2489
17401c17446
< #line 2487
---
> #line 2489
17407c17452
< #line 2487
---
> #line 2489
17410c17455
< #line 2488
---
> #line 2490
17412c17457
< #line 2488
---
> #line 2490
17414c17459
< #line 2488
---
> #line 2490
17416c17461
< #line 2488
---
> #line 2490
17419c17464
< #line 2488
---
> #line 2490
17422c17467
< #line 2488
---
> #line 2490
17424c17469
< #line 2488
---
> #line 2490
17426c17471
< #line 2488
---
> #line 2490
17428c17473
< #line 2488
---
> #line 2490
17435,17436c17480,17481
<                              "i" (2488), "i" (sizeof(struct bug_entry )));
< #line 2488
---
>                              "i" (2490), "i" (sizeof(struct bug_entry )));
> #line 2490
17440c17485
< #line 2488
---
> #line 2490
17446c17491
< #line 2488
---
> #line 2490
17449c17494
< #line 2489
---
> #line 2491
17451c17496
< #line 2489
---
> #line 2491
17453c17498
< #line 2489
---
> #line 2491
17455c17500
< #line 2489
---
> #line 2491
17458c17503
< #line 2489
---
> #line 2491
17461c17506
< #line 2489
---
> #line 2491
17463c17508
< #line 2489
---
> #line 2491
17465c17510
< #line 2489
---
> #line 2491
17467c17512
< #line 2489
---
> #line 2491
17474,17475c17519,17520
<                              "i" (2489), "i" (sizeof(struct bug_entry )));
< #line 2489
---
>                              "i" (2491), "i" (sizeof(struct bug_entry )));
> #line 2491
17479c17524
< #line 2489
---
> #line 2491
17485c17530
< #line 2489
---
> #line 2491
17488c17533
< #line 2490
---
> #line 2492
17490,17491d17534
< #line 2491
<   mutex_unlock(& dev->struct_mutex);
17493c17536
<   drm_irq_install(dev);
---
>   mutex_unlock(& dev->struct_mutex);
17494a17538,17539
>   drm_irq_install(dev);
> #line 2497
17498c17543
< #line 2498 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2500 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17504c17549
< #line 2504
---
> #line 2506
17506c17551
< #line 2505
---
> #line 2507
17508c17553
< #line 2506
---
> #line 2508
17510c17555
< #line 2507
---
> #line 2509
17515,17516d17559
< #line 2508
<   mutex_unlock(& dev->struct_mutex);
17518c17561
<   drm_irq_uninstall(dev);
---
>   mutex_unlock(& dev->struct_mutex);
17519a17563,17564
>   drm_irq_uninstall(dev);
> #line 2514
17523c17568
< #line 2515 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2517 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17530,17531d17574
< #line 2519
<   dev_priv = dev->dev_private;
17533c17576
<   mutex_lock(& dev->struct_mutex);
---
>   dev_priv = dev->dev_private;
17534a17578,17579
>   mutex_lock(& dev->struct_mutex);
> #line 2525
17536c17581
< #line 2524
---
> #line 2526
17538c17583
< #line 2525
---
> #line 2527
17540c17585
< #line 2526
---
> #line 2528
17546c17591
< #line 2528
---
> #line 2530
17551c17596
< #line 2531
---
> #line 2533
17553c17598
< #line 2532
---
> #line 2534
17557c17602
< #line 2534 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2536 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17565,17566d17609
< #line 2537
<   dev_priv = dev->dev_private;
17567a17611,17612
>   dev_priv = dev->dev_private;
> #line 2541
17569c17614
< #line 2540
---
> #line 2542
17571c17616
< #line 2541
---
> #line 2543
17573c17618
< #line 2542
---
> #line 2544
17575c17620
< #line 2543
---
> #line 2545
17577c17622
< #line 2543
---
> #line 2545
17579c17624
< #line 2543
---
> #line 2545
17581c17626
< #line 2543
---
> #line 2545
17583c17628
< #line 2543
---
> #line 2545
17585c17630
< #line 2543
---
> #line 2545
17587c17632
< #line 2543
---
> #line 2545
17589c17634
< #line 2543
---
> #line 2545
17592c17637
< #line 2543
---
> #line 2545
17595c17640
< #line 2543
---
> #line 2545
17597c17642
< #line 2543
---
> #line 2545
17600c17645
< #line 2545
---
> #line 2547
17602c17647
< #line 2545
---
> #line 2547
17604c17649
< #line 2545
---
> #line 2547
17606c17651
< #line 2545
---
> #line 2547
17608c17653
< #line 2545
---
> #line 2547
17610c17655
< #line 2545
---
> #line 2547
17612c17657
< #line 2545
---
> #line 2547
17615c17660
< #line 2545
---
> #line 2547
17618,17619d17662
< #line 2547
<   dev_priv->mm.next_gem_seqno = 1;
17620a17664,17665
>   dev_priv->mm.next_gem_seqno = 1;
> #line 2551
17622c17667
< #line 2550
---
> #line 2552
