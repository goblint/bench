3562d3561
<    int irq ;
4383c4382
< #line 982 "include/drm/drmP.h"
---
> #line 986 "include/drm/drmP.h"
4385c4384
< #line 983
---
> #line 987
4387c4386
< #line 984
---
> #line 988
4390c4389
< #line 991
---
> #line 995
4392c4391
< #line 993
---
> #line 997
4394c4393
< #line 994
---
> #line 998
4396c4395
< #line 997
---
> #line 1001
4398c4397
< #line 998
---
> #line 1002
4400c4399
< #line 999
---
> #line 1003
4402c4401
< #line 1000
---
> #line 1004
4404c4403
< #line 1130
---
> #line 1134
5200c5199
< #line 1121 "include/drm/drmP.h"
---
> #line 1125 "include/drm/drmP.h"
5202c5201
< #line 1123
---
> #line 1127
5204c5203
< #line 1138
---
> #line 1142
5206c5205
< #line 1195
---
> #line 1199
5208c5207
< #line 1202
---
> #line 1206
5210c5209
< #line 1223
---
> #line 1227
5213c5212
< #line 1226
---
> #line 1230
5215c5214
< #line 1311
---
> #line 1315
5217c5216
< #line 1313
---
> #line 1317
5219c5218
< #line 1349 "include/drm/drmP.h"
---
> #line 1353 "include/drm/drmP.h"
5225c5224
< #line 1351
---
> #line 1355
5227c5226
< #line 1351
---
> #line 1355
5231c5230
< #line 1355 "include/drm/drmP.h"
---
> #line 1359 "include/drm/drmP.h"
5237c5236
< #line 1357
---
> #line 1361
5239c5238
< #line 1358
---
> #line 1362
7971a7971,7993
> #line 95 "include/asm/atomic_64.h"
> __inline static void atomic_inc(atomic_t *v ) 
> { 
> 
> 
>   {
> #line 97
>   __asm__  volatile   (".section .smp_locks,\"a\"\n"
>                        " "
>                        ".balign 8"
>                        " "
>                        "\n"
>                        " "
>                        ".quad"
>                        " "
>                        "661f\n"
>                        ".previous\n"
>                        "661:\n\tlock; "
>                        "incl %0": "=m" (v->counter): "m" (v->counter));
> #line 100
>   return;
> }
> }
8052c8074
< #line 1068 "include/drm/drmP.h"
---
> #line 1072 "include/drm/drmP.h"
8054,8055d8075
< #line 1143
< extern int drm_vblank_init(struct drm_device *dev , int num_crtcs ) ;
8056a8077,8078
> extern int drm_vblank_init(struct drm_device *dev , int num_crtcs ) ;
> #line 1151
8058c8080
< #line 1149
---
> #line 1153
8060c8082
< #line 1150
---
> #line 1154
8062c8084
< #line 1151
---
> #line 1155
8064c8086
< #line 1152
---
> #line 1156
8066c8088
< #line 1361 "include/drm/drmP.h"
---
> #line 1365 "include/drm/drmP.h"
8072c8094
< #line 1363
---
> #line 1367
8074c8096
< #line 1363
---
> #line 1367
9056a9079,9080
>   atomic_inc(& dev_priv->irq_received);
> #line 377
9058c9082
< #line 376
---
> #line 378
9063,9064d9086
< #line 377
<   iir = readl(dev_priv->regs + 8356);
9065a9088,9089
>   iir = readl(dev_priv->regs + 8356);
> #line 381
9067c9091
< #line 380
---
> #line 382
9069c9093
< #line 381
---
> #line 383
9071c9095
< #line 382
---
> #line 384
9076c9100
< #line 384
---
> #line 386
9081c9105
< #line 391
---
> #line 393
9083c9107
< #line 392
---
> #line 394
9085c9109
< #line 393
---
> #line 395
9087c9111
< #line 394
---
> #line 396
9090,9091d9113
< #line 396
<     if ((unsigned long )pipea_stats & ((1UL << 2) | (1UL << 1))) {
9092a9115,9116
>     if ((unsigned long )pipea_stats & ((1UL << 2) | (1UL << 1))) {
> #line 400
9094c9118
< #line 399
---
> #line 401
9096c9120
< #line 399
---
> #line 401
9101c9125
< #line 402
---
> #line 404
9106c9130
< #line 404
---
> #line 406
9108,9109d9131
< #line 405
<     pipeb_stats = readl(dev_priv->regs + 462884);
9110a9133,9134
>     pipeb_stats = readl(dev_priv->regs + 462884);
> #line 409
9112c9136
< #line 411
---
> #line 413
9114c9138
< #line 412
---
> #line 414
9117,9118d9140
< #line 414
<     if ((unsigned long )pipeb_stats & ((1UL << 2) | (1UL << 1))) {
9119a9142,9143
>     if ((unsigned long )pipeb_stats & ((1UL << 2) | (1UL << 1))) {
> #line 418
9121c9145
< #line 417
---
> #line 419
9123c9147
< #line 417
---
> #line 419
9128c9152
< #line 420
---
> #line 422
9130c9154
< #line 421
---
> #line 423
9135c9159
< #line 422
---
> #line 424
9140c9164
< #line 425
---
> #line 427
9142c9166
< #line 426
---
> #line 428
9144c9168
< #line 427
---
> #line 429
9149,9150d9172
< #line 428
<   readl(dev_priv->regs + 8356);
9151a9174,9175
>   readl(dev_priv->regs + 8356);
> #line 432
9153c9177
< #line 431
---
> #line 433
9158c9182
< #line 434
---
> #line 436
9160c9184
< #line 435
---
> #line 437
9162c9186
< #line 436
---
> #line 438
9167c9191
< #line 439
---
> #line 441
9169c9193
< #line 440
---
> #line 442
9174c9198
< #line 442
---
> #line 444
9176c9200
< #line 443
---
> #line 445
9178c9202
< #line 444
---
> #line 446
9181c9205
< #line 446
---
> #line 448
9187c9211
< #line 449
---
> #line 451
9191c9215
< #line 452 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 454 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9201c9225
< #line 454
---
> #line 456
9203,9204d9226
< #line 457
<   i915_kernel_lost_context(dev);
9205a9228,9229
>   i915_kernel_lost_context(dev);
> #line 461
9207c9231
< #line 459
---
> #line 461
9209c9233
< #line 459
---
> #line 461
9214c9238
< #line 459
---
> #line 461
9217c9241
< #line 461
---
> #line 463
9219c9243
< #line 462
---
> #line 464
9221c9245
< #line 463
---
> #line 465
9226c9250
< #line 464
---
> #line 466
9228c9252
< #line 465
---
> #line 467
9233c9257
< #line 467
---
> #line 469
9235c9259
< #line 467
---
> #line 469
9237c9261
< #line 467
---
> #line 469
9242,9267d9265
< #line 467
<     outcount = 0;
< #line 467
<     outring = dev_priv->ring.tail;
< #line 467
<     ringmask = dev_priv->ring.tail_mask;
< #line 467
<     virt = dev_priv->ring.virtual_start;
< #line 467
<     break;
<   }
< #line 468
<   while (1) {
< #line 468
<     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
< #line 468
<     outcount = outcount + 1U;
< #line 468
<     outring = outring + 4U;
< #line 468
<     outring = outring & ringmask;
< #line 468
<     break;
<   }
< #line 469
<   while (1) {
9269c9267
<     *((unsigned int volatile   *)(virt + outring)) = 5 << 2;
---
>     outcount = 0;
9271c9269
<     outcount = outcount + 1U;
---
>     outring = dev_priv->ring.tail;
9273c9271
<     outring = outring + 4U;
---
>     ringmask = dev_priv->ring.tail_mask;
9275c9273
<     outring = outring & ringmask;
---
>     virt = dev_priv->ring.virtual_start;
9282c9280
<     *((unsigned int volatile   *)(virt + outring)) = dev_priv->counter;
---
>     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
9295c9293
<     *((unsigned int volatile   *)(virt + outring)) = 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = 5 << 2;
9308c9306
<     *((unsigned int volatile   *)(virt + outring)) = 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = dev_priv->counter;
9321c9319
<     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = 0;
9334c9332
<     dev_priv->ring.tail = outring;
---
>     *((unsigned int volatile   *)(virt + outring)) = 0;
9336c9334
<     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>     outcount = outcount + 1U;
9338c9336
<     writel(outring, dev_priv->regs + 8240);
---
>     outring = outring + 4U;
9339a9338,9352
>     outring = outring & ringmask;
> #line 474
>     break;
>   }
> #line 475
>   while (1) {
> #line 475
>     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
> #line 475
>     outcount = outcount + 1U;
> #line 475
>     outring = outring + 4U;
> #line 475
>     outring = outring & ringmask;
> #line 475
9342a9356,9366
>   while (1) {
> #line 476
>     dev_priv->ring.tail = outring;
> #line 476
>     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 476
>     writel(outring, dev_priv->regs + 8240);
> #line 476
>     break;
>   }
> #line 478
9346c9370
< #line 479 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9352,9353d9375
< #line 481
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
9354a9377,9378
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 485
9356c9380
< #line 484
---
> #line 486
9358c9382
< #line 484
---
> #line 486
9360c9384
< #line 484
---
> #line 486
9362c9386
< #line 485
---
> #line 487
9370c9394
< #line 486
---
> #line 488
9372c9396
< #line 487
---
> #line 489
9376c9400
< #line 489 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 491 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9383,9384d9406
< #line 491
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
9385a9408,9409
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 495
9387c9411
< #line 494
---
> #line 496
9389c9413
< #line 494
---
> #line 496
9392c9416
< #line 494
---
> #line 496
9394c9418
< #line 494
---
> #line 496
9396c9420
< #line 494
---
> #line 496
9403,9404c9427,9428
<                              "i" (494), "i" (sizeof(struct bug_entry )));
< #line 494
---
>                              "i" (496), "i" (sizeof(struct bug_entry )));
> #line 496
9408c9432
< #line 494
---
> #line 496
9414c9438
< #line 494
---
> #line 496
9417c9441
< #line 495
---
> #line 497
9419c9443
< #line 495
---
> #line 497
9421c9445
< #line 495
---
> #line 497
9423c9447
< #line 496
---
> #line 498
9431c9455
< #line 497
---
> #line 499
9433c9457
< #line 498
---
> #line 500
9437c9461
< #line 500 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 502 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9451c9475
< #line 502
---
> #line 504
9453,9454d9476
< #line 503
<   ret = 0;
9455a9478,9479
>   ret = 0;
> #line 507
9457c9481
< #line 505
---
> #line 507
9459c9483
< #line 505
---
> #line 507
9464c9488
< #line 505
---
> #line 507
9467c9491
< #line 508
---
> #line 510
9469c9493
< #line 509
---
> #line 511
9471c9495
< #line 510
---
> #line 512
9476c9500
< #line 513
---
> #line 515
9481c9505
< #line 516
---
> #line 518
9483c9507
< #line 517
---
> #line 519
9488c9512
< #line 519
---
> #line 521
9490c9514
< #line 520
---
> #line 522
9492c9516
< #line 520
---
> #line 522
9494c9518
< #line 520
---
> #line 522
9496c9520
< #line 520
---
> #line 522
9498c9522
< #line 520
---
> #line 522
9500c9524
< #line 520
---
> #line 522
9502c9526
< #line 520
---
> #line 522
9504c9528
< #line 520
---
> #line 522
9506c9530
< #line 520
---
> #line 522
9508c9532
< #line 520
---
> #line 522
9510c9534
< #line 520
---
> #line 522
9512c9536
< #line 520
---
> #line 522
9514c9538
< #line 520
---
> #line 522
9516c9540
< #line 520
---
> #line 522
9519c9543
< #line 520
---
> #line 522
9521c9545
< #line 520
---
> #line 522
9526c9550
< #line 520
---
> #line 522
9528c9552
< #line 520
---
> #line 522
9530c9554
< #line 520
---
> #line 522
9535c9559
< #line 520
---
> #line 522
9537c9561
< #line 520
---
> #line 522
9539c9563
< #line 520
---
> #line 522
9541c9565
< #line 520
---
> #line 522
9543c9567
< #line 520
---
> #line 522
9545c9569
< #line 520
---
> #line 522
9551c9575
< #line 520
---
> #line 522
9553c9577
< #line 520
---
> #line 522
9555c9579
< #line 520
---
> #line 522
9557c9581
< #line 520
---
> #line 522
9560c9584
< #line 520
---
> #line 522
9562c9586
< #line 520
---
> #line 522
9565,9566d9588
< #line 522
<   i915_user_irq_put(dev);
9567a9590,9591
>   i915_user_irq_put(dev);
> #line 526
9569c9593
< #line 525
---
> #line 527
9575c9599
< #line 529
---
> #line 531
9577c9601
< #line 530
---
> #line 532
9582c9606
< #line 533
---
> #line 535
9586c9610
< #line 538 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 540 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9595c9619
< #line 541
---
> #line 543
9597c9621
< #line 542
---
> #line 544
9599c9623
< #line 545
---
> #line 547
9601c9625
< #line 545
---
> #line 547
9603c9627
< #line 545
---
> #line 547
9605c9629
< #line 545
---
> #line 547
9607c9631
< #line 545
---
> #line 547
9611c9635
< #line 545
---
> #line 547
9616c9640
< #line 545
---
> #line 547
9622c9646
< #line 545
---
> #line 547
9625c9649
< #line 547
---
> #line 549
9627c9651
< #line 548
---
> #line 550
9629c9653
< #line 549
---
> #line 551
9634c9658
< #line 551
---
> #line 553
9636c9660
< #line 552
---
> #line 554
9638,9639d9661
< #line 553
<   mutex_unlock(& dev->struct_mutex);
9640a9663,9664
>   mutex_unlock(& dev->struct_mutex);
> #line 557
9642c9666
< #line 555
---
> #line 557
9644c9668
< #line 556
---
> #line 558
9646c9670
< #line 557
---
> #line 559
9651c9675
< #line 560
---
> #line 562
9655c9679
< #line 565 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 567 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9663c9687
< #line 568
---
> #line 570
9665,9666d9688
< #line 569
<   irqwait = data;
9667a9690,9691
>   irqwait = data;
> #line 573
9669c9693
< #line 572
---
> #line 574
9671c9695
< #line 573
---
> #line 575
9676c9700
< #line 576
---
> #line 578
9678c9702
< #line 576
---
> #line 578
9682c9706
< #line 579 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 581 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9692c9716
< #line 581
---
> #line 583
9694c9718
< #line 582
---
> #line 584
9696c9720
< #line 582
---
> #line 584
9698c9722
< #line 583
---
> #line 585
9700c9724
< #line 586
---
> #line 588
9703c9727
< #line 588
---
> #line 590
9705c9729
< #line 589
---
> #line 591
9707c9731
< #line 590
---
> #line 592
9710c9734
< #line 592
---
> #line 594
9712c9736
< #line 593
---
> #line 595
9714c9738
< #line 594
---
> #line 596
9717c9741
< #line 596
---
> #line 598
9720c9744
< #line 598
---
> #line 600
9723c9747
< #line 601
---
> #line 603
9725c9749
< #line 602
---
> #line 604
9727c9751
< #line 603
---
> #line 605
9729c9753
< #line 604
---
> #line 606
9732c9756
< #line 606
---
> #line 608
9735,9736d9758
< #line 608
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
9737a9760,9761
>     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
> #line 612
9742c9766
< #line 613
---
> #line 615
9746c9770
< #line 616 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 618 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9756c9780
< #line 618
---
> #line 620
9758c9782
< #line 619
---
> #line 621
9760c9784
< #line 619
---
> #line 621
9762c9786
< #line 620
---
> #line 622
9764c9788
< #line 623
---
> #line 625
9767c9791
< #line 625
---
> #line 627
9769c9793
< #line 626
---
> #line 628
9771c9795
< #line 627
---
> #line 629
9774c9798
< #line 629
---
> #line 631
9776c9800
< #line 630
---
> #line 632
9778c9802
< #line 631
---
> #line 633
9781c9805
< #line 633
---
> #line 635
9784c9808
< #line 635
---
> #line 637
9787c9811
< #line 638
---
> #line 640
9789c9813
< #line 639
---
> #line 641
9791c9815
< #line 640
---
> #line 642
9793,9794d9816
< #line 643
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
9795a9818,9819
>     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
> #line 647
9800c9824
< #line 647
---
> #line 649
9804c9828
< #line 651 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 653 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9810,9811d9833
< #line 654
<   dev_priv = dev->dev_private;
9812a9835,9836
>   dev_priv = dev->dev_private;
> #line 658
9814c9838
< #line 657
---
> #line 659
9816c9840
< #line 658
---
> #line 660
9821c9845
< #line 661
---
> #line 663
9825c9849
< #line 664 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 666 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9832c9856
< #line 667
---
> #line 669
9834,9835d9857
< #line 668
<   pipe = data;
9836a9859,9860
>   pipe = data;
> #line 672
9838c9862
< #line 671
---
> #line 673
9840c9864
< #line 672
---
> #line 674
9845,9846d9868
< #line 675
<   pipe->pipe = 1 | 2;
9847a9870,9871
>   pipe->pipe = 1 | 2;
> #line 679
9851c9875
< #line 683 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 685 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9870c9894
< #line 686
---
> #line 688
9872c9896
< #line 687
---
> #line 689
9874c9898
< #line 694
---
> #line 696
9876c9900
< #line 695
---
> #line 697
9879c9903
< #line 696
---
> #line 698
9884c9908
< #line 699
---
> #line 701
9886c9910
< #line 700
---
> #line 702
9888c9912
< #line 700
---
> #line 702
9890c9914
< #line 700
---
> #line 702
9895c9919
< #line 700
---
> #line 702
9898c9922
< #line 701
---
> #line 703
9903,9904d9926
< #line 704
<   if ((unsigned int )swap->seqtype & (unsigned int )(~ (((_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE) | _DRM_VBLANK_SECONDARY) | _DRM_VBLANK_NEXTONMISS))) {
9905a9928,9929
>   if ((unsigned int )swap->seqtype & (unsigned int )(~ (((_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE) | _DRM_VBLANK_SECONDARY) | _DRM_VBLANK_NEXTONMISS))) {
> #line 708
9908c9932
< #line 707
---
> #line 709
9913c9937
< #line 710
---
> #line 712
9915c9939
< #line 711
---
> #line 713
9917,9918d9940
< #line 711
<   pipe = tmp;
9920c9942
<   seqtype = (unsigned int )swap->seqtype & (unsigned int )(_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE);
---
>   pipe = tmp;
9921a9944,9945
>   seqtype = (unsigned int )swap->seqtype & (unsigned int )(_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE);
> #line 717
9923c9947
< #line 716
---
> #line 718
9925c9949
< #line 717
---
> #line 719
9930c9954
< #line 720
---
> #line 722
9932c9956
< #line 720
---
> #line 722
9934c9958
< #line 720
---
> #line 722
9937c9961
< #line 722
---
> #line 724
9939c9963
< #line 722
---
> #line 724
9943c9967
< #line 723
---
> #line 725
9945c9969
< #line 723
---
> #line 725
9947c9971
< #line 723
---
> #line 725
9950c9974
< #line 724
---
> #line 726
9952c9976
< #line 724
---
> #line 726
9954c9978
< #line 724
---
> #line 726
9959c9983
< #line 724
---
> #line 726
9962c9986
< #line 725
---
> #line 727
9965c9989
< #line 728
---
> #line 730
9967c9991
< #line 728
---
> #line 730
9969c9993
< #line 728
---
> #line 730
9972c9996
< #line 734
---
> #line 736
9974c9998
< #line 735
---
> #line 737
9976c10000
< #line 736
---
> #line 738
9981,9982d10004
< #line 737
<   curseq = drm_vblank_count(dev, pipe);
9983a10006,10007
>   curseq = drm_vblank_count(dev, pipe);
> #line 741
9985c10009
< #line 740
---
> #line 742
9990c10014
< #line 742
---
> #line 744
9992c10016
< #line 743
---
> #line 745
9994c10018
< #line 744
---
> #line 746
9997c10021
< #line 746
---
> #line 748
9999c10023
< #line 746
---
> #line 748
10001c10025
< #line 746
---
> #line 748
10006c10030
< #line 746
---
> #line 748
10009c10033
< #line 747
---
> #line 749
10011c10035
< #line 748
---
> #line 750
10017c10041
< #line 752
---
> #line 754
10019c10043
< #line 752
---
> #line 754
10021c10045
< #line 752
---
> #line 754
10024c10048
< #line 754
---
> #line 756
10026c10050
< #line 754
---
> #line 756
10028c10052
< #line 754
---
> #line 756
10030c10054
< #line 754
---
> #line 756
10034c10058
< #line 754
---
> #line 756
10037c10061
< #line 755
---
> #line 757
10039,10040d10062
< #line 755
<     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
10041a10064,10065
>     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
> #line 759
10043c10067
< #line 760
---
> #line 762
10045c10069
< #line 760
---
> #line 762
10047c10071
< #line 760
---
> #line 762
10050c10074
< #line 761
---
> #line 763
10052c10076
< #line 761
---
> #line 763
10054c10078
< #line 761
---
> #line 763
10059c10083
< #line 761
---
> #line 763
10062c10086
< #line 762
---
> #line 764
10067c10091
< #line 754
---
> #line 756
10070c10094
< #line 766
---
> #line 768
10072c10096
< #line 766
---
> #line 768
10074c10098
< #line 766
---
> #line 768
10077c10101
< #line 768
---
> #line 770
10079c10103
< #line 769
---
> #line 771
10081c10105
< #line 769
---
> #line 771
10083c10107
< #line 769
---
> #line 771
10088c10112
< #line 769
---
> #line 771
10091c10115
< #line 770
---
> #line 772
10093c10117
< #line 771
---
> #line 773
10098c10122
< #line 774
---
> #line 776
10100,10101d10123
< #line 774
<   vbl_swap = tmp___1;
10102a10125,10126
>   vbl_swap = tmp___1;
> #line 778
10104c10128
< #line 777
---
> #line 779
10106c10130
< #line 778
---
> #line 780
10108c10132
< #line 779
---
> #line 781
10113c10137
< #line 782
---
> #line 784
10115c10139
< #line 782
---
> #line 784
10117c10141
< #line 782
---
> #line 784
10122c10146
< #line 782
---
> #line 784
10125c10149
< #line 784
---
> #line 786
10127c10151
< #line 785
---
> #line 787
10129,10130d10152
< #line 786
<   vbl_swap->sequence = swap->sequence;
10131a10154,10155
>   vbl_swap->sequence = swap->sequence;
> #line 790
10133c10157
< #line 788
---
> #line 790
10135c10159
< #line 788
---
> #line 790
10138c10162
< #line 790
---
> #line 792
10140,10141d10163
< #line 791
<   dev_priv->swaps_pending = dev_priv->swaps_pending + 1U;
10142a10165,10166
>   dev_priv->swaps_pending = dev_priv->swaps_pending + 1U;
> #line 795
10144c10168
< #line 793
---
> #line 795
10146c10170
< #line 793
---
> #line 795
10149c10173
< #line 795
---
> #line 797
10153c10177
< #line 800 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 802 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10159,10160d10182
< #line 802
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
10161a10184,10185
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 806
10163c10187
< #line 805
---
> #line 807
10165c10189
< #line 806
---
> #line 808
10167c10191
< #line 807
---
> #line 809
10171c10195
< #line 814 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 816 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10173c10197
< #line 809 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 811 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10181c10205
< #line 811
---
> #line 813
10183,10184d10206
< #line 812
<   num_pipes = 2;
10185a10208,10209
>   num_pipes = 2;
> #line 816
10187c10211
< #line 814
---
> #line 816
10189c10213
< #line 814
---
> #line 816
10192c10216
< #line 815
---
> #line 817
10194c10218
< #line 816
---
> #line 818
10196,10197d10219
< #line 819
<   dev_priv->irq_mask_reg = ~ 0;
10198a10221,10222
>   dev_priv->irq_mask_reg = ~ 0;
> #line 823
10200c10224
< #line 822
---
> #line 824
10202c10226
< #line 823
---
> #line 825
10207c10231
< #line 825
---
> #line 827
10209c10233
< #line 826
---
> #line 828
10211,10212d10234
< #line 827
<   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 5));
10214c10236
<   dev->max_vblank_count = 16777215;
---
>   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 5));
10216c10238
<   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )((((1 << 1) | (1 << 0)) | (1 << 6)) | (1 << 4));
---
>   dev->max_vblank_count = 16777215;
10217a10240,10241
>   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )((((1 << 1) | (1 << 0)) | (1 << 6)) | (1 << 4));
> #line 835
10219c10243
< #line 834
---
> #line 836
10221,10222d10244
< #line 835
<   readl(dev_priv->regs + 8352);
10223a10246,10247
>   readl(dev_priv->regs + 8352);
> #line 839
10225,10226d10248
< #line 838
<   init_waitqueue_head(& dev_priv->irq_queue);
10227a10250,10251
>   init_waitqueue_head(& dev_priv->irq_queue);
> #line 842
10231c10255
< #line 843 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 845 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10238c10262
< #line 845
---
> #line 847
10240c10264
< #line 848
---
> #line 850
10242c10266
< #line 849
---
> #line 851
10247,10248d10270
< #line 851
<   dev_priv->vblank_pipe = 0;
10249a10272,10273
>   dev_priv->vblank_pipe = 0;
> #line 855
10251c10275
< #line 854
---
> #line 856
10253,10254d10276
< #line 855
<   writel(0, dev_priv->regs + 8352);
10255a10278,10279
>   writel(0, dev_priv->regs + 8352);
> #line 859
10257c10281
< #line 858
---
> #line 860
10259c10283
< #line 859
---
> #line 861
10261c10285
< #line 860
---
> #line 862
10263c10287
< #line 861
---
> #line 863
10265c10289
< #line 862
---
> #line 864
10267c10291
< #line 863
---
> #line 865
12661,12683d12684
< #line 95 "include/asm/atomic_64.h"
< __inline static void atomic_inc(atomic_t *v ) 
< { 
< 
< 
<   {
< #line 97
<   __asm__  volatile   (".section .smp_locks,\"a\"\n"
<                        " "
<                        ".balign 8"
<                        " "
<                        "\n"
<                        " "
<                        ".quad"
<                        " "
<                        "661f\n"
<                        ".previous\n"
<                        "661:\n\tlock; "
<                        "incl %0": "=m" (v->counter): "m" (v->counter));
< #line 100
<   return;
< }
< }
12826c12827
< #line 1010 "include/drm/drmP.h"
---
> #line 1014 "include/drm/drmP.h"
12828c12829
< #line 1012
---
> #line 1016
12831c12832
< #line 1016
---
> #line 1020
12833c12834
< #line 1079
---
> #line 1083
12835c12836
< #line 1137
---
> #line 1141
12837c12838
< #line 1188
---
> #line 1192
12839c12840
< #line 1238
---
> #line 1242
12842c12843
< #line 1241
---
> #line 1245
12844c12845
< #line 1242
---
> #line 1246
12847c12848
< #line 1244
---
> #line 1248
12849c12850
< #line 1253
---
> #line 1257
12851c12852
< #line 1254
---
> #line 1258
12853c12854
< #line 1256
---
> #line 1260
12855c12856
< #line 1258 "include/drm/drmP.h"
---
> #line 1262 "include/drm/drmP.h"
12861c12862
< #line 1261
---
> #line 1265
12863c12864
< #line 1262
---
> #line 1266
12867c12868
< #line 1264 "include/drm/drmP.h"
---
> #line 1268 "include/drm/drmP.h"
12873c12874
< #line 1267
---
> #line 1271
12875c12876
< #line 1268
---
> #line 1272
12880c12881
< #line 1270
---
> #line 1274
12882c12883
< #line 1271
---
> #line 1275
12886c12887
< #line 1273
---
> #line 1277
12889c12890
< #line 1284 "include/drm/drmP.h"
---
> #line 1288 "include/drm/drmP.h"
12895c12896
< #line 1287
---
> #line 1291
12897c12898
< #line 1288
---
> #line 1292
12902c12903
< #line 1295
---
> #line 1299
12904c12905
< #line 1296
---
> #line 1300
12906c12907
< #line 1297
---
> #line 1301
12910c12911
< #line 1299
---
> #line 1303
12913c12914
< #line 1312
---
> #line 1316
18644c18645
< #line 986 "include/drm/drmP.h"
---
> #line 990 "include/drm/drmP.h"
