3213,3214d3212
< #line 65 "include/drm/drm.h"
< typedef unsigned int drm_drawable_t;
3727,3736c3725
< #line 91 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
< struct _drm_i915_vbl_swap {
<    struct list_head head ;
<    drm_drawable_t drw_id ;
<    unsigned int pipe ;
<    unsigned int sequence ;
< };
< #line 91 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
< typedef struct _drm_i915_vbl_swap drm_i915_vbl_swap_t;
< #line 98
---
> #line 91
3738c3727
< #line 99
---
> #line 92
3740c3729
< #line 100
---
> #line 93
3742c3731
< #line 101
---
> #line 94
3744c3733
< #line 103 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 96 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
3752c3741
< #line 111 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 104 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
3769c3758
< #line 111 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 104 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
3803,3805d3791
<    spinlock_t swaps_lock ;
<    drm_i915_vbl_swap_t vbl_swaps ;
<    unsigned int swaps_pending ;
3895d3880
<    struct work_struct vblank_work ;
4008c3993
< #line 111 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 104 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4010c3995
< #line 413 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 399 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4015c4000
< #line 413 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 399 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4021,4034d4005
< #line 87 "include/drm/drm.h"
< struct drm_drawable_info {
<    unsigned int num_rects ;
<    struct drm_clip_rect *rects ;
< };
< #line 454
< enum drm_vblank_seq_type {
<     _DRM_VBLANK_ABSOLUTE = 0,
<     _DRM_VBLANK_RELATIVE = 1,
<     _DRM_VBLANK_FLIP = 134217728,
<     _DRM_VBLANK_NEXTONMISS = 268435456,
<     _DRM_VBLANK_SECONDARY = 536870912,
<     _DRM_VBLANK_SIGNAL = 1073741824
< } ;
4053,4060d4023
< #line 294 "include/drm/i915_drm.h"
< struct drm_i915_vblank_swap {
<    drm_drawable_t drawable ;
<    enum drm_vblank_seq_type seqtype ;
<    unsigned int sequence ;
< };
< #line 294 "include/drm/i915_drm.h"
< typedef struct drm_i915_vblank_swap drm_i915_vblank_swap_t;
4229c4192
< #line 334 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 320 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4246c4209
< #line 400 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 386 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4451c4414
< #line 420 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 406 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4453c4416
< #line 421
---
> #line 407
4455c4418
< #line 425
---
> #line 411
4457c4420
< #line 426
---
> #line 412
4459c4422
< #line 427
---
> #line 413
4461c4424
< #line 428
---
> #line 414
4463c4426
< #line 429
---
> #line 415
4465c4428
< #line 431
---
> #line 417
4467c4430
< #line 433
---
> #line 419
4469c4432
< #line 434
---
> #line 420
4471c4434
< #line 449
---
> #line 434
4473c4436
< #line 450
---
> #line 435
4475c4438
< #line 451
---
> #line 436
4477c4440
< #line 452
---
> #line 437
4479c4442
< #line 457
---
> #line 442
4481c4444
< #line 458
---
> #line 443
4483c4446
< #line 459
---
> #line 444
4485c4448
< #line 512
---
> #line 497
4487c4450
< #line 513
---
> #line 498
4489c4452
< #line 514
---
> #line 499
4491c4454
< #line 515
---
> #line 500
4493c4456
< #line 541
---
> #line 526
4495c4458
< #line 542
---
> #line 527
4497c4460
< #line 550
---
> #line 535
4499c4462
< #line 551
---
> #line 536
5288c5251
< #line 424 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 410 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
5290c5253
< #line 436
---
> #line 422
5293c5256
< #line 441
---
> #line 427
5295c5258
< #line 443
---
> #line 429
5297c5260
< #line 453
---
> #line 438
5299c5262
< #line 455
---
> #line 440
5301c5264
< #line 460
---
> #line 445
5303c5266
< #line 465
---
> #line 450
5305c5268
< #line 467
---
> #line 452
5307c5270
< #line 469
---
> #line 454
5309c5272
< #line 471
---
> #line 456
5311c5274
< #line 473
---
> #line 458
5313c5276
< #line 474
---
> #line 459
5315c5278
< #line 477
---
> #line 462
5317c5280
< #line 479
---
> #line 464
5319c5282
< #line 481
---
> #line 466
5321c5284
< #line 483
---
> #line 468
5323c5286
< #line 485
---
> #line 470
5325c5288
< #line 487
---
> #line 472
5327c5290
< #line 489
---
> #line 474
5329c5292
< #line 491
---
> #line 476
5331c5294
< #line 493
---
> #line 478
5333c5296
< #line 495
---
> #line 480
5335c5298
< #line 497
---
> #line 482
5337c5300
< #line 499
---
> #line 484
5339c5302
< #line 501
---
> #line 486
5341c5304
< #line 503
---
> #line 488
5343c5306
< #line 505
---
> #line 490
5345c5308
< #line 507
---
> #line 492
5347c5310
< #line 509
---
> #line 494
5349c5312
< #line 511
---
> #line 496
5351c5314
< #line 518
---
> #line 503
5353c5316
< #line 629
---
> #line 614
7921,7922d7883
< #line 1 "<compiler builtins>"
< void __builtin_prefetch(void const   *  , ...) ;
7974,8003d7934
< #line 28 "include/linux/list.h"
< __inline static void INIT_LIST_HEAD(struct list_head *list ) 
< { 
< 
< 
<   {
< #line 30
<   list->next = list;
< #line 31
<   list->prev = list;
< #line 32
<   return;
< }
< }
< #line 51
< extern void __list_add(struct list_head *new , struct list_head *prev , struct list_head *next ) ;
< #line 78 "include/linux/list.h"
< __inline static void list_add_tail(struct list_head *new , struct list_head *head ) 
< { 
< 
< 
<   {
< #line 80
<   __list_add(new, head->prev, head);
< #line 81
<   return;
< }
< }
< #line 110
< extern void list_del(struct list_head *entry ) ;
8039,8041c7970
< #line 22 "include/linux/spinlock_api_smp.h"
< extern void _spin_lock(spinlock_t *lock )  __attribute__((__section__(".spinlock.text"))) ;
< #line 35
---
> #line 35 "include/linux/spinlock_api_smp.h"
8043,8044d7971
< #line 47
< extern void _spin_unlock(spinlock_t *lock )  __attribute__((__section__(".spinlock.text"))) ;
8060,8080d7986
< #line 194 "include/linux/workqueue.h"
< extern int schedule_work(struct work_struct *work ) ;
< #line 182 "include/linux/slab.h"
< __inline static void *kcalloc(size_t n , size_t size , gfp_t flags ) 
< { 
<   void *tmp ;
< 
<   {
< #line 184
<   if (size != (size_t )0 && n > ~ 0UL / size) {
< #line 185
<     return ((void *)0);
<   } else {
< 
<   }
< #line 186
<   tmp = __kmalloc(n * size, flags | 32768U);
< #line 186
<   return (tmp);
< }
< }
8119,8125c8025
< #line 1073 "include/drm/drmP.h"
< extern struct drm_drawable_info *drm_get_drawable_info(struct drm_device *dev , drm_drawable_t id ) ;
< #line 1091
< extern int drm_lock_take(struct drm_lock_data *lock_data , unsigned int context ) ;
< #line 1092
< extern int drm_lock_free(struct drm_lock_data *lock_data , unsigned int context ) ;
< #line 1148
---
> #line 1148 "include/drm/drmP.h"
8127,8128d8026
< #line 1154
< extern u32 drm_vblank_count(struct drm_device *dev , int crtc ) ;
8131,8147c8029
< #line 1156
< extern int drm_vblank_get(struct drm_device *dev , int crtc ) ;
< #line 1157
< extern void drm_vblank_put(struct drm_device *dev , int crtc ) ;
< #line 1366 "include/drm/drmP.h"
< __inline static void *drm_calloc(size_t nmemb , size_t size , int area ) 
< { 
<   void *tmp ;
< 
<   {
< #line 1368
<   tmp = kcalloc(nmemb, size, (16U | 64U) | 128U);
< #line 1368
<   return (tmp);
< }
< }
< #line 445 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 431 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
8149c8031
< #line 446
---
> #line 432
8151,8153c8033
< #line 448
< void i915_vblank_work_handler(struct work_struct *work ) ;
< #line 462
---
> #line 447
8155c8035
< #line 519
---
> #line 504
8157c8037
< #line 552
---
> #line 537
8159c8039
< #line 553
---
> #line 538
8228,8961c8108
< #line 91 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< static void i915_vblank_tasklet(struct drm_device *dev ) 
< { 
<   drm_i915_private_t *dev_priv ;
<   unsigned long irqflags ;
<   struct list_head *list ;
<   struct list_head *tmp ;
<   struct list_head hits ;
<   struct list_head *hit ;
<   int nhits ;
<   int nrects ;
<   int slice[2] ;
<   int upper[2] ;
<   int lower[2] ;
<   int i ;
<   unsigned int counter[2] ;
<   struct drm_drawable_info *drw ;
<   drm_i915_sarea_t *sarea_priv ;
<   u32 cpp ;
<   u32 cmd ;
<   u32 src_pitch ;
<   u32 dst_pitch ;
<   u32 ropcpp ;
<   unsigned int outring ;
<   unsigned int ringmask ;
<   unsigned int outcount ;
<   char volatile   *virt ;
<   drm_i915_vbl_swap_t *vbl_swap ;
<   struct list_head  const  *__mptr ;
<   int pipe ;
<   drm_i915_vbl_swap_t *swap_cmp ;
<   struct list_head  const  *__mptr___0 ;
<   struct drm_drawable_info *drw_cmp ;
<   struct drm_drawable_info *tmp___0 ;
<   int _max1 ;
<   int _max2 ;
<   int _max1___0 ;
<   int _max2___0 ;
<   drm_i915_vbl_swap_t *swap_hit ;
<   struct list_head  const  *__mptr___1 ;
<   struct drm_clip_rect *rect ;
<   int num_rects ;
<   int pipe___0 ;
<   unsigned short top ;
<   unsigned short bottom ;
<   int y1 ;
<   unsigned short _max1___1 ;
<   unsigned short _max2___1 ;
<   int y2 ;
<   unsigned short _min1 ;
<   unsigned short _min2 ;
<   int tmp___1 ;
<   int tmp___2 ;
<   drm_i915_vbl_swap_t *swap_hit___0 ;
<   struct list_head  const  *__mptr___2 ;
< 
<   {
< #line 93
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
< #line 99
<   sarea_priv = dev_priv->sarea_priv;
< #line 100
<   cpp = dev_priv->cpp;
< #line 101
<   cmd = cpp == (u32 )4 ? ((((2 << 29) | (83 << 22)) | 6) | (1 << 21)) | (1 << 20) : ((2 << 29) | (83 << 22)) | 6;
< #line 105
<   src_pitch = (u32 )sarea_priv->pitch * cpp;
< #line 106
<   dst_pitch = (u32 )sarea_priv->pitch * cpp;
< #line 107
<   ropcpp = (unsigned int )(204 << 16) | ((cpp - (u32 )1) << 24);
< #line 110
<   mutex_lock(& dev->struct_mutex);
< #line 112
<   if ((((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) && sarea_priv->front_tiled) {
< #line 113
<     cmd = cmd | (unsigned int )(1 << 11);
< #line 114
<     dst_pitch = dst_pitch >> 2;
<   } else {
< 
<   }
< #line 116
<   if ((((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) && sarea_priv->back_tiled) {
< #line 117
<     cmd = cmd | (unsigned int )(1 << 15);
< #line 118
<     src_pitch = src_pitch >> 2;
<   } else {
< 
<   }
< #line 121
<   counter[0] = drm_vblank_count(dev, 0);
< #line 122
<   counter[1] = drm_vblank_count(dev, 1);
< #line 124
<   while (1) {
< #line 124
<     if (drm_debug) {
< #line 124
<       printk("<7>[drm:%s] \n", "i915_vblank_tasklet");
<     } else {
< 
<     }
< #line 124
<     break;
<   }
< #line 126
<   INIT_LIST_HEAD(& hits);
< #line 128
<   nrects = 0;
< #line 128
<   nhits = nrects;
< #line 130
<   while (1) {
< #line 130
<     irqflags = _spin_lock_irqsave(& dev_priv->swaps_lock);
< #line 130
<     break;
<   }
< #line 133
<   list = dev_priv->vbl_swaps.head.next;
< #line 133
<   tmp = list->next;
< #line 133
<   while (1) {
< #line 133
<     if ((unsigned long )list != (unsigned long )(& dev_priv->vbl_swaps.head)) {
< 
<     } else {
< #line 133
<       break;
<     }
< #line 135
<     __mptr = list;
< #line 135
<     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 136
<     pipe = vbl_swap->pipe;
< #line 138
<     if (counter[pipe] - vbl_swap->sequence > (unsigned int )(1 << 23)) {
< #line 139
<       goto __Cont;
<     } else {
< 
<     }
< #line 141
<     list_del(list);
< #line 142
<     dev_priv->swaps_pending = dev_priv->swaps_pending - 1U;
< #line 143
<     drm_vblank_put(dev, pipe);
< #line 145
<     _spin_unlock(& dev_priv->swaps_lock);
< #line 146
<     _spin_lock(& dev->drw_lock);
< #line 148
<     drw = drm_get_drawable_info(dev, vbl_swap->drw_id);
< #line 150
<     hit = hits.next;
< #line 150
<     while (1) {
< #line 150
<       __builtin_prefetch(hit->next);
< #line 150
<       if ((unsigned long )hit != (unsigned long )(& hits)) {
< 
<       } else {
< #line 150
<         break;
<       }
< #line 152
<       __mptr___0 = hit;
< #line 152
<       swap_cmp = (drm_i915_vbl_swap_t *)((char *)__mptr___0 - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 153
<       tmp___0 = drm_get_drawable_info(dev, swap_cmp->drw_id);
< #line 153
<       drw_cmp = tmp___0;
< #line 161
<       if ((((drw_cmp && drw_cmp->num_rects > 0U) && drw) && drw->num_rects > 0U) && (int )(drw_cmp->rects + 0)->y1 > (int )(drw->rects + 0)->y1) {
< #line 164
<         list_add_tail(list, hit);
< #line 165
<         break;
<       } else {
< 
<       }
< #line 150
<       hit = hit->next;
<     }
< #line 169
<     _spin_unlock(& dev->drw_lock);
< #line 172
<     if ((unsigned long )hit == (unsigned long )(& hits)) {
< #line 173
<       list_add_tail(list, hits.prev);
<     } else {
< 
<     }
< #line 175
<     nhits = nhits + 1;
< #line 177
<     _spin_lock(& dev_priv->swaps_lock);
<     __Cont: /* CIL Label */ 
< #line 133
<     list = tmp;
< #line 133
<     tmp = list->next;
<   }
< #line 180
<   if (nhits == 0) {
< #line 181
<     while (1) {
< #line 181
<       _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
< #line 181
<       break;
<     }
< #line 182
<     mutex_unlock(& dev->struct_mutex);
< #line 183
<     return;
<   } else {
< 
<   }
< #line 186
<   _spin_unlock(& dev_priv->swaps_lock);
< #line 188
<   i915_kernel_lost_context(dev);
< #line 190
<   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
< #line 191
<     while (1) {
< #line 191
<       if (dev_priv->ring.space < 4 * 4) {
< #line 191
<         i915_wait_ring(dev, 4 * 4, "i915_vblank_tasklet");
<       } else {
< 
<       }
< #line 191
<       outcount = 0;
< #line 191
<       outring = dev_priv->ring.tail;
< #line 191
<       ringmask = dev_priv->ring.tail_mask;
< #line 191
<       virt = dev_priv->ring.virtual_start;
< #line 191
<       break;
<     }
< #line 193
<     while (1) {
< #line 193
<       *((unsigned int volatile   *)(virt + outring)) = (30976 << 16) | 2;
< #line 193
<       outcount = outcount + 1U;
< #line 193
<       outring = outring + 4U;
< #line 193
<       outring = outring & ringmask;
< #line 193
<       break;
<     }
< #line 194
<     while (1) {
< #line 194
<       *((unsigned int volatile   *)(virt + outring)) = 0;
< #line 194
<       outcount = outcount + 1U;
< #line 194
<       outring = outring + 4U;
< #line 194
<       outring = outring & ringmask;
< #line 194
<       break;
<     }
< #line 195
<     while (1) {
< #line 195
<       *((unsigned int volatile   *)(virt + outring)) = ((sarea_priv->width - 1) & 65535) | ((sarea_priv->height - 1) << 16);
< #line 195
<       outcount = outcount + 1U;
< #line 195
<       outring = outring + 4U;
< #line 195
<       outring = outring & ringmask;
< #line 195
<       break;
<     }
< #line 196
<     while (1) {
< #line 196
<       *((unsigned int volatile   *)(virt + outring)) = 0;
< #line 196
<       outcount = outcount + 1U;
< #line 196
<       outring = outring + 4U;
< #line 196
<       outring = outring & ringmask;
< #line 196
<       break;
<     }
< #line 197
<     while (1) {
< #line 197
<       dev_priv->ring.tail = outring;
< #line 197
<       dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
< #line 197
<       writel(outring, dev_priv->regs + 8240);
< #line 197
<       break;
<     }
<   } else {
< #line 199
<     while (1) {
< #line 199
<       if (dev_priv->ring.space < 6 * 4) {
< #line 199
<         i915_wait_ring(dev, 6 * 4, "i915_vblank_tasklet");
<       } else {
< 
<       }
< #line 199
<       outcount = 0;
< #line 199
<       outring = dev_priv->ring.tail;
< #line 199
<       ringmask = dev_priv->ring.tail_mask;
< #line 199
<       virt = dev_priv->ring.virtual_start;
< #line 199
<       break;
<     }
< #line 201
<     while (1) {
< #line 201
<       *((unsigned int volatile   *)(virt + outring)) = (((3 << 29) | (29 << 24)) | (128 << 16)) | 3;
< #line 201
<       outcount = outcount + 1U;
< #line 201
<       outring = outring + 4U;
< #line 201
<       outring = outring & ringmask;
< #line 201
<       break;
<     }
< #line 202
<     while (1) {
< #line 202
<       *((unsigned int volatile   *)(virt + outring)) = 0;
< #line 202
<       outcount = outcount + 1U;
< #line 202
<       outring = outring + 4U;
< #line 202
<       outring = outring & ringmask;
< #line 202
<       break;
<     }
< #line 203
<     while (1) {
< #line 203
<       *((unsigned int volatile   *)(virt + outring)) = 0;
< #line 203
<       outcount = outcount + 1U;
< #line 203
<       outring = outring + 4U;
< #line 203
<       outring = outring & ringmask;
< #line 203
<       break;
<     }
< #line 204
<     while (1) {
< #line 204
<       *((unsigned int volatile   *)(virt + outring)) = sarea_priv->width | (sarea_priv->height << 16);
< #line 204
<       outcount = outcount + 1U;
< #line 204
<       outring = outring + 4U;
< #line 204
<       outring = outring & ringmask;
< #line 204
<       break;
<     }
< #line 205
<     while (1) {
< #line 205
<       *((unsigned int volatile   *)(virt + outring)) = sarea_priv->width | (sarea_priv->height << 16);
< #line 205
<       outcount = outcount + 1U;
< #line 205
<       outring = outring + 4U;
< #line 205
<       outring = outring & ringmask;
< #line 205
<       break;
<     }
< #line 206
<     while (1) {
< #line 206
<       *((unsigned int volatile   *)(virt + outring)) = 0;
< #line 206
<       outcount = outcount + 1U;
< #line 206
<       outring = outring + 4U;
< #line 206
<       outring = outring & ringmask;
< #line 206
<       break;
<     }
< #line 208
<     while (1) {
< #line 208
<       dev_priv->ring.tail = outring;
< #line 208
<       dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
< #line 208
<       writel(outring, dev_priv->regs + 8240);
< #line 208
<       break;
<     }
<   }
< #line 211
<   sarea_priv->ctxOwner = 0;
< #line 213
<   upper[1] = 0;
< #line 213
<   upper[0] = upper[1];
< #line 214
<   _max1 = sarea_priv->pipeA_h / nhits;
< #line 214
<   _max2 = 1;
< #line 214
<   slice[0] = _max1 > _max2 ? _max1 : _max2;
< #line 215
<   _max1___0 = sarea_priv->pipeB_h / nhits;
< #line 215
<   _max2___0 = 1;
< #line 215
<   slice[1] = _max1___0 > _max2___0 ? _max1___0 : _max2___0;
< #line 216
<   lower[0] = sarea_priv->pipeA_y + slice[0];
< #line 217
<   lower[1] = sarea_priv->pipeB_y + slice[0];
< #line 219
<   _spin_lock(& dev->drw_lock);
< #line 226
<   i = 0;
< #line 226
<   while (1) {
< #line 226
<     tmp___2 = i;
< #line 226
<     i = i + 1;
< #line 226
<     if (tmp___2 < nhits) {
< 
<     } else {
< #line 226
<       break;
<     }
< #line 229
<     if (i == nhits) {
< #line 230
<       lower[1] = sarea_priv->height;
< #line 230
<       lower[0] = lower[1];
<     } else {
< 
<     }
< #line 232
<     hit = hits.next;
< #line 232
<     while (1) {
< #line 232
<       __builtin_prefetch(hit->next);
< #line 232
<       if ((unsigned long )hit != (unsigned long )(& hits)) {
< 
<       } else {
< #line 232
<         break;
<       }
< #line 234
<       __mptr___1 = hit;
< #line 234
<       swap_hit = (drm_i915_vbl_swap_t *)((char *)__mptr___1 - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 239
<       drw = drm_get_drawable_info(dev, swap_hit->drw_id);
< #line 244
<       if (! drw) {
< #line 245
<         goto __Cont___0;
<       } else {
< 
<       }
< #line 247
<       rect = drw->rects;
< #line 248
<       pipe___0 = swap_hit->pipe;
< #line 249
<       top = upper[pipe___0];
< #line 250
<       bottom = lower[pipe___0];
< #line 252
<       num_rects = drw->num_rects;
< #line 252
<       while (1) {
< #line 252
<         tmp___1 = num_rects;
< #line 252
<         num_rects = num_rects - 1;
< #line 252
<         if (tmp___1) {
< 
<         } else {
< #line 252
<           break;
<         }
< #line 253
<         _max1___1 = rect->y1;
< #line 253
<         _max2___1 = top;
< #line 253
<         y1 = (int )_max1___1 > (int )_max2___1 ? _max1___1 : _max2___1;
< #line 254
<         _min1 = rect->y2;
< #line 254
<         _min2 = bottom;
< #line 254
<         y2 = (int )_min1 < (int )_min2 ? _min1 : _min2;
< #line 256
<         if (y1 >= y2) {
< #line 257
<           goto __Cont___1;
<         } else {
< 
<         }
< #line 259
<         while (1) {
< #line 259
<           if (dev_priv->ring.space < 8 * 4) {
< #line 259
<             i915_wait_ring(dev, 8 * 4, "i915_vblank_tasklet");
<           } else {
< 
<           }
< #line 259
<           outcount = 0;
< #line 259
<           outring = dev_priv->ring.tail;
< #line 259
<           ringmask = dev_priv->ring.tail_mask;
< #line 259
<           virt = dev_priv->ring.virtual_start;
< #line 259
<           break;
<         }
< #line 261
<         while (1) {
< #line 261
<           *((unsigned int volatile   *)(virt + outring)) = cmd;
< #line 261
<           outcount = outcount + 1U;
< #line 261
<           outring = outring + 4U;
< #line 261
<           outring = outring & ringmask;
< #line 261
<           break;
<         }
< #line 262
<         while (1) {
< #line 262
<           *((unsigned int volatile   *)(virt + outring)) = ropcpp | dst_pitch;
< #line 262
<           outcount = outcount + 1U;
< #line 262
<           outring = outring + 4U;
< #line 262
<           outring = outring & ringmask;
< #line 262
<           break;
<         }
< #line 263
<         while (1) {
< #line 263
<           *((unsigned int volatile   *)(virt + outring)) = (y1 << 16) | (int )rect->x1;
< #line 263
<           outcount = outcount + 1U;
< #line 263
<           outring = outring + 4U;
< #line 263
<           outring = outring & ringmask;
< #line 263
<           break;
<         }
< #line 264
<         while (1) {
< #line 264
<           *((unsigned int volatile   *)(virt + outring)) = (y2 << 16) | (int )rect->x2;
< #line 264
<           outcount = outcount + 1U;
< #line 264
<           outring = outring + 4U;
< #line 264
<           outring = outring & ringmask;
< #line 264
<           break;
<         }
< #line 265
<         while (1) {
< #line 265
<           *((unsigned int volatile   *)(virt + outring)) = sarea_priv->front_offset;
< #line 265
<           outcount = outcount + 1U;
< #line 265
<           outring = outring + 4U;
< #line 265
<           outring = outring & ringmask;
< #line 265
<           break;
<         }
< #line 266
<         while (1) {
< #line 266
<           *((unsigned int volatile   *)(virt + outring)) = (y1 << 16) | (int )rect->x1;
< #line 266
<           outcount = outcount + 1U;
< #line 266
<           outring = outring + 4U;
< #line 266
<           outring = outring & ringmask;
< #line 266
<           break;
<         }
< #line 267
<         while (1) {
< #line 267
<           *((unsigned int volatile   *)(virt + outring)) = src_pitch;
< #line 267
<           outcount = outcount + 1U;
< #line 267
<           outring = outring + 4U;
< #line 267
<           outring = outring & ringmask;
< #line 267
<           break;
<         }
< #line 268
<         while (1) {
< #line 268
<           *((unsigned int volatile   *)(virt + outring)) = sarea_priv->back_offset;
< #line 268
<           outcount = outcount + 1U;
< #line 268
<           outring = outring + 4U;
< #line 268
<           outring = outring & ringmask;
< #line 268
<           break;
<         }
< #line 270
<         while (1) {
< #line 270
<           dev_priv->ring.tail = outring;
< #line 270
<           dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
< #line 270
<           writel(outring, dev_priv->regs + 8240);
< #line 270
<           break;
<         }
<         __Cont___1: /* CIL Label */ 
< #line 252
<         rect = rect + 1;
<       }
<       __Cont___0: /* CIL Label */ 
< #line 232
<       hit = hit->next;
<     }
< #line 226
<     upper[0] = lower[0];
< #line 226
<     lower[0] = lower[0] + slice[0];
< #line 226
<     upper[1] = lower[1];
< #line 226
<     lower[1] = lower[1] + slice[1];
<   }
< #line 275
<   while (1) {
< #line 275
<     _spin_unlock_irqrestore(& dev->drw_lock, irqflags);
< #line 275
<     break;
<   }
< #line 276
<   mutex_unlock(& dev->struct_mutex);
< #line 278
<   hit = hits.next;
< #line 278
<   tmp = hit->next;
< #line 278
<   while (1) {
< #line 278
<     if ((unsigned long )hit != (unsigned long )(& hits)) {
< 
<     } else {
< #line 278
<       break;
<     }
< #line 280
<     __mptr___2 = hit;
< #line 280
<     swap_hit___0 = (drm_i915_vbl_swap_t *)((char *)__mptr___2 - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 282
<     list_del(hit);
< #line 284
<     drm_free(swap_hit___0, sizeof(*swap_hit___0), 2);
< #line 278
<     hit = tmp;
< #line 278
<     tmp = hit->next;
<   }
< #line 286
<   return;
< }
< }
< #line 291 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 86 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
8977c8124
< #line 293
---
> #line 88
8979c8126
< #line 298
---
> #line 93
8981c8128
< #line 299
---
> #line 94
8983c8130
< #line 301
---
> #line 96
8985c8132
< #line 301
---
> #line 96
8989c8136
< #line 302
---
> #line 97
8992c8139
< #line 303
---
> #line 98
8995c8142
< #line 311
---
> #line 106
8997c8144
< #line 312
---
> #line 107
8999c8146
< #line 312
---
> #line 107
9001c8148
< #line 314
---
> #line 109
9003c8150
< #line 314
---
> #line 109
9005c8152
< #line 316
---
> #line 111
9007c8154
< #line 316
---
> #line 111
9009c8156
< #line 311
---
> #line 106
9013c8160
< #line 311
---
> #line 106
9017c8164
< #line 320
---
> #line 115
9019c8166
< #line 322
---
> #line 117
9023,9101c8170
< #line 325 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< void i915_vblank_work_handler(struct work_struct *work ) 
< { 
<   drm_i915_private_t *dev_priv ;
<   struct work_struct  const  *__mptr ;
<   struct drm_device *dev ;
<   unsigned long irqflags ;
<   int tmp ;
< 
<   {
< #line 328
<   __mptr = work;
< #line 328
<   dev_priv = (drm_i915_private_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_private_t *)0)->vblank_work));
< #line 330
<   dev = dev_priv->dev;
< #line 333
<   if ((unsigned long )dev->lock.hw_lock == (unsigned long )((void *)0)) {
< #line 334
<     i915_vblank_tasklet(dev);
< #line 335
<     return;
<   } else {
< 
<   }
< #line 338
<   while (1) {
< #line 338
<     irqflags = _spin_lock_irqsave(& dev->tasklet_lock);
< #line 338
<     break;
<   }
< #line 339
<   dev->locked_tasklet_func = & i915_vblank_tasklet;
< #line 340
<   while (1) {
< #line 340
<     _spin_unlock_irqrestore(& dev->tasklet_lock, irqflags);
< #line 340
<     break;
<   }
< #line 345
<   tmp = drm_lock_take(& dev->lock, 0);
< #line 345
<   if (tmp) {
< 
<   } else {
< #line 346
<     return;
<   }
< #line 348
<   dev->lock.lock_time = jiffies;
< #line 349
<   atomic_inc(& dev->counts[_DRM_STAT_LOCKS]);
< #line 351
<   while (1) {
< #line 351
<     irqflags = _spin_lock_irqsave(& dev->tasklet_lock);
< #line 351
<     break;
<   }
< #line 352
<   dev->locked_tasklet_func = (void *)0;
< #line 353
<   while (1) {
< #line 353
<     _spin_unlock_irqrestore(& dev->tasklet_lock, irqflags);
< #line 353
<     break;
<   }
< #line 355
<   i915_vblank_tasklet(dev);
< #line 356
<   drm_lock_free(& dev->lock, 0);
< #line 357
<   return;
< }
< }
< #line 359 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 120 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9112c8181
< #line 361
---
> #line 122
9114c8183
< #line 362
---
> #line 123
9116c8185
< #line 365
---
> #line 126
9118c8187
< #line 367
---
> #line 128
9120c8189
< #line 369
---
> #line 130
9122c8191
< #line 370
---
> #line 131
9127c8196
< #line 371
---
> #line 132
9129c8198
< #line 373
---
> #line 134
9131c8200
< #line 374
---
> #line 135
9133c8202
< #line 375
---
> #line 136
9135c8204
< #line 376
---
> #line 137
9140c8209
< #line 378
---
> #line 139
9145c8214
< #line 385
---
> #line 146
9147c8216
< #line 386
---
> #line 147
9149c8218
< #line 387
---
> #line 148
9151c8220
< #line 388
---
> #line 149
9154c8223
< #line 390
---
> #line 151
9156c8225
< #line 392
---
> #line 153
9158c8227
< #line 393
---
> #line 154
9163c8232
< #line 396
---
> #line 157
9168c8237
< #line 398
---
> #line 159
9170c8239
< #line 399
---
> #line 160
9172c8241
< #line 401
---
> #line 162
9174c8243
< #line 405
---
> #line 166
9176c8245
< #line 406
---
> #line 167
9179c8248
< #line 408
---
> #line 169
9181c8250
< #line 410
---
> #line 171
9183c8252
< #line 411
---
> #line 172
9188c8257
< #line 414
---
> #line 175
9190c8259
< #line 415
---
> #line 176
9195c8264
< #line 416
---
> #line 177
9200c8269
< #line 419
---
> #line 180
9202c8271
< #line 420
---
> #line 181
9204c8273
< #line 421
---
> #line 182
9209c8278
< #line 422
---
> #line 183
9211c8280
< #line 424
---
> #line 185
9213c8282
< #line 425
---
> #line 186
9218c8287
< #line 428
---
> #line 189
9220c8289
< #line 429
---
> #line 190
9222c8291
< #line 430
---
> #line 191
9227c8296
< #line 433
---
> #line 194
9229c8298
< #line 434
---
> #line 195
9234,9241c8303
< #line 436
<   if (vblank && dev_priv->swaps_pending > 0U) {
< #line 437
<     schedule_work(& dev_priv->vblank_work);
<   } else {
< 
<   }
< #line 439
---
> #line 197
9245c8307
< #line 442 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 200 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9255c8317
< #line 444
---
> #line 202
9257c8319
< #line 447
---
> #line 205
9259c8321
< #line 449
---
> #line 207
9261c8323
< #line 449
---
> #line 207
9263c8325
< #line 449
---
> #line 207
9268c8330
< #line 449
---
> #line 207
9271c8333
< #line 451
---
> #line 209
9273c8335
< #line 452
---
> #line 210
9275c8337
< #line 453
---
> #line 211
9280c8342
< #line 454
---
> #line 212
9282c8344
< #line 455
---
> #line 213
9287c8349
< #line 457
---
> #line 215
9289c8351
< #line 457
---
> #line 215
9291c8353
< #line 457
---
> #line 215
9296c8358
< #line 457
---
> #line 215
9298c8360
< #line 457
---
> #line 215
9300c8362
< #line 457
---
> #line 215
9302c8364
< #line 457
---
> #line 215
9304c8366
< #line 457
---
> #line 215
9307c8369
< #line 458
---
> #line 216
9309c8371
< #line 458
---
> #line 216
9311c8373
< #line 458
---
> #line 216
9313c8375
< #line 458
---
> #line 216
9315c8377
< #line 458
---
> #line 216
9317c8379
< #line 458
---
> #line 216
9320c8382
< #line 459
---
> #line 217
9322c8384
< #line 459
---
> #line 217
9324c8386
< #line 459
---
> #line 217
9326c8388
< #line 459
---
> #line 217
9328c8390
< #line 459
---
> #line 217
9330c8392
< #line 459
---
> #line 217
9333c8395
< #line 460
---
> #line 218
9335c8397
< #line 460
---
> #line 218
9337c8399
< #line 460
---
> #line 218
9339c8401
< #line 460
---
> #line 218
9341c8403
< #line 460
---
> #line 218
9343c8405
< #line 460
---
> #line 218
9346c8408
< #line 461
---
> #line 219
9348c8410
< #line 461
---
> #line 219
9350c8412
< #line 461
---
> #line 219
9352c8414
< #line 461
---
> #line 219
9354c8416
< #line 461
---
> #line 219
9356c8418
< #line 461
---
> #line 219
9359c8421
< #line 462
---
> #line 220
9361c8423
< #line 462
---
> #line 220
9363c8425
< #line 462
---
> #line 220
9365c8427
< #line 462
---
> #line 220
9367c8429
< #line 462
---
> #line 220
9369c8431
< #line 462
---
> #line 220
9372c8434
< #line 463
---
> #line 221
9374c8436
< #line 463
---
> #line 221
9376c8438
< #line 463
---
> #line 221
9378c8440
< #line 463
---
> #line 221
9380c8442
< #line 463
---
> #line 221
9382c8444
< #line 463
---
> #line 221
9385c8447
< #line 464
---
> #line 222
9387c8449
< #line 464
---
> #line 222
9389c8451
< #line 464
---
> #line 222
9391c8453
< #line 464
---
> #line 222
9393c8455
< #line 464
---
> #line 222
9396c8458
< #line 466
---
> #line 224
9400c8462
< #line 469 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 227 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9407c8469
< #line 471
---
> #line 229
9409c8471
< #line 474
---
> #line 232
9411c8473
< #line 474
---
> #line 232
9413c8475
< #line 474
---
> #line 232
9416c8478
< #line 475
---
> #line 233
9418c8480
< #line 475
---
> #line 233
9420c8482
< #line 475
---
> #line 233
9422c8484
< #line 476
---
> #line 234
9430c8492
< #line 477
---
> #line 235
9432c8494
< #line 477
---
> #line 235
9434c8496
< #line 477
---
> #line 235
9437c8499
< #line 478
---
> #line 236
9441c8503
< #line 480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 238 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9449c8511
< #line 482
---
> #line 240
9451c8513
< #line 485
---
> #line 243
9453c8515
< #line 485
---
> #line 243
9455c8517
< #line 485
---
> #line 243
9458c8520
< #line 486
---
> #line 244
9460c8522
< #line 486
---
> #line 244
9463c8525
< #line 486
---
> #line 244
9465c8527
< #line 486
---
> #line 244
9467c8529
< #line 486
---
> #line 244
9474,9475c8536,8537
<                              "i" (486), "i" (sizeof(struct bug_entry )));
< #line 486
---
>                              "i" (244), "i" (sizeof(struct bug_entry )));
> #line 244
9479c8541
< #line 486
---
> #line 244
9485c8547
< #line 486
---
> #line 244
9488c8550
< #line 487
---
> #line 245
9490c8552
< #line 487
---
> #line 245
9492c8554
< #line 487
---
> #line 245
9494c8556
< #line 488
---
> #line 246
9502c8564
< #line 489
---
> #line 247
9504c8566
< #line 489
---
> #line 247
9506c8568
< #line 489
---
> #line 247
9509c8571
< #line 490
---
> #line 248
9513c8575
< #line 492 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 250 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9527c8589
< #line 494
---
> #line 252
9529c8591
< #line 495
---
> #line 253
9531c8593
< #line 497
---
> #line 255
9533c8595
< #line 497
---
> #line 255
9535c8597
< #line 497
---
> #line 255
9540c8602
< #line 497
---
> #line 255
9543c8605
< #line 500
---
> #line 258
9545c8607
< #line 501
---
> #line 259
9547c8609
< #line 502
---
> #line 260
9552c8614
< #line 505
---
> #line 263
9557c8619
< #line 508
---
> #line 266
9559c8621
< #line 509
---
> #line 267
9564c8626
< #line 511
---
> #line 269
9566c8628
< #line 512
---
> #line 270
9568c8630
< #line 512
---
> #line 270
9570c8632
< #line 512
---
> #line 270
9572c8634
< #line 512
---
> #line 270
9574c8636
< #line 512
---
> #line 270
9576c8638
< #line 512
---
> #line 270
9578c8640
< #line 512
---
> #line 270
9580c8642
< #line 512
---
> #line 270
9582c8644
< #line 512
---
> #line 270
9584c8646
< #line 512
---
> #line 270
9586c8648
< #line 512
---
> #line 270
9588c8650
< #line 512
---
> #line 270
9590c8652
< #line 512
---
> #line 270
9592c8654
< #line 512
---
> #line 270
9595c8657
< #line 512
---
> #line 270
9597c8659
< #line 512
---
> #line 270
9602c8664
< #line 512
---
> #line 270
9604c8666
< #line 512
---
> #line 270
9606c8668
< #line 512
---
> #line 270
9611c8673
< #line 512
---
> #line 270
9613c8675
< #line 512
---
> #line 270
9615c8677
< #line 512
---
> #line 270
9617c8679
< #line 512
---
> #line 270
9619c8681
< #line 512
---
> #line 270
9621c8683
< #line 512
---
> #line 270
9627c8689
< #line 512
---
> #line 270
9629c8691
< #line 512
---
> #line 270
9631c8693
< #line 512
---
> #line 270
9633c8695
< #line 512
---
> #line 270
9636c8698
< #line 512
---
> #line 270
9638c8700
< #line 512
---
> #line 270
9641c8703
< #line 514
---
> #line 272
9643c8705
< #line 516
---
> #line 274
9645c8707
< #line 517
---
> #line 275
9651c8713
< #line 521
---
> #line 279
9653c8715
< #line 522
---
> #line 280
9658c8720
< #line 525
---
> #line 283
9662c8724
< #line 530 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 288 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9671c8733
< #line 533
---
> #line 291
9673c8735
< #line 534
---
> #line 292
9675c8737
< #line 537
---
> #line 295
9677c8739
< #line 537
---
> #line 295
9679c8741
< #line 537
---
> #line 295
9681c8743
< #line 537
---
> #line 295
9683c8745
< #line 537
---
> #line 295
9687c8749
< #line 537
---
> #line 295
9692c8754
< #line 537
---
> #line 295
9698c8760
< #line 537
---
> #line 295
9701c8763
< #line 539
---
> #line 297
9703c8765
< #line 540
---
> #line 298
9705c8767
< #line 541
---
> #line 299
9710c8772
< #line 543
---
> #line 301
9712c8774
< #line 544
---
> #line 302
9714c8776
< #line 545
---
> #line 303
9716c8778
< #line 547
---
> #line 305
9718c8780
< #line 547
---
> #line 305
9720c8782
< #line 548
---
> #line 306
9722c8784
< #line 549
---
> #line 307
9727c8789
< #line 552
---
> #line 310
9731c8793
< #line 557 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 315 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9739c8801
< #line 560
---
> #line 318
9741c8803
< #line 561
---
> #line 319
9743c8805
< #line 563
---
> #line 321
9745c8807
< #line 564
---
> #line 322
9747c8809
< #line 565
---
> #line 323
9752c8814
< #line 568
---
> #line 326
9754c8816
< #line 568
---
> #line 326
9758c8820
< #line 574 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 332 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9768c8830
< #line 576
---
> #line 334
9770c8832
< #line 577
---
> #line 335
9772c8834
< #line 579
---
> #line 337
9774c8836
< #line 582
---
> #line 340
9777c8839
< #line 584
---
> #line 342
9779c8841
< #line 585
---
> #line 343
9781c8843
< #line 586
---
> #line 344
9784c8846
< #line 588
---
> #line 346
9786c8848
< #line 589
---
> #line 347
9788c8850
< #line 590
---
> #line 348
9791c8853
< #line 592
---
> #line 350
9794c8856
< #line 594
---
> #line 352
9797c8859
< #line 597
---
> #line 355
9799c8861
< #line 597
---
> #line 355
9801c8863
< #line 597
---
> #line 355
9804c8866
< #line 606
---
> #line 364
9806c8868
< #line 607
---
> #line 365
9808c8870
< #line 608
---
> #line 366
9810c8872
< #line 609
---
> #line 367
9813c8875
< #line 611
---
> #line 369
9816c8878
< #line 613
---
> #line 371
9818c8880
< #line 615
---
> #line 373
9820c8882
< #line 616
---
> #line 374
9822c8884
< #line 617
---
> #line 375
9824c8886
< #line 617
---
> #line 375
9826c8888
< #line 617
---
> #line 375
9829c8891
< #line 619
---
> #line 377
9833c8895
< #line 625 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 383 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9843c8905
< #line 627
---
> #line 385
9845c8907
< #line 628
---
> #line 386
9847c8909
< #line 630
---
> #line 388
9849c8911
< #line 633
---
> #line 391
9852c8914
< #line 635
---
> #line 393
9854c8916
< #line 636
---
> #line 394
9856c8918
< #line 637
---
> #line 395
9859c8921
< #line 639
---
> #line 397
9861c8923
< #line 640
---
> #line 398
9863c8925
< #line 641
---
> #line 399
9866c8928
< #line 643
---
> #line 401
9869c8931
< #line 645
---
> #line 403
9871c8933
< #line 646
---
> #line 404
9874c8936
< #line 649
---
> #line 407
9876c8938
< #line 649
---
> #line 407
9878c8940
< #line 649
---
> #line 407
9881c8943
< #line 650
---
> #line 408
9883c8945
< #line 651
---
> #line 409
9885c8947
< #line 652
---
> #line 410
9887c8949
< #line 655
---
> #line 413
9889c8951
< #line 657
---
> #line 415
9891c8953
< #line 658
---
> #line 416
9893c8955
< #line 659
---
> #line 417
9895c8957
< #line 659
---
> #line 417
9897c8959
< #line 659
---
> #line 417
9900c8962
< #line 660
---
> #line 418
9904c8966
< #line 664 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 422 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9910c8972
< #line 667
---
> #line 425
9912c8974
< #line 669
---
> #line 427
9914c8976
< #line 670
---
> #line 428
9916c8978
< #line 671
---
> #line 429
9921c8983
< #line 674
---
> #line 432
9925c8987
< #line 677 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 435 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9932c8994
< #line 680
---
> #line 438
9934c8996
< #line 681
---
> #line 439
9936c8998
< #line 683
---
> #line 441
9938c9000
< #line 684
---
> #line 442
9940c9002
< #line 685
---
> #line 443
9945c9007
< #line 688
---
> #line 446
9947c9009
< #line 690
---
> #line 448
9951c9013
< #line 696 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 454 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9954,10127d9015
<   drm_i915_private_t *dev_priv ;
<   drm_i915_vblank_swap_t *swap ;
<   drm_i915_vbl_swap_t *vbl_swap ;
<   drm_i915_vbl_swap_t *vbl_old ;
<   unsigned int pipe ;
<   unsigned int seqtype ;
<   unsigned int curseq ;
<   unsigned long irqflags ;
<   struct list_head *list ;
<   int ret ;
<   struct drm_drawable_info *tmp ;
<   void *tmp___0 ;
<   struct list_head  const  *__mptr ;
<   u32 tmp___1 ;
<   u32 tmp___2 ;
<   struct list_head  const  *__mptr___0 ;
< 
<   {
< #line 699
<   dev_priv = dev->dev_private;
< #line 700
<   swap = data;
< #line 707
<   if (! dev_priv || ! dev_priv->sarea_priv) {
< #line 708
<     printk("<3>[drm:%s] *ERROR* %s called with no initialization\n", "i915_vblank_swap",
<            "i915_vblank_swap");
< #line 709
<     return (-22);
<   } else {
< 
<   }
< #line 712
<   if ((dev_priv->sarea_priv)->rotation) {
< #line 713
<     while (1) {
< #line 713
<       if (drm_debug) {
< #line 713
<         printk("<7>[drm:%s] Rotation not supported\n", "i915_vblank_swap");
<       } else {
< 
<       }
< #line 713
<       break;
<     }
< #line 714
<     return (-22);
<   } else {
< 
<   }
< #line 717
<   if ((unsigned int )swap->seqtype & (unsigned int )(~ (((_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE) | _DRM_VBLANK_SECONDARY) | _DRM_VBLANK_NEXTONMISS))) {
< #line 719
<     printk("<3>[drm:%s] *ERROR* Invalid sequence type 0x%x\n", "i915_vblank_swap",
<            swap->seqtype);
< #line 720
<     return (-22);
<   } else {
< 
<   }
< #line 723
<   pipe = (unsigned int )swap->seqtype & (unsigned int )_DRM_VBLANK_SECONDARY ? 1 : 0;
< #line 725
<   seqtype = (unsigned int )swap->seqtype & (unsigned int )(_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE);
< #line 727
<   if (! (dev_priv->vblank_pipe & (1 << pipe))) {
< #line 728
<     printk("<3>[drm:%s] *ERROR* Invalid pipe %d\n", "i915_vblank_swap", pipe);
< #line 729
<     return (-22);
<   } else {
< 
<   }
< #line 732
<   while (1) {
< #line 732
<     irqflags = _spin_lock_irqsave(& dev->drw_lock);
< #line 732
<     break;
<   }
< #line 734
<   tmp = drm_get_drawable_info(dev, swap->drawable);
< #line 734
<   if (tmp) {
< 
<   } else {
< #line 735
<     while (1) {
< #line 735
<       _spin_unlock_irqrestore(& dev->drw_lock, irqflags);
< #line 735
<       break;
<     }
< #line 736
<     while (1) {
< #line 736
<       if (drm_debug) {
< #line 736
<         printk("<7>[drm:%s] Invalid drawable ID %d\n", "i915_vblank_swap", swap->drawable);
<       } else {
< 
<       }
< #line 736
<       break;
<     }
< #line 737
<     return (-22);
<   }
< #line 740
<   while (1) {
< #line 740
<     _spin_unlock_irqrestore(& dev->drw_lock, irqflags);
< #line 740
<     break;
<   }
< #line 746
<   ret = drm_vblank_get(dev, pipe);
< #line 747
<   if (ret) {
< #line 748
<     return (ret);
<   } else {
< 
<   }
< #line 749
<   curseq = drm_vblank_count(dev, pipe);
< #line 751
<   if (seqtype == (unsigned int )_DRM_VBLANK_RELATIVE) {
< #line 752
<     swap->sequence = swap->sequence + curseq;
<   } else {
< 
<   }
< #line 754
<   if (curseq - swap->sequence <= (unsigned int )(1 << 23)) {
< #line 755
<     if ((unsigned int )swap->seqtype & (unsigned int )_DRM_VBLANK_NEXTONMISS) {
< #line 756
<       swap->sequence = curseq + 1U;
<     } else {
< #line 758
<       while (1) {
< #line 758
<         if (drm_debug) {
< #line 758
<           printk("<7>[drm:%s] Missed target sequence\n", "i915_vblank_swap");
<         } else {
< 
<         }
< #line 758
<         break;
<       }
< #line 759
<       drm_vblank_put(dev, pipe);
< #line 760
<       return (-22);
<     }
<   } else {
< 
<   }
< #line 764
<   tmp___0 = drm_calloc(1, sizeof(*vbl_swap), 2);
< #line 764
<   vbl_swap = tmp___0;
< #line 766
<   if (! vbl_swap) {
< #line 767
<     printk("<3>[drm:%s] *ERROR* Failed to allocate memory to queue swap\n", "i915_vblank_swap");
< #line 768
<     drm_vblank_put(dev, pipe);
< #line 769
<     return (-12);
<   } else {
10129,10150d9016
<   }
< #line 772
<   vbl_swap->drw_id = swap->drawable;
< #line 773
<   vbl_swap->pipe = pipe;
< #line 774
<   vbl_swap->sequence = swap->sequence;
< #line 776
<   while (1) {
< #line 776
<     irqflags = _spin_lock_irqsave(& dev_priv->swaps_lock);
< #line 776
<     break;
<   }
< #line 778
<   list = dev_priv->vbl_swaps.head.next;
< #line 778
<   while (1) {
< #line 778
<     __builtin_prefetch(list->next);
< #line 778
<     if ((unsigned long )list != (unsigned long )(& dev_priv->vbl_swaps.head)) {
10152,10285c9018,9020
<     } else {
< #line 778
<       break;
<     }
< #line 779
<     __mptr = list;
< #line 779
<     vbl_old = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 781
<     if ((vbl_old->drw_id == swap->drawable && vbl_old->pipe == pipe) && vbl_old->sequence == swap->sequence) {
< #line 784
<       while (1) {
< #line 784
<         _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
< #line 784
<         break;
<       }
< #line 785
<       drm_vblank_put(dev, pipe);
< #line 786
<       drm_free(vbl_swap, sizeof(*vbl_swap), 2);
< #line 787
<       while (1) {
< #line 787
<         if (drm_debug) {
< #line 787
<           printk("<7>[drm:%s] Already scheduled\n", "i915_vblank_swap");
<         } else {
< 
<         }
< #line 787
<         break;
<       }
< #line 788
<       return (0);
<     } else {
< 
<     }
< #line 778
<     list = list->next;
<   }
< #line 792
<   if (dev_priv->swaps_pending >= 10U) {
< #line 793
<     while (1) {
< #line 793
<       if (drm_debug) {
< #line 793
<         printk("<7>[drm:%s] Too many swaps queued\n", "i915_vblank_swap");
<       } else {
< 
<       }
< #line 793
<       break;
<     }
< #line 794
<     while (1) {
< #line 794
<       if (drm_debug) {
< #line 794
<         tmp___1 = drm_vblank_count(dev, 1);
< #line 794
<         tmp___2 = drm_vblank_count(dev, 0);
< #line 794
<         printk("<7>[drm:%s]  pipe 0: %d pipe 1: %d\n", "i915_vblank_swap", tmp___2,
<                tmp___1);
<       } else {
< 
<       }
< #line 794
<       break;
<     }
< #line 798
<     list = dev_priv->vbl_swaps.head.next;
< #line 798
<     while (1) {
< #line 798
<       __builtin_prefetch(list->next);
< #line 798
<       if ((unsigned long )list != (unsigned long )(& dev_priv->vbl_swaps.head)) {
< 
<       } else {
< #line 798
<         break;
<       }
< #line 799
<       __mptr___0 = list;
< #line 799
<       vbl_old = (drm_i915_vbl_swap_t *)((char *)__mptr___0 - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 800
<       while (1) {
< #line 800
<         if (drm_debug) {
< #line 800
<           printk("<7>[drm:%s] \tdrw %x pipe %d seq %x\n", "i915_vblank_swap", vbl_old->drw_id,
<                  vbl_old->pipe, vbl_old->sequence);
<         } else {
< 
<         }
< #line 800
<         break;
<       }
< #line 798
<       list = list->next;
<     }
< #line 804
<     while (1) {
< #line 804
<       _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
< #line 804
<       break;
<     }
< #line 805
<     drm_vblank_put(dev, pipe);
< #line 806
<     drm_free(vbl_swap, sizeof(*vbl_swap), 2);
< #line 807
<     return (-16);
<   } else {
< 
<   }
< #line 810
<   list_add_tail(& vbl_swap->head, & dev_priv->vbl_swaps.head);
< #line 811
<   dev_priv->swaps_pending = dev_priv->swaps_pending + 1U;
< #line 813
<   while (1) {
< #line 813
<     _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
< #line 813
<     break;
<   }
< #line 815
<   return (0);
---
>   {
> #line 471
>   return (-22);
10288c9023
< #line 820 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 476 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10294c9029
< #line 822
---
> #line 478
10296c9031
< #line 824
---
> #line 480
10298c9033
< #line 825
---
> #line 481
10300c9035
< #line 826
---
> #line 482
10302c9037
< #line 827
---
> #line 483
10306,10308c9041
< #line 834 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< static struct lock_class_key __key___2  ;
< #line 829 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 485 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10314d9046
<   atomic_long_t __constr_expr_0 ;
10317c9049
< #line 831
---
> #line 487
10319c9051
< #line 832
---
> #line 488
10321,10350c9053
< #line 834
<   while (1) {
< #line 834
<     __spin_lock_init(& dev_priv->swaps_lock, "&dev_priv->swaps_lock", & __key___2);
< #line 834
<     break;
<   }
< #line 835
<   INIT_LIST_HEAD(& dev_priv->vbl_swaps.head);
< #line 836
<   while (1) {
< #line 836
<     __constr_expr_0.counter = 0;
< #line 836
<     dev_priv->vblank_work.data = __constr_expr_0;
< #line 836
<     INIT_LIST_HEAD(& dev_priv->vblank_work.entry);
< #line 836
<     while (1) {
< #line 836
<       dev_priv->vblank_work.func = & i915_vblank_work_handler;
< #line 836
<       break;
<     }
< #line 836
<     break;
<   }
< #line 837
<   dev_priv->swaps_pending = 0;
< #line 840
---
> #line 491
10352c9055
< #line 842
---
> #line 493
10354c9057
< #line 843
---
> #line 494
10356c9059
< #line 844
---
> #line 495
10361c9064
< #line 846
---
> #line 497
10363c9066
< #line 847
---
> #line 498
10365c9068
< #line 848
---
> #line 499
10367c9070
< #line 850
---
> #line 501
10369c9072
< #line 852
---
> #line 503
10371c9074
< #line 854
---
> #line 505
10373c9076
< #line 855
---
> #line 506
10375c9078
< #line 856
---
> #line 507
10377c9080
< #line 858
---
> #line 509
10379c9082
< #line 859
---
> #line 510
10381c9084
< #line 861
---
> #line 512
10385c9088
< #line 864 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 515 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10392c9095
< #line 866
---
> #line 517
10394c9097
< #line 869
---
> #line 520
10396c9099
< #line 870
---
> #line 521
10401c9104
< #line 872
---
> #line 523
10403c9106
< #line 874
---
> #line 525
10405c9108
< #line 875
---
> #line 526
10407c9110
< #line 876
---
> #line 527
10409c9112
< #line 878
---
> #line 529
10411c9114
< #line 879
---
> #line 530
10413c9116
< #line 880
---
> #line 531
10415c9118
< #line 881
---
> #line 532
10417c9120
< #line 882
---
> #line 533
10419c9122
< #line 883
---
> #line 534
10421c9124
< #line 884
---
> #line 535
12164a10868,10869
> #line 1 "<compiler builtins>"
> void __builtin_prefetch(void const   *  , ...) ;
12166a10872,10899
> #line 28 "include/linux/list.h"
> __inline static void INIT_LIST_HEAD(struct list_head *list ) 
> { 
> 
> 
>   {
> #line 30
>   list->next = list;
> #line 31
>   list->prev = list;
> #line 32
>   return;
> }
> }
> #line 51
> extern void __list_add(struct list_head *new , struct list_head *prev , struct list_head *next ) ;
> #line 78 "include/linux/list.h"
> __inline static void list_add_tail(struct list_head *new , struct list_head *head ) 
> { 
> 
> 
>   {
> #line 80
>   __list_add(new, head->prev, head);
> #line 81
>   return;
> }
> }
12180a10914,10915
> #line 110
> extern void list_del(struct list_head *entry ) ;
12320a11056,11074
> #line 182 "include/linux/slab.h"
> __inline static void *kcalloc(size_t n , size_t size , gfp_t flags ) 
> { 
>   void *tmp ;
> 
>   {
> #line 184
>   if (size != (size_t )0 && n > ~ 0UL / size) {
> #line 185
>     return ((void *)0);
>   } else {
> 
>   }
> #line 186
>   tmp = __kmalloc(n * size, flags | 32768U);
> #line 186
>   return (tmp);
> }
> }
12548a11303,11314
> #line 1366 "include/drm/drmP.h"
> __inline static void *drm_calloc(size_t nmemb , size_t size , int area ) 
> { 
>   void *tmp ;
> 
>   {
> #line 1368
>   tmp = kcalloc(nmemb, size, (16U | 64U) | 128U);
> #line 1368
>   return (tmp);
> }
> }
12593c11359
< #line 516 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 501 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
12595c11361
< #line 517
---
> #line 502
12597c11363
< #line 520
---
> #line 505
12599c11365
< #line 521
---
> #line 506
12601c11367
< #line 522
---
> #line 507
12603c11369
< #line 525
---
> #line 510
