7952c7952
<   if ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810)) {
---
>   if ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818)) {
9917c9917
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
---
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
10021c10021
< int i915_probe_agp(struct pci_dev *pdev , unsigned long *aperture_size , unsigned long *preallocated_size ) 
---
> int i915_probe_agp(struct drm_device *dev , unsigned long *aperture_size , unsigned long *preallocated_size ) 
10050c10050
<   switch ((int )pdev->device) {
---
>   switch ((int )(dev->pdev)->device) {
10067c10067
<   *aperture_size = pdev->resource[2].start == (resource_size_t )0 && pdev->resource[2].end == pdev->resource[2].start ? 0 : (pdev->resource[2].end - pdev->resource[2].start) + (resource_size_t )1;
---
>   *aperture_size = (dev->pdev)->resource[2].start == (resource_size_t )0 && (dev->pdev)->resource[2].end == (dev->pdev)->resource[2].start ? 0 : ((dev->pdev)->resource[2].end - (dev->pdev)->resource[2].start) + (resource_size_t )1;
10072c10072
<   overhead = *aperture_size / 1024UL + 4096UL;
---
>   if (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818) {
10073a10074,10079
>     overhead = 4096;
>   } else {
> #line 867
>     overhead = *aperture_size / 1024UL + 4096UL;
>   }
> #line 869
10076c10082
< #line 867
---
> #line 871
10079c10085
< #line 869
---
> #line 873
10081c10087
< #line 870
---
> #line 874
10084c10090
< #line 872
---
> #line 876
10086c10092
< #line 873
---
> #line 877
10089c10095
< #line 875
---
> #line 879
10091c10097
< #line 876
---
> #line 880
10094c10100
< #line 878
---
> #line 882
10096c10102
< #line 879
---
> #line 883
10099c10105
< #line 881
---
> #line 885
10101c10107
< #line 882
---
> #line 886
10104c10110
< #line 884
---
> #line 888
10106c10112
< #line 885
---
> #line 889
10109c10115
< #line 887
---
> #line 891
10111c10117
< #line 888
---
> #line 892
10114c10120
< #line 890
---
> #line 894
10117c10123
< #line 892
---
> #line 896
10120c10126
< #line 894
---
> #line 898
10122c10128
< #line 896
---
> #line 900
10126c10132
< #line 899 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 903 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10138c10144
< #line 901
---
> #line 905
10140c10146
< #line 903
---
> #line 907
10142c10148
< #line 904
---
> #line 908
10144c10150
< #line 906
---
> #line 910
10146c10152
< #line 906
---
> #line 910
10148c10154
< #line 909
---
> #line 913
10150c10156
< #line 909
---
> #line 913
10152c10158
< #line 909
---
> #line 913
10157c10163
< #line 909
---
> #line 913
10160c10166
< #line 911
---
> #line 915
10162c10168
< #line 912
---
> #line 916
10165c10171
< #line 914
---
> #line 918
10168,10170c10174,10176
< #line 916
<   i915_probe_agp(dev->pdev, & agp_size, & prealloc_size);
< #line 919
---
> #line 920
>   i915_probe_agp(dev, & agp_size, & prealloc_size);
> #line 923
10172c10178
< #line 922
---
> #line 926
10174c10180
< #line 924
---
> #line 928
10176c10182
< #line 925
---
> #line 929
10178c10184
< #line 926
---
> #line 930
10183c10189
< #line 928
---
> #line 932
10185c10191
< #line 934
---
> #line 938
10187c10193
< #line 936
---
> #line 940
10189c10195
< #line 936
---
> #line 940
10191c10197
< #line 937
---
> #line 941
10193c10199
< #line 938
---
> #line 942
10198c10204
< #line 940
---
> #line 944
10200c10206
< #line 941
---
> #line 945
10202c10208
< #line 942
---
> #line 946
10207c10213
< #line 953
---
> #line 957
10209c10215
< #line 959
---
> #line 963
10211c10217
< #line 961
---
> #line 965
10213c10219
< #line 963
---
> #line 967
10215c10221
< #line 965
---
> #line 969
10217c10223
< #line 966
---
> #line 970
10219c10225
< #line 967
---
> #line 971
10221c10227
< #line 968
---
> #line 972
10226c10232
< #line 971
---
> #line 975
10229c10235
< #line 974
---
> #line 978
10232c10238
< #line 976
---
> #line 980
10235c10241
< #line 978
---
> #line 982
10239c10245
< #line 981 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 985 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10246c10252
< #line 985
---
> #line 989
10248c10254
< #line 985
---
> #line 989
10250c10256
< #line 986
---
> #line 990
10252c10258
< #line 987
---
> #line 991
10257c10263
< #line 989
---
> #line 993
10259c10265
< #line 990
---
> #line 994
10263c10269
< #line 993 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 997 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10269c10275
< #line 995
---
> #line 999
10271c10277
< #line 997
---
> #line 1001
10273c10279
< #line 998
---
> #line 1002
10278c10284
< #line 1000
---
> #line 1004
10280c10286
< #line 1002
---
> #line 1006
10282c10288
< #line 1003
---
> #line 1007
10286c10292
< #line 1006 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1010 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10292c10298
< #line 1008
---
> #line 1012
10294c10300
< #line 1008
---
> #line 1012
10296c10302
< #line 1009
---
> #line 1013
10301c10307
< #line 1010
---
> #line 1014
10305c10311
< #line 1090 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1094 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10307c10313
< #line 1024 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1028 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10319c10325
< #line 1026
---
> #line 1030
10321c10327
< #line 1028
---
> #line 1032
10323c10329
< #line 1028
---
> #line 1032
10325c10331
< #line 1031
---
> #line 1035
10327c10333
< #line 1032
---
> #line 1036
10329c10335
< #line 1033
---
> #line 1037
10331c10337
< #line 1034
---
> #line 1038
10333c10339
< #line 1035
---
> #line 1039
10335c10341
< #line 1037
---
> #line 1041
10337c10343
< #line 1037
---
> #line 1041
10339c10345
< #line 1038
---
> #line 1042
10341c10347
< #line 1039
---
> #line 1043
10346c10352
< #line 1041
---
> #line 1045
10348c10354
< #line 1043
---
> #line 1047
10350c10356
< #line 1044
---
> #line 1048
10352c10358
< #line 1047
---
> #line 1051
10354c10360
< #line 1048
---
> #line 1052
10356c10362
< #line 1050
---
> #line 1054
10358c10364
< #line 1051
---
> #line 1055
10360c10366
< #line 1052
---
> #line 1056
10362c10368
< #line 1053
---
> #line 1057
10364c10370
< #line 1054
---
> #line 1058
10369c10375
< #line 1062
---
> #line 1066
10371,10374d10376
< #line 1065
<   i915_gem_load(dev);
< #line 1068
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
10375a10378,10381
>   i915_gem_load(dev);
> #line 1072
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
> #line 1073
10377c10383
< #line 1070
---
> #line 1074
10379c10385
< #line 1071
---
> #line 1075
10387c10393
< #line 1085
---
> #line 1089
10389c10395
< #line 1086
---
> #line 1090
10394c10400
< #line 1088
---
> #line 1092
10396c10402
< #line 1090
---
> #line 1094
10398c10404
< #line 1090
---
> #line 1094
10400c10406
< #line 1090
---
> #line 1094
10403c10409
< #line 1091
---
> #line 1095
10405c10411
< #line 1093
---
> #line 1097
10407c10413
< #line 1095
---
> #line 1099
10409c10415
< #line 1096
---
> #line 1100
10411c10417
< #line 1097
---
> #line 1101
10416c10422
< #line 1100
---
> #line 1104
10418c10424
< #line 1100
---
> #line 1104
10420c10426
< #line 1101
---
> #line 1105
10422c10428
< #line 1102
---
> #line 1106
10424c10430
< #line 1103
---
> #line 1107
10426c10432
< #line 1104
---
> #line 1108
10434c10440
< #line 1108
---
> #line 1112
10437c10443
< #line 1111
---
> #line 1115
10440c10446
< #line 1113
---
> #line 1117
10442c10448
< #line 1114
---
> #line 1118
10446c10452
< #line 1117 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1121 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10454c10460
< #line 1119
---
> #line 1123
10456c10462
< #line 1121
---
> #line 1125
10458c10464
< #line 1121
---
> #line 1125
10460c10466
< #line 1122
---
> #line 1126
10462c10468
< #line 1123
---
> #line 1127
10467c10473
< #line 1126
---
> #line 1130
10469c10475
< #line 1127
---
> #line 1131
10474c10480
< #line 1129
---
> #line 1133
10476c10482
< #line 1130
---
> #line 1134
10481c10487
< #line 1132
---
> #line 1136
10483c10489
< #line 1134
---
> #line 1138
10485c10491
< #line 1134
---
> #line 1138
10487c10493
< #line 1135
---
> #line 1139
10489c10495
< #line 1137
---
> #line 1141
10491c10497
< #line 1138
---
> #line 1142
10493c10499
< #line 1139
---
> #line 1143
10495c10501
< #line 1140
---
> #line 1144
10497c10503
< #line 1141
---
> #line 1145
10502c10508
< #line 1144
---
> #line 1148
10504c10510
< #line 1147
---
> #line 1151
10508c10514
< #line 1150 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1154 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10515c10521
< #line 1154
---
> #line 1158
10517c10523
< #line 1154
---
> #line 1158
10519c10525
< #line 1154
---
> #line 1158
10524c10530
< #line 1154
---
> #line 1158
10527c10533
< #line 1155
---
> #line 1159
10529c10535
< #line 1155
---
> #line 1159
10531c10537
< #line 1158
---
> #line 1162
10533c10539
< #line 1159
---
> #line 1163
10538c10544
< #line 1161
---
> #line 1165
10540c10546
< #line 1163
---
> #line 1167
10542c10548
< #line 1164
---
> #line 1168
10544c10550
< #line 1166
---
> #line 1170
10548c10554
< #line 1181 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1185 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10555c10561
< #line 1183
---
> #line 1187
10557c10563
< #line 1185
---
> #line 1189
10559c10565
< #line 1186
---
> #line 1190
10561c10567
< #line 1187
---
> #line 1191
10564c10570
< #line 1185
---
> #line 1189
10566c10572
< #line 1185
---
> #line 1189
10568c10574
< #line 1186
---
> #line 1190
10570c10576
< #line 1187
---
> #line 1191
10576c10582
< #line 1190
---
> #line 1194
10578c10584
< #line 1192
---
> #line 1196
10580c10586
< #line 1193
---
> #line 1197
10585c10591
< #line 1195
---
> #line 1199
10587c10593
< #line 1196
---
> #line 1200
10591c10597
< #line 1198 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1202 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10598c10604
< #line 1200
---
> #line 1204
10600c10606
< #line 1201
---
> #line 1205
10602c10608
< #line 1201
---
> #line 1205
10606c10612
< #line 1202
---
> #line 1206
10609c10615
< #line 1203
---
> #line 1207
10613c10619
< #line 1205 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1209 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10619c10625
< #line 1207
---
> #line 1211
10621c10627
< #line 1209
---
> #line 1213
10623c10629
< #line 1210
---
> #line 1214
10627c10633
< #line 1212 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1216 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10629c10635
< #line 1212
---
> #line 1216
10667c10673
< #line 1250 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1254 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10669c10675
< #line 1263 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1267 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
10675c10681
< #line 1265
---
> #line 1269
19493c19499
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
---
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
