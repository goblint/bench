4291c4291
< #line 1788 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1789 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13062a13063,13064
> #line 149
>     return (ret);
13066c13068
< #line 151
---
> #line 152
13068c13070
< #line 153
---
> #line 154
13070,13071d13071
< #line 155
<   if ((uint64_t )read != args->size) {
13073c13073
<     drm_gem_object_unreference(obj);
---
>   if ((uint64_t )read != args->size) {
13075c13075
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
13077c13077
<     if (read < (ssize_t )0) {
---
>     mutex_unlock(& dev->struct_mutex);
13078a13079,13080
>     if (read < (ssize_t )0) {
> #line 160
13081c13083
< #line 161
---
> #line 162
13087,13088d13088
< #line 164
<   drm_gem_object_unreference(obj);
13089a13090,13091
>   drm_gem_object_unreference(obj);
> #line 166
13091c13093
< #line 167
---
> #line 168
13095c13097
< #line 170 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 171 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13119c13121
< #line 175
---
> #line 176
13121c13123
< #line 182
---
> #line 183
13123,13124d13124
< #line 186
<   user_data = (char *)((uintptr_t )args->data_ptr);
13126c13126
<   remain = args->size;
---
>   user_data = (char *)((uintptr_t )args->data_ptr);
13127a13128,13129
>   remain = args->size;
> #line 189
13129c13131
< #line 188
---
> #line 189
13132c13134
< #line 188
---
> #line 189
13134c13136
< #line 188
---
> #line 189
13137c13139
< #line 188
---
> #line 189
13140c13142
< #line 188
---
> #line 189
13142c13144
< #line 188
---
> #line 189
13146c13148
< #line 189
---
> #line 190
13149,13150d13150
< #line 192
<   mutex_lock(& dev->struct_mutex);
13152c13152
<   ret = i915_gem_object_pin(obj, 0);
---
>   mutex_lock(& dev->struct_mutex);
13154c13154
<   if (ret) {
---
>   ret = i915_gem_object_pin(obj, 0);
13156c13156
<     mutex_unlock(& dev->struct_mutex);
---
>   if (ret) {
13157a13158,13159
>     mutex_unlock(& dev->struct_mutex);
> #line 197
13162c13164
< #line 198
---
> #line 199
13164,13165d13165
< #line 200
<   if (ret) {
13166a13167,13168
>   if (ret) {
> #line 202
13171,13172d13172
< #line 203
<   obj_priv = obj->driver_private;
13174c13174
<   offset = (uint64_t )obj_priv->gtt_offset + args->offset;
---
>   obj_priv = obj->driver_private;
13175a13176,13177
>   offset = (uint64_t )obj_priv->gtt_offset + args->offset;
> #line 206
13177c13179
< #line 207
---
> #line 208
13179c13181
< #line 207
---
> #line 208
13183c13185
< #line 207
---
> #line 208
13186,13187d13187
< #line 214
<     i = offset >> 12;
13189c13189
<     o = offset & (long long )((1UL << 12) - 1UL);
---
>     i = offset >> 12;
13191c13191
<     l = remain;
---
>     o = offset & (long long )((1UL << 12) - 1UL);
13193c13193
<     if ((unsigned long )(o + l) > 1UL << 12) {
---
>     l = remain;
13194a13195,13196
>     if ((unsigned long )(o + l) > 1UL << 12) {
> #line 219
13199c13201
< #line 220
---
> #line 221
13201c13203
< #line 241
---
> #line 242
13203c13205
< #line 241
---
> #line 242
13205,13206d13206
< #line 247
<     if ((unsigned long )vaddr == (unsigned long )((void *)0)) {
13208c13208
<       ret = -14;
---
>     if ((unsigned long )vaddr == (unsigned long )((void *)0)) {
13209a13210,13211
>       ret = -14;
> #line 250
13214c13216
< #line 251
---
> #line 252
13216c13218
< #line 251
---
> #line 252
13218,13219d13219
< #line 255
<     iounmap(vaddr);
13221c13221
<     if (unwritten) {
---
>     iounmap(vaddr);
13223c13223
<       ret = -14;
---
>     if (unwritten) {
13224a13225,13226
>       ret = -14;
> #line 259
13229,13230d13230
< #line 262
<     remain = remain - (ssize_t )l;
13232c13232
<     user_data = user_data + l;
---
>     remain = remain - (ssize_t )l;
13233a13234,13235
>     user_data = user_data + l;
> #line 265
13237,13238d13238
< #line 273
<   i915_gem_object_unpin(obj);
13239a13240,13241
>   i915_gem_object_unpin(obj);
> #line 275
13241c13243
< #line 276
---
> #line 277
13245c13247
< #line 279 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 280 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13254c13256
< #line 288
---
> #line 289
13256c13258
< #line 290
---
> #line 291
13258,13259d13259
< #line 292
<   if (ret) {
13261c13261
<     mutex_unlock(& dev->struct_mutex);
---
>   if (ret) {
13262a13263,13264
>     mutex_unlock(& dev->struct_mutex);
> #line 295
13267c13269
< #line 297
---
> #line 298
13269c13271
< #line 299
---
> #line 300
13272,13273d13273
< #line 302
<   if ((uint64_t )written != args->size) {
13275c13275
<     mutex_unlock(& dev->struct_mutex);
---
>   if ((uint64_t )written != args->size) {
13277c13277
<     if (written < (ssize_t )0) {
---
>     mutex_unlock(& dev->struct_mutex);
13278a13279,13280
>     if (written < (ssize_t )0) {
> #line 306
13281c13283
< #line 307
---
> #line 308
13287c13289
< #line 310
---
> #line 311
13289c13291
< #line 312
---
> #line 313
13293c13295
< #line 320 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 321 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13302c13304
< #line 324
---
> #line 325
13304c13306
< #line 327
---
> #line 328
13306,13307d13307
< #line 329
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13309c13309
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13310a13311,13312
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 332
13315c13317
< #line 332
---
> #line 333
13317c13319
< #line 338
---
> #line 339
13319,13320d13320
< #line 340
<     drm_gem_object_unreference(obj);
13321a13322,13323
>     drm_gem_object_unreference(obj);
> #line 342
13326c13328
< #line 350
---
> #line 351
13328c13330
< #line 352
---
> #line 353
13331c13333
< #line 354
---
> #line 355
13334c13336
< #line 361
---
> #line 362
13336c13338
< #line 363
---
> #line 364
13340c13342
< #line 369 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 370 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13348c13350
< #line 373
---
> #line 374
13350,13351d13351
< #line 377
<   if (! ((dev->driver)->driver_features & 4096U)) {
13352a13353,13354
>   if (! ((dev->driver)->driver_features & 4096U)) {
> #line 379
13357,13358d13358
< #line 380
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13360c13360
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13361a13362,13363
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 383
13366c13368
< #line 384
---
> #line 385
13368c13370
< #line 389
---
> #line 390
13370,13371d13371
< #line 391
<   drm_gem_object_unreference(obj);
13373c13373
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
13374a13375,13376
>   mutex_unlock(& dev->struct_mutex);
> #line 394
13378c13380
< #line 399 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 400 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13387c13389
< #line 403
---
> #line 404
13389c13391
< #line 406
---
> #line 407
13391,13392d13392
< #line 408
<   if (! ((dev->driver)->driver_features & 4096U)) {
13393a13394,13395
>   if (! ((dev->driver)->driver_features & 4096U)) {
> #line 410
13398,13399d13399
< #line 411
<   mutex_lock(& dev->struct_mutex);
13401c13401
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock(& dev->struct_mutex);
13403c13403
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13405c13405
<     mutex_unlock(& dev->struct_mutex);
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
13406a13407,13408
>     mutex_unlock(& dev->struct_mutex);
> #line 416
13411c13413
< #line 422
---
> #line 423
13413,13414d13414
< #line 425
<   if (obj->write_domain & 1U && obj_priv->pin_count) {
13416c13416
<     i915_gem_clflush_object(obj);
---
>   if (obj->write_domain & 1U && obj_priv->pin_count) {
13417a13418,13419
>     i915_gem_clflush_object(obj);
> #line 428
13422,13423d13423
< #line 429
<   drm_gem_object_unreference(obj);
13425c13425
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
13426a13427,13428
>   mutex_unlock(& dev->struct_mutex);
> #line 432
13430c13432
< #line 441 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 442 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13442c13444
< #line 445
---
> #line 446
13444,13445d13445
< #line 450
<   if (! ((dev->driver)->driver_features & 4096U)) {
13446a13447,13448
>   if (! ((dev->driver)->driver_features & 4096U)) {
> #line 452
13451,13452d13452
< #line 453
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13454c13454
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13455a13456,13457
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 456
13460c13462
< #line 457
---
> #line 458
13462c13464
< #line 459
---
> #line 460
13464,13465d13465
< #line 459
<   down_write(& (tmp->mm)->mmap_sem);
13466a13467,13468
>   down_write(& (tmp->mm)->mmap_sem);
> #line 461
13468c13470
< #line 463
---
> #line 464
13470,13471d13471
< #line 463
<   up_write(& (tmp___0->mm)->mmap_sem);
13473c13473
<   mutex_lock(& dev->struct_mutex);
---
>   up_write(& (tmp___0->mm)->mmap_sem);
13475c13475
<   drm_gem_object_unreference(obj);
---
>   mutex_lock(& dev->struct_mutex);
13477c13477
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
13478a13479,13480
>   mutex_unlock(& dev->struct_mutex);
> #line 468
13480,13481d13481
< #line 467
<   if (tmp___1) {
13482a13483,13484
>   if (tmp___1) {
> #line 469
13487c13489
< #line 470
---
> #line 471
13489c13491
< #line 472
---
> #line 473
13493c13495
< #line 475 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 476 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13501,13502d13502
< #line 478
<   obj_priv = obj->driver_private;
13503a13504,13505
>   obj_priv = obj->driver_private;
> #line 480
13505,13506d13506
< #line 482
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
13507a13508,13509
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
> #line 484
13512c13514
< #line 486
---
> #line 487
13514c13516
< #line 486
---
> #line 487
13516c13518
< #line 486
---
> #line 487
13520c13522
< #line 486
---
> #line 487
13523,13524d13524
< #line 487
<     if ((unsigned long )*(obj_priv->page_list + i) != (unsigned long )((void *)0)) {
13526c13526
<       if (obj_priv->dirty) {
---
>     if ((unsigned long )*(obj_priv->page_list + i) != (unsigned long )((void *)0)) {
13527a13528,13529
>       if (obj_priv->dirty) {
> #line 490
13532,13533d13533
< #line 490
<       mark_page_accessed(*(obj_priv->page_list + i));
13534a13535,13536
>       mark_page_accessed(*(obj_priv->page_list + i));
> #line 492
13539c13541
< #line 486
---
> #line 487
13542c13544
< #line 493
---
> #line 494
13544c13546
< #line 495
---
> #line 496
13547,13548d13548
< #line 498
<   obj_priv->page_list = (void *)0;
13549a13550,13551
>   obj_priv->page_list = (void *)0;
> #line 500
13553c13555
< #line 501 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 502 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13561,13562d13562
< #line 504
<   dev = obj->dev;
13564c13564
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
13565a13566,13567
>   dev_priv = dev->dev_private;
> #line 507
13567,13568d13568
< #line 509
<   if (! obj_priv->active) {
13570c13570
<     drm_gem_object_reference(obj);
---
>   if (! obj_priv->active) {
13571a13572,13573
>     drm_gem_object_reference(obj);
> #line 512
13576c13578
< #line 514
---
> #line 515
13578c13580
< #line 516
---
> #line 517
13582c13584
< #line 519 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 520 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13590,13591d13591
< #line 522
<   dev = obj->dev;
13593c13593
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
13594a13595,13596
>   dev_priv = dev->dev_private;
> #line 525
13596,13597d13597
< #line 527
<   if (obj_priv->pin_count != 0) {
13598a13599,13600
>   if (obj_priv->pin_count != 0) {
> #line 529
13601c13603
< #line 530
---
> #line 531
13604,13605d13605
< #line 532
<   if (obj_priv->active) {
13607c13607
<     obj_priv->active = 0;
---
>   if (obj_priv->active) {
13608a13609,13610
>     obj_priv->active = 0;
> #line 535
13613c13615
< #line 537
---
> #line 538
13617c13619
< #line 547 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 548 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13631c13633
< #line 550
---
> #line 551
13633c13635
< #line 556
---
> #line 557
13635,13636d13636
< #line 556
<   request = tmp;
13638c13638
<   if ((unsigned long )request == (unsigned long )((void *)0)) {
---
>   request = tmp;
13639a13640,13641
>   if ((unsigned long )request == (unsigned long )((void *)0)) {
> #line 559
13644,13645d13645
< #line 563
<   seqno = dev_priv->mm.next_gem_seqno;
13647c13647
<   dev_priv->mm.next_gem_seqno = dev_priv->mm.next_gem_seqno + (uint32_t )1;
---
>   seqno = dev_priv->mm.next_gem_seqno;
13649c13649
<   if (dev_priv->mm.next_gem_seqno == (uint32_t )0) {
---
>   dev_priv->mm.next_gem_seqno = dev_priv->mm.next_gem_seqno + (uint32_t )1;
13650a13651,13652
>   if (dev_priv->mm.next_gem_seqno == (uint32_t )0) {
> #line 567
13655c13657
< #line 568
---
> #line 569
13657c13659
< #line 568
---
> #line 569
13659c13661
< #line 568
---
> #line 569
13664,13676d13665
< #line 568
<     outcount = 0;
< #line 568
<     outring = dev_priv->ring.tail;
< #line 568
<     ringmask = dev_priv->ring.tail_mask;
< #line 568
<     virt = dev_priv->ring.virtual_start;
< #line 568
<     break;
<   }
< #line 569
<   while (1) {
13678c13667
<     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
---
>     outcount = 0;
13680c13669
<     outcount = outcount + 1U;
---
>     outring = dev_priv->ring.tail;
13682c13671
<     outring = outring + 4U;
---
>     ringmask = dev_priv->ring.tail_mask;
13684c13673
<     outring = outring & ringmask;
---
>     virt = dev_priv->ring.virtual_start;
13691c13680
<     *((unsigned int volatile   *)(virt + outring)) = 16 << 2;
---
>     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
13704c13693
<     *((unsigned int volatile   *)(virt + outring)) = seqno;
---
>     *((unsigned int volatile   *)(virt + outring)) = 16 << 2;
13714c13703
< #line 573
---
> #line 572
13716,13718c13705,13707
< #line 573
<     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
< #line 573
---
> #line 572
>     *((unsigned int volatile   *)(virt + outring)) = seqno;
> #line 572
13720c13709
< #line 573
---
> #line 572
13722c13711
< #line 573
---
> #line 572
13724c13713
< #line 573
---
> #line 572
13730c13719
<     dev_priv->ring.tail = outring;
---
>     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
13732c13721
<     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>     outcount = outcount + 1U;
13734c13723,13725
<     writel(outring, dev_priv->regs + 8240);
---
>     outring = outring + 4U;
> #line 574
>     outring = outring & ringmask;
13738c13729
< #line 576
---
> #line 575
13740c13731,13742
< #line 576
---
> #line 575
>     dev_priv->ring.tail = outring;
> #line 575
>     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 575
>     writel(outring, dev_priv->regs + 8240);
> #line 575
>     break;
>   }
> #line 577
>   while (1) {
> #line 577
13742c13744
< #line 576
---
> #line 577
13747c13749
< #line 576
---
> #line 577
13750,13751d13751
< #line 578
<   request->seqno = seqno;
13753c13753
<   request->emitted_jiffies = jiffies;
---
>   request->seqno = seqno;
13755c13755
<   request->flush_domains = flush_domains;
---
>   request->emitted_jiffies = jiffies;
13757c13757
<   was_empty = list_empty(& dev_priv->mm.request_list);
---
>   request->flush_domains = flush_domains;
13758a13759,13760
>   was_empty = list_empty(& dev_priv->mm.request_list);
> #line 583
13760,13761d13761
< #line 584
<   if (was_empty) {
13762a13763,13764
>   if (was_empty) {
> #line 586
13767c13769
< #line 586
---
> #line 587
13771c13773
< #line 595 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 596 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13783,13784d13784
< #line 598
<   dev_priv = dev->dev_private;
13786c13786
<   cmd = ((4 << 23) | 0) | (1 << 2);
---
>   dev_priv = dev->dev_private;
13787a13788,13789
>   cmd = ((4 << 23) | 0) | (1 << 2);
> #line 601
13789,13790d13790
< #line 604
<   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
13791a13792,13793
>   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 606
13796c13798
< #line 606
---
> #line 607
13798c13800
< #line 606
---
> #line 607
13800c13802
< #line 606
---
> #line 607
13805,13817d13806
< #line 606
<     outcount = 0;
< #line 606
<     outring = dev_priv->ring.tail;
< #line 606
<     ringmask = dev_priv->ring.tail_mask;
< #line 606
<     virt = dev_priv->ring.virtual_start;
< #line 606
<     break;
<   }
< #line 607
<   while (1) {
13819c13808
<     *((unsigned int volatile   *)(virt + outring)) = cmd;
---
>     outcount = 0;
13821c13810
<     outcount = outcount + 1U;
---
>     outring = dev_priv->ring.tail;
13823c13812
<     outring = outring + 4U;
---
>     ringmask = dev_priv->ring.tail_mask;
13825c13814
<     outring = outring & ringmask;
---
>     virt = dev_priv->ring.virtual_start;
13832c13821
<     *((unsigned int volatile   *)(virt + outring)) = 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = cmd;
13845c13834
<     dev_priv->ring.tail = outring;
---
>     *((unsigned int volatile   *)(virt + outring)) = 0;
13847c13836
<     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>     outcount = outcount + 1U;
13849c13838,13840
<     writel(outring, dev_priv->regs + 8240);
---
>     outring = outring + 4U;
> #line 609
>     outring = outring & ringmask;
13853a13845,13855
>   while (1) {
> #line 610
>     dev_priv->ring.tail = outring;
> #line 610
>     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 610
>     writel(outring, dev_priv->regs + 8240);
> #line 610
>     break;
>   }
> #line 611
13857c13859
< #line 617 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 618 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13873c13875
< #line 621
---
> #line 622
13875c13877
< #line 626
---
> #line 627
13877c13879
< #line 626
---
> #line 627
13879c13881
< #line 626
---
> #line 627
13881c13883
< #line 626
---
> #line 627
13886c13888
< #line 630
---
> #line 631
13888c13890
< #line 630
---
> #line 631
13890c13892
< #line 633
---
> #line 634
13892,13893d13893
< #line 639
<     if (obj_priv->last_rendering_seqno != request->seqno) {
13894a13895,13896
>     if (obj_priv->last_rendering_seqno != request->seqno) {
> #line 641
13899,13900d13900
< #line 646
<     if (obj->write_domain != (uint32_t )0) {
13901a13902,13903
>     if (obj->write_domain != (uint32_t )0) {
> #line 648
13904c13906
< #line 650
---
> #line 651
13908c13910
< #line 654
---
> #line 655
13910c13912
< #line 660
---
> #line 661
13912c13914
< #line 660
---
> #line 661
13914c13916
< #line 660
---
> #line 661
13916c13918
< #line 660
---
> #line 661
13918c13920
< #line 660
---
> #line 661
13920c13922
< #line 660
---
> #line 661
13924c13926
< #line 660
---
> #line 661
13927c13929
< #line 662
---
> #line 663
13929,13930d13930
< #line 664
<       if (obj___0->write_domain & request->flush_domains) {
13932c13932
<         obj___0->write_domain = 0;
---
>       if (obj___0->write_domain & request->flush_domains) {
13933a13934,13935
>         obj___0->write_domain = 0;
> #line 667
13938c13940
< #line 660
---
> #line 661
13940c13942
< #line 660
---
> #line 661
13942c13944
< #line 660
---
> #line 661
13948c13950
< #line 671
---
> #line 672
13952c13954
< #line 676 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 677 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13958c13960
< #line 679
---
> #line 680
13962c13964
< #line 682 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 683 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13968c13970
< #line 685
---
> #line 686
13970c13972
< #line 687
---
> #line 688
13974c13976
< #line 693 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 694 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
13986c13988
< #line 696
---
> #line 697
13988c13990
< #line 699
---
> #line 700
13990c13992
< #line 701
---
> #line 702
13992c13994
< #line 701
---
> #line 702
13994c13996
< #line 701
---
> #line 702
13996c13998
< #line 701
---
> #line 702
14001c14003
< #line 705
---
> #line 706
14003c14005
< #line 705
---
> #line 706
14005c14007
< #line 708
---
> #line 709
14007c14009
< #line 710
---
> #line 711
14009c14011
< #line 710
---
> #line 711
14011c14013
< #line 712
---
> #line 713
14013,14014d14014
< #line 714
<       list_del(& request->list);
14015a14016,14017
>       list_del(& request->list);
> #line 716
14018c14020
< #line 717
---
> #line 718
14022c14024
< #line 719
---
> #line 720
14026c14028
< #line 721 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 722 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14035c14037
< #line 727
---
> #line 728
14037c14039
< #line 727
---
> #line 728
14039c14041
< #line 729
---
> #line 730
14041,14042d14042
< #line 731
<   mutex_lock(& dev->struct_mutex);
14044c14044
<   i915_gem_retire_requests(dev);
---
>   mutex_lock(& dev->struct_mutex);
14045a14046,14047
>   i915_gem_retire_requests(dev);
> #line 734
14047c14049
< #line 733
---
> #line 734
14051c14053
< #line 734
---
> #line 735
14054,14055d14055
< #line 735
<   mutex_unlock(& dev->struct_mutex);
14056a14057,14058
>   mutex_unlock(& dev->struct_mutex);
> #line 737
14060c14062
< #line 742 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 743 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14080,14081d14081
< #line 745
<   dev_priv = dev->dev_private;
14082a14083,14084
>   dev_priv = dev->dev_private;
> #line 747
14084c14086
< #line 748
---
> #line 749
14086c14088
< #line 748
---
> #line 749
14088c14090
< #line 748
---
> #line 749
14090c14092
< #line 748
---
> #line 749
14092c14094
< #line 748
---
> #line 749
14099,14100c14101,14102
<                              "i" (748), "i" (sizeof(struct bug_entry )));
< #line 748
---
>                              "i" (749), "i" (sizeof(struct bug_entry )));
> #line 749
14104c14106
< #line 748
---
> #line 749
14110c14112
< #line 748
---
> #line 749
14113c14115
< #line 750
---
> #line 751
14115c14117
< #line 750
---
> #line 751
14117c14119
< #line 750
---
> #line 751
14121,14122d14122
< #line 751
<     dev_priv->mm.waiting_gem_seqno = seqno;
14124c14124
<     i915_user_irq_get(dev);
---
>     dev_priv->mm.waiting_gem_seqno = seqno;
14125a14126,14127
>     i915_user_irq_get(dev);
> #line 754
14127c14129
< #line 753
---
> #line 754
14129c14131
< #line 753
---
> #line 754
14131c14133
< #line 753
---
> #line 754
14135c14137
< #line 753
---
> #line 754
14137c14139
< #line 753
---
> #line 754
14139c14141
< #line 753
---
> #line 754
14141c14143
< #line 753
---
> #line 754
14143c14145
< #line 753
---
> #line 754
14145c14147
< #line 753
---
> #line 754
14147c14149
< #line 753
---
> #line 754
14149c14151
< #line 753
---
> #line 754
14151c14153
< #line 753
---
> #line 754
14153c14155
< #line 753
---
> #line 754
14155c14157
< #line 753
---
> #line 754
14157c14159
< #line 753
---
> #line 754
14159c14161
< #line 753
---
> #line 754
14164c14166
< #line 753
---
> #line 754
14166c14168
< #line 753
---
> #line 754
14168c14170
< #line 753
---
> #line 754
14172c14174
< #line 753
---
> #line 754
14174c14176
< #line 753
---
> #line 754
14177c14179
< #line 753
---
> #line 754
14179c14181
< #line 753
---
> #line 754
14183c14185
< #line 753
---
> #line 754
14185c14187
< #line 753
---
> #line 754
14189c14191
< #line 753
---
> #line 754
14191,14192d14192
< #line 757
<     i915_user_irq_put(dev);
14193a14194,14195
>     i915_user_irq_put(dev);
> #line 759
14196,14197d14197
< #line 760
<   if (dev_priv->mm.wedged) {
14198a14199,14200
>   if (dev_priv->mm.wedged) {
> #line 762
14203,14204d14204
< #line 763
<   if (ret && ret != -512) {
14205a14206,14207
>   if (ret && ret != -512) {
> #line 765
14207c14209
< #line 764
---
> #line 765
14213,14214d14214
< #line 772
<   if (ret == 0) {
14215a14216,14217
>   if (ret == 0) {
> #line 774
14220c14222
< #line 775
---
> #line 776
14224c14226
< #line 778 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 779 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14236c14238
< #line 783
---
> #line 784
14238,14239d14239
< #line 792
<   if (flush_domains & 1U) {
14240a14241,14242
>   if (flush_domains & 1U) {
> #line 794
14245c14247
< #line 795
---
> #line 796
14247,14248d14248
< #line 825
<     cmd = ((4 << 23) | 0) | (1 << 2);
14249a14250,14251
>     cmd = ((4 << 23) | 0) | (1 << 2);
> #line 827
14251c14253
< #line 828
---
> #line 829
14256c14258
< #line 829
---
> #line 830
14258,14259d14259
< #line 834
<       if (invalidate_domains & 4U) {
14260a14261,14262
>       if (invalidate_domains & 4U) {
> #line 836
14268,14269d14269
< #line 837
<     if (invalidate_domains & 16U) {
14270a14271,14272
>     if (invalidate_domains & 16U) {
> #line 839
14275c14277
< #line 843
---
> #line 844
14277c14279
< #line 843
---
> #line 844
14279c14281
< #line 843
---
> #line 844
14284,14296d14285
< #line 843
<       outcount = 0;
< #line 843
<       outring = dev_priv->ring.tail;
< #line 843
<       ringmask = dev_priv->ring.tail_mask;
< #line 843
<       virt = dev_priv->ring.virtual_start;
< #line 843
<       break;
<     }
< #line 844
<     while (1) {
14298c14287
<       *((unsigned int volatile   *)(virt + outring)) = cmd;
---
>       outcount = 0;
14300c14289
<       outcount = outcount + 1U;
---
>       outring = dev_priv->ring.tail;
14302c14291
<       outring = outring + 4U;
---
>       ringmask = dev_priv->ring.tail_mask;
14304c14293
<       outring = outring & ringmask;
---
>       virt = dev_priv->ring.virtual_start;
14311c14300
<       *((unsigned int volatile   *)(virt + outring)) = 0;
---
>       *((unsigned int volatile   *)(virt + outring)) = cmd;
14324c14313
<       dev_priv->ring.tail = outring;
---
>       *((unsigned int volatile   *)(virt + outring)) = 0;
14326c14315
<       dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>       outcount = outcount + 1U;
14328c14317,14319
<       writel(outring, dev_priv->regs + 8240);
---
>       outring = outring + 4U;
> #line 846
>       outring = outring & ringmask;
14331a14323,14333
> #line 847
>     while (1) {
> #line 847
>       dev_priv->ring.tail = outring;
> #line 847
>       dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 847
>       writel(outring, dev_priv->regs + 8240);
> #line 847
>       break;
>     }
14335c14337
< #line 848
---
> #line 849
14339c14341
< #line 854 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 855 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14349,14350d14350
< #line 857
<   dev = obj->dev;
14351a14352,14353
>   dev = obj->dev;
> #line 859
14353,14354d14354
< #line 864
<   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
14355a14356,14357
>   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
> #line 866
14357c14359
< #line 870
---
> #line 871
14359,14360d14360
< #line 872
<     i915_gem_object_move_to_active(obj);
14361a14362,14363
>     i915_gem_object_move_to_active(obj);
> #line 874
14363c14365
< #line 875
---
> #line 876
14365c14367
< #line 875
---
> #line 876
14368c14370
< #line 875
---
> #line 876
14370c14372
< #line 875
---
> #line 876
14372c14374
< #line 875
---
> #line 876
14379,14380c14381,14382
<                                "i" (875), "i" (sizeof(struct bug_entry )));
< #line 875
---
>                                "i" (876), "i" (sizeof(struct bug_entry )));
> #line 876
14384c14386
< #line 875
---
> #line 876
14390c14392
< #line 875
---
> #line 876
14396c14398
< #line 884
---
> #line 885
14398,14399d14399
< #line 889
<     ret = i915_wait_request(dev, obj_priv->last_rendering_seqno);
14401c14401
<     if (ret != 0) {
---
>     ret = i915_wait_request(dev, obj_priv->last_rendering_seqno);
14402a14403,14404
>     if (ret != 0) {
> #line 892
14410c14412
< #line 894
---
> #line 895
14414c14416
< #line 900 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 901 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14424,14425d14425
< #line 903
<   dev = obj->dev;
14427c14427
<   obj_priv = obj->driver_private;
---
>   dev = obj->dev;
14428a14429,14430
>   obj_priv = obj->driver_private;
> #line 906
14430,14431d14431
< #line 911
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
14432a14433,14434
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
> #line 913
14437,14438d14438
< #line 914
<   if (obj_priv->pin_count != 0) {
14440c14440
<     printk("<3>[drm:%s] *ERROR* Attempting to unbind pinned buffer\n", "i915_gem_object_unbind");
---
>   if (obj_priv->pin_count != 0) {
14441a14442,14443
>     printk("<3>[drm:%s] *ERROR* Attempting to unbind pinned buffer\n", "i915_gem_object_unbind");
> #line 917
14446,14447d14447
< #line 921
<   ret = i915_gem_object_wait_rendering(obj);
14449c14449
<   if (ret) {
---
>   ret = i915_gem_object_wait_rendering(obj);
14450a14451,14452
>   if (ret) {
> #line 924
14453c14455
< #line 924
---
> #line 925
14458c14460
< #line 933
---
> #line 934
14460,14461d14461
< #line 935
<   if (ret) {
14462a14463,14464
>   if (ret) {
> #line 937
14465c14467
< #line 937
---
> #line 938
14470,14471d14471
< #line 940
<   if ((unsigned long )obj_priv->agp_mem != (unsigned long )((void *)0)) {
14473c14473
<     drm_unbind_agp(obj_priv->agp_mem);
---
>   if ((unsigned long )obj_priv->agp_mem != (unsigned long )((void *)0)) {
14475c14475
<     drm_free_agp(obj_priv->agp_mem, obj->size / (1UL << 12));
---
>     drm_unbind_agp(obj_priv->agp_mem);
14476a14477,14478
>     drm_free_agp(obj_priv->agp_mem, obj->size / (1UL << 12));
> #line 944
14481c14483
< #line 946
---
> #line 947
14483c14485
< #line 946
---
> #line 947
14485c14487
< #line 946
---
> #line 947
14487c14489
< #line 946
---
> #line 947
14489c14491
< #line 946
---
> #line 947
14496,14497c14498,14499
<                              "i" (946), "i" (sizeof(struct bug_entry )));
< #line 946
---
>                              "i" (947), "i" (sizeof(struct bug_entry )));
> #line 947
14501c14503
< #line 946
---
> #line 947
14507c14509
< #line 946
---
> #line 947
14510c14512
< #line 948
---
> #line 949
14512,14513d14513
< #line 950
<   if (obj_priv->gtt_space) {
14515c14515
<     atomic_dec(& dev->gtt_count);
---
>   if (obj_priv->gtt_space) {
14516a14517,14518
>     atomic_dec(& dev->gtt_count);
> #line 953
14518,14519d14519
< #line 954
<     drm_mm_put_block(obj_priv->gtt_space);
14520a14521,14522
>     drm_mm_put_block(obj_priv->gtt_space);
> #line 956
14525c14527
< #line 959
---
> #line 960
14527c14529
< #line 959
---
> #line 960
14531c14533
< #line 960
---
> #line 961
14534c14536
< #line 962
---
> #line 963
14538c14540
< #line 965 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 966 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14560c14562
< #line 968
---
> #line 969
14562c14564
< #line 971
---
> #line 972
14564c14566
< #line 973
---
> #line 974
14566c14568
< #line 977
---
> #line 978
14568c14570
< #line 977
---
> #line 978
14572c14574
< #line 978
---
> #line 979
14574c14576
< #line 978
---
> #line 979
14576,14577d14577
< #line 981
<       obj = obj_priv->obj;
14578a14579,14580
>       obj = obj_priv->obj;
> #line 983
14580c14582
< #line 982
---
> #line 983
14582c14584
< #line 982
---
> #line 983
14584c14586
< #line 982
---
> #line 983
14586c14588
< #line 982
---
> #line 983
14593,14594c14595,14596
<                                  "i" (982), "i" (sizeof(struct bug_entry )));
< #line 982
---
>                                  "i" (983), "i" (sizeof(struct bug_entry )));
> #line 983
14598c14600
< #line 982
---
> #line 983
14604c14606
< #line 982
---
> #line 983
14607c14609
< #line 986
---
> #line 987
14609c14611
< #line 986
---
> #line 987
14611c14613
< #line 986
---
> #line 987
14613c14615
< #line 986
---
> #line 987
14615c14617
< #line 986
---
> #line 987
14622,14623c14624,14625
<                                  "i" (986), "i" (sizeof(struct bug_entry )));
< #line 986
---
>                                  "i" (987), "i" (sizeof(struct bug_entry )));
> #line 987
14627c14629
< #line 986
---
> #line 987
14633c14635
< #line 986
---
> #line 987
14636,14637d14637
< #line 989
<       ret = i915_gem_object_unbind(obj);
14638a14639,14640
>       ret = i915_gem_object_unbind(obj);
> #line 991
14641c14643
< #line 997
---
> #line 998
14643c14645
< #line 997
---
> #line 998
14647c14649
< #line 1000
---
> #line 1001
14649c14651
< #line 1000
---
> #line 1001
14651,14652d14652
< #line 1004
<       ret = i915_wait_request(dev, request->seqno);
14654c14654
<       if (ret) {
---
>       ret = i915_wait_request(dev, request->seqno);
14655a14656,14657
>       if (ret) {
> #line 1007
14660c14662
< #line 1013
---
> #line 1014
14662c14664
< #line 1013
---
> #line 1014
14666c14668
< #line 1014
---
> #line 1015
14669c14671
< #line 1015
---
> #line 1016
14672c14674
< #line 1023
---
> #line 1024
14674c14676
< #line 1023
---
> #line 1024
14678c14680
< #line 1024
---
> #line 1025
14680c14682
< #line 1024
---
> #line 1025
14682c14684
< #line 1027
---
> #line 1028
14684c14686
< #line 1029
---
> #line 1030
14686c14688
< #line 1032
---
> #line 1033
14688,14689d14689
< #line 1034
<       obj = (void *)0;
14690a14691,14692
>       obj = (void *)0;
> #line 1036
14693c14695
< #line 1038
---
> #line 1039
14695c14697
< #line 1038
---
> #line 1039
14697c14699
< #line 1038
---
> #line 1039
14699c14701
< #line 1038
---
> #line 1039
14702c14704
< #line 1046
---
> #line 1047
14706c14708
< #line 1048
---
> #line 1049
14710c14712
< #line 1051 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1052 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14726c14728
< #line 1054
---
> #line 1055
14728,14729d14729
< #line 1061
<   if (obj_priv->page_list) {
14730a14731,14732
>   if (obj_priv->page_list) {
> #line 1063
14735,14736d14736
< #line 1067
<   page_count___0 = obj->size / (1UL << 12);
14737a14738,14739
>   page_count___0 = obj->size / (1UL << 12);
> #line 1069
14739c14741
< #line 1068
---
> #line 1069
14742c14744
< #line 1068
---
> #line 1069
14744c14746
< #line 1068
---
> #line 1069
14746c14748
< #line 1068
---
> #line 1069
14753,14754c14755,14756
<                              "i" (1068), "i" (sizeof(struct bug_entry )));
< #line 1068
---
>                              "i" (1069), "i" (sizeof(struct bug_entry )));
> #line 1069
14758c14760
< #line 1068
---
> #line 1069
14764c14766
< #line 1068
---
> #line 1069
14767c14769
< #line 1069
---
> #line 1070
14769c14771
< #line 1069
---
> #line 1070
14771,14772d14772
< #line 1071
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
14774c14774
<     printk("<3>[drm:%s] *ERROR* Faled to allocate page list\n", "i915_gem_object_get_page_list");
---
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
14775a14776,14777
>     printk("<3>[drm:%s] *ERROR* Faled to allocate page list\n", "i915_gem_object_get_page_list");
> #line 1074
14780,14781d14781
< #line 1076
<   inode = ((obj->filp)->f_path.dentry)->d_inode;
14783c14783
<   mapping = inode->i_mapping;
---
>   inode = ((obj->filp)->f_path.dentry)->d_inode;
14784a14785,14786
>   mapping = inode->i_mapping;
> #line 1079
14786c14788
< #line 1078
---
> #line 1079
14788c14790
< #line 1078
---
> #line 1079
14792c14794
< #line 1078
---
> #line 1079
14795,14796d14796
< #line 1079
<     page = read_mapping_page(mapping, i, (void *)0);
14797a14798,14799
>     page = read_mapping_page(mapping, i, (void *)0);
> #line 1081
14799,14800d14800
< #line 1080
<     if (tmp___2) {
14801a14802,14803
>     if (tmp___2) {
> #line 1082
14803,14804d14804
< #line 1081
<       ret = tmp___1;
14805a14806,14807
>       ret = tmp___1;
> #line 1083
14808,14809d14809
< #line 1083
<       i915_gem_object_free_page_list(obj);
14810a14811,14812
>       i915_gem_object_free_page_list(obj);
> #line 1085
14815c14817
< #line 1086
---
> #line 1087
14817c14819
< #line 1078
---
> #line 1079
14820c14822
< #line 1088
---
> #line 1089
14824c14826
< #line 1094 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1095 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
14840,14841d14841
< #line 1097
<   dev = obj->dev;
14843c14843
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
14844a14845,14846
>   dev_priv = dev->dev_private;
> #line 1100
14846,14847d14847
< #line 1103
<   if (alignment == 0U) {
14848a14849,14850
>   if (alignment == 0U) {
> #line 1105
14853,14854d14854
< #line 1105
<   if ((unsigned long )alignment & ((1UL << 12) - 1UL)) {
14855a14856,14857
>   if ((unsigned long )alignment & ((1UL << 12) - 1UL)) {
> #line 1107
14858c14860
< #line 1107
---
> #line 1108
14864c14866
< #line 1111
---
> #line 1112
14867,14868d14868
< #line 1113
<   if ((unsigned long )free_space != (unsigned long )((void *)0)) {
14869a14870,14871
>   if ((unsigned long )free_space != (unsigned long )((void *)0)) {
> #line 1115
14871,14872d14872
< #line 1116
<     if ((unsigned long )obj_priv->gtt_space != (unsigned long )((void *)0)) {
14874c14874
<       (obj_priv->gtt_space)->private = obj;
---
>     if ((unsigned long )obj_priv->gtt_space != (unsigned long )((void *)0)) {
14875a14876,14877
>       (obj_priv->gtt_space)->private = obj;
> #line 1119
14883c14885
< #line 1121
---
> #line 1122
14885c14887
< #line 1128
---
> #line 1129
14887c14889
< #line 1128
---
> #line 1129
14889c14891
< #line 1128
---
> #line 1129
14891c14893
< #line 1128
---
> #line 1129
14893c14895
< #line 1128
---
> #line 1129
14895c14897
< #line 1128
---
> #line 1129
14897,14898d14898
< #line 1131
<           printk("<3>[drm:%s] *ERROR* GTT full, but LRU list empty\n", "i915_gem_object_bind_to_gtt");
14899a14900,14901
>           printk("<3>[drm:%s] *ERROR* GTT full, but LRU list empty\n", "i915_gem_object_bind_to_gtt");
> #line 1133
14910,14911d14911
< #line 1135
<     ret = i915_gem_evict_something(dev);
14913c14913
<     if (ret != 0) {
---
>     ret = i915_gem_evict_something(dev);
14914a14915,14916
>     if (ret != 0) {
> #line 1138
14917c14919
< #line 1138
---
> #line 1139
14922c14924
< #line 1140
---
> #line 1141
14927,14928d14928
< #line 1147
<   ret = i915_gem_object_get_page_list(obj);
14930c14930
<   if (ret) {
---
>   ret = i915_gem_object_get_page_list(obj);
14932c14932
<     drm_mm_put_block(obj_priv->gtt_space);
---
>   if (ret) {
14934c14934
<     obj_priv->gtt_space = (void *)0;
---
>     drm_mm_put_block(obj_priv->gtt_space);
14935a14936,14937
>     obj_priv->gtt_space = (void *)0;
> #line 1152
14940c14942
< #line 1154
---
> #line 1155
14942c14944
< #line 1158
---
> #line 1159
14945,14946d14946
< #line 1162
<   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
14948c14948
<     i915_gem_object_free_page_list(obj);
---
>   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
14950c14950
<     drm_mm_put_block(obj_priv->gtt_space);
---
>     i915_gem_object_free_page_list(obj);
14952c14952
<     obj_priv->gtt_space = (void *)0;
---
>     drm_mm_put_block(obj_priv->gtt_space);
14953a14954,14955
>     obj_priv->gtt_space = (void *)0;
> #line 1167
14958,14959d14959
< #line 1168
<   atomic_inc(& dev->gtt_count);
14960a14961,14962
>   atomic_inc(& dev->gtt_count);
> #line 1170
14962c14964
< #line 1175
---
> #line 1176
14964c14966
< #line 1175
---
> #line 1176
14967c14969
< #line 1175
---
> #line 1176
14969c14971
< #line 1175
---
> #line 1176
14971c14973
< #line 1175
---
> #line 1176
14978,14979c14980,14981
<                              "i" (1175), "i" (sizeof(struct bug_entry )));
< #line 1175
---
>                              "i" (1176), "i" (sizeof(struct bug_entry )));
> #line 1176
14983c14985
< #line 1175
---
> #line 1176
14989c14991
< #line 1175
---
> #line 1176
14992c14994
< #line 1176
---
> #line 1177
14994c14996
< #line 1176
---
> #line 1177
14997c14999
< #line 1176
---
> #line 1177
14999c15001
< #line 1176
---
> #line 1177
15001c15003
< #line 1176
---
> #line 1177
15008,15009c15010,15011
<                              "i" (1176), "i" (sizeof(struct bug_entry )));
< #line 1176
---
>                              "i" (1177), "i" (sizeof(struct bug_entry )));
> #line 1177
15013c15015
< #line 1176
---
> #line 1177
15019c15021
< #line 1176
---
> #line 1177
15022c15024
< #line 1178
---
> #line 1179
15026c15028
< #line 1181 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1182 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15032c15034
< #line 1184
---
> #line 1185
15034,15035d15035
< #line 1190
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
15036a15037,15038
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
> #line 1192
15041,15042d15042
< #line 1193
<   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
15043a15044,15045
>   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
> #line 1195
15047c15049
< #line 1307 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1308 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15058,15059d15059
< #line 1312
<   dev = obj->dev;
15061c15061
<   obj_priv = obj->driver_private;
---
>   dev = obj->dev;
15063c15063
<   invalidate_domains = 0;
---
>   obj_priv = obj->driver_private;
15064a15065,15066
>   invalidate_domains = 0;
> #line 1316
15066,15067d15067
< #line 1328
<   if (write_domain == (uint32_t )0) {
15068a15069,15070
>   if (write_domain == (uint32_t )0) {
> #line 1330
15071c15073
< #line 1331
---
> #line 1332
15074,15075d15075
< #line 1339
<   if (obj->write_domain && obj->write_domain != read_domains) {
15077c15077
<     flush_domains = flush_domains | obj->write_domain;
---
>   if (obj->write_domain && obj->write_domain != read_domains) {
15078a15079,15080
>     flush_domains = flush_domains | obj->write_domain;
> #line 1342
15083,15084d15084
< #line 1347
<   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
15085a15086,15087
>   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
> #line 1349
15087c15089
< #line 1358
---
> #line 1359
15089,15090d15090
< #line 1361
<       ret = i915_gem_object_wait_rendering(obj);
15092c15092
<       if (ret) {
---
>       ret = i915_gem_object_wait_rendering(obj);
15093a15094,15095
>       if (ret) {
> #line 1364
15101c15103
< #line 1365
---
> #line 1366
15106,15107d15107
< #line 1368
<   if ((write_domain | flush_domains) != 0U) {
15108a15109,15110
>   if ((write_domain | flush_domains) != 0U) {
> #line 1370
15113c15115
< #line 1374
---
> #line 1375
15115c15117
< #line 1377
---
> #line 1378
15117c15119
< #line 1379
---
> #line 1380
15122c15124
< #line 1381
---
> #line 1382
15124,15125d15125
< #line 1383
<   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
15126a15127,15128
>   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
> #line 1385
15128c15130
< #line 1391
---
> #line 1392
15132c15134
< #line 1400 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1401 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15144c15146
< #line 1407
---
> #line 1408
15146,15147d15147
< #line 1410
<   if (obj->read_domains & 1U) {
15148a15149,15150
>   if (obj->read_domains & 1U) {
> #line 1412
15153c15155
< #line 1413
---
> #line 1414
15155c15157
< #line 1415
---
> #line 1416
15157c15159
< #line 1415
---
> #line 1416
15162,15163d15163
< #line 1419
<   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15165c15165
<     ret = i915_gem_object_wait_rendering(obj);
---
>   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15167c15167
<     if (ret) {
---
>     ret = i915_gem_object_wait_rendering(obj);
15168a15169,15170
>     if (ret) {
> #line 1423
15176,15177d15177
< #line 1425
<   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
15178a15179,15180
>   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
> #line 1427
15180c15182
< #line 1426
---
> #line 1427
15185c15187
< #line 1433
---
> #line 1434
15187c15189
< #line 1433
---
> #line 1434
15189c15191
< #line 1433
---
> #line 1434
15193c15195
< #line 1433
---
> #line 1434
15196,15197d15197
< #line 1434
<     if (*(obj_priv->page_cpu_valid + i)) {
15198a15199,15200
>     if (*(obj_priv->page_cpu_valid + i)) {
> #line 1436
15203c15205
< #line 1437
---
> #line 1438
15205c15207
< #line 1439
---
> #line 1440
15208c15210
< #line 1433
---
> #line 1434
15211c15213
< #line 1442
---
> #line 1443
15215c15217
< #line 1451 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1452 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15221c15223
< #line 1454
---
> #line 1455
15223c15225
< #line 1460
---
> #line 1461
15225c15227
< #line 1467
---
> #line 1468
15227,15228d15228
< #line 1470
<     dev->invalidate_domains = 0;
15229a15230,15231
>     dev->invalidate_domains = 0;
> #line 1472
15234c15236
< #line 1474
---
> #line 1475
15238c15240
< #line 1480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15259c15261
< #line 1485
---
> #line 1486
15261c15263
< #line 1488
---
> #line 1489
15263,15264d15264
< #line 1490
<   last_reloc_offset = -1;
15265a15266,15267
>   last_reloc_offset = -1;
> #line 1492
15267,15268d15268
< #line 1494
<   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15270c15270
<   if (ret) {
---
>   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15271a15272,15273
>   if (ret) {
> #line 1497
15276c15278
< #line 1498
---
> #line 1499
15278c15280
< #line 1500
---
> #line 1501
15280c15282
< #line 1505
---
> #line 1506
15282c15284
< #line 1505
---
> #line 1506
15284c15286
< #line 1505
---
> #line 1506
15288c15290
< #line 1505
---
> #line 1506
15291c15293
< #line 1511
---
> #line 1512
15293,15294d15294
< #line 1511
<     ret = tmp;
15296c15296
<     if (ret != 0) {
---
>     ret = tmp;
15298c15298
<       i915_gem_object_unpin(obj);
---
>     if (ret != 0) {
15299a15300,15301
>       i915_gem_object_unpin(obj);
> #line 1515
15304c15306
< #line 1517
---
> #line 1518
15306,15307d15307
< #line 1519
<     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15309c15309
<       i915_gem_object_unpin(obj);
---
>     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15310a15311,15312
>       i915_gem_object_unpin(obj);
> #line 1522
15315c15317
< #line 1523
---
> #line 1524
15317,15318d15318
< #line 1528
<     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
15319a15320,15321
>     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
> #line 1530
15322,15323d15323
< #line 1531
<       drm_gem_object_unreference(target_obj);
15325c15325
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15326a15327,15328
>       i915_gem_object_unpin(obj);
> #line 1534
15331,15332d15332
< #line 1536
<     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
15333a15334,15335
>     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
> #line 1538
15337,15338d15338
< #line 1541
<       drm_gem_object_unreference(target_obj);
15340c15340
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15341a15342,15343
>       i915_gem_object_unpin(obj);
> #line 1544
15346,15347d15347
< #line 1545
<     if (reloc.offset & 3ULL) {
15348a15349,15350
>     if (reloc.offset & 3ULL) {
> #line 1547
15351,15352d15352
< #line 1550
<       drm_gem_object_unreference(target_obj);
15354c15354
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15355a15356,15357
>       i915_gem_object_unpin(obj);
> #line 1553
15360c15362
< #line 1555
---
> #line 1556
15362c15364
< #line 1557
---
> #line 1558
15366,15367d15367
< #line 1564
<       drm_gem_object_unreference(target_obj);
15369c15369
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15370a15371,15372
>       i915_gem_object_unpin(obj);
> #line 1567
15375,15376d15376
< #line 1584
<     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
15377a15378,15379
>     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
> #line 1586
15379,15380d15380
< #line 1590
<     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15382c15382
<       drm_gem_object_unreference(target_obj);
---
>     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15383a15384,15385
>       drm_gem_object_unreference(target_obj);
> #line 1593
15388c15390
< #line 1599
---
> #line 1600
15390,15391d15391
< #line 1604
<     if (obj->write_domain & 1U) {
15393c15393
<       i915_gem_clflush_object(obj);
---
>     if (obj->write_domain & 1U) {
15395c15395
<       drm_agp_chipset_flush(dev);
---
>       i915_gem_clflush_object(obj);
15396a15397,15398
>       drm_agp_chipset_flush(dev);
> #line 1608
15401,15402d15402
< #line 1613
<     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
15403a15404,15405
>     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
> #line 1615
15405,15406d15406
< #line 1617
<       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15407a15408,15409
>       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1619
15412c15414
< #line 1620
---
> #line 1621
15415,15416d15416
< #line 1624
<       last_reloc_offset = reloc_offset;
15418c15418
<       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
---
>       last_reloc_offset = reloc_offset;
15420c15420
<         drm_gem_object_unreference(target_obj);
---
>       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
15422c15422
<         i915_gem_object_unpin(obj);
---
>         drm_gem_object_unreference(target_obj);
15423a15424,15425
>         i915_gem_object_unpin(obj);
> #line 1629
15431c15433
< #line 1632
---
> #line 1633
15433c15435
< #line 1634
---
> #line 1635
15435c15437
< #line 1641
---
> #line 1642
15437,15438d15438
< #line 1646
<     reloc.presumed_offset = target_obj_priv->gtt_offset;
15439a15440,15441
>     reloc.presumed_offset = target_obj_priv->gtt_offset;
> #line 1648
15441,15442d15442
< #line 1647
<     ret = tmp___0;
15444c15444
<     if (ret != 0) {
---
>     ret = tmp___0;
15446c15446
<       drm_gem_object_unreference(target_obj);
---
>     if (ret != 0) {
15448c15448
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15449a15450,15451
>       i915_gem_object_unpin(obj);
> #line 1652
15454c15456
< #line 1654
---
> #line 1655
15457c15459
< #line 1505
---
> #line 1506
15460,15461d15461
< #line 1657
<   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15462a15463,15464
>   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1659
15467c15469
< #line 1664
---
> #line 1665
15471c15473
< #line 1669 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1670 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15490,15491d15491
< #line 1674
<   dev_priv = dev->dev_private;
15492a15493,15494
>   dev_priv = dev->dev_private;
> #line 1676
15494,15495d15495
< #line 1677
<   nbox = exec->num_cliprects;
15496a15497,15498
>   nbox = exec->num_cliprects;
> #line 1679
15498,15499d15499
< #line 1682
<   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
15500a15501,15502
>   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
> #line 1684
15502,15503d15503
< #line 1685
<   if ((exec_start | exec_len) & 7U) {
15505c15505
<     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
---
>   if ((exec_start | exec_len) & 7U) {
15506a15507,15508
>     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
> #line 1688
15511,15512d15512
< #line 1690
<   if (! exec_start) {
15513a15514,15515
>   if (! exec_start) {
> #line 1692
15518c15520
< #line 1693
---
> #line 1694
15520c15522
< #line 1695
---
> #line 1696
15522c15524
< #line 1695
---
> #line 1696
15524c15526
< #line 1695
---
> #line 1696
15528c15530
< #line 1695
---
> #line 1696
15531,15532d15532
< #line 1696
<     if (i < nbox) {
15533a15534,15535
>     if (i < nbox) {
> #line 1698
15535c15537
< #line 1697
---
> #line 1698
15537,15538d15538
< #line 1699
<       if (ret) {
15539a15540,15541
>       if (ret) {
> #line 1701
15547,15548d15548
< #line 1703
<     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
15549a15550,15551
>     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
> #line 1705
15551c15553
< #line 1704
---
> #line 1705
15553c15555
< #line 1704
---
> #line 1705
15558,15570d15559
< #line 1704
<         outcount = 0;
< #line 1704
<         outring = dev_priv->ring.tail;
< #line 1704
<         ringmask = dev_priv->ring.tail_mask;
< #line 1704
<         virt = dev_priv->ring.virtual_start;
< #line 1704
<         break;
<       }
< #line 1705
<       while (1) {
15572c15561
<         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
---
>         outcount = 0;
15574c15563
<         outcount = outcount + 1U;
---
>         outring = dev_priv->ring.tail;
15576c15565
<         outring = outring + 4U;
---
>         ringmask = dev_priv->ring.tail_mask;
15578c15567
<         outring = outring & ringmask;
---
>         virt = dev_priv->ring.virtual_start;
15585c15574
<         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
---
>         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
15598c15587
<         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
---
>         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
15611c15600
<         *((unsigned int volatile   *)(virt + outring)) = 0;
---
>         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
15624c15613
<         dev_priv->ring.tail = outring;
---
>         *((unsigned int volatile   *)(virt + outring)) = 0;
15626c15615
<         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>         outcount = outcount + 1U;
15628c15617,15619
<         writel(outring, dev_priv->regs + 8240);
---
>         outring = outring + 4U;
> #line 1709
>         outring = outring & ringmask;
15631a15623,15633
> #line 1710
>       while (1) {
> #line 1710
>         dev_priv->ring.tail = outring;
> #line 1710
>         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 1710
>         writel(outring, dev_priv->regs + 8240);
> #line 1710
>         break;
>       }
15633c15635
< #line 1711
---
> #line 1712
15635c15637
< #line 1711
---
> #line 1712
15637c15639
< #line 1711
---
> #line 1712
15642c15644
< #line 1711
---
> #line 1712
15644c15646
< #line 1711
---
> #line 1712
15646c15648
< #line 1711
---
> #line 1712
15648c15650
< #line 1711
---
> #line 1712
15650c15652
< #line 1711
---
> #line 1712
15653,15654d15654
< #line 1712
<       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
15655a15656,15657
>       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 1714
15657c15659
< #line 1713
---
> #line 1714
15659c15661
< #line 1713
---
> #line 1714
15661c15663
< #line 1713
---
> #line 1714
15663c15665
< #line 1713
---
> #line 1714
15665c15667
< #line 1713
---
> #line 1714
15668c15670
< #line 1716
---
> #line 1717
15670c15672
< #line 1716
---
> #line 1717
15672c15674
< #line 1716
---
> #line 1717
15674c15676
< #line 1716
---
> #line 1717
15676c15678
< #line 1716
---
> #line 1717
15678c15680
< #line 1716
---
> #line 1717
15682c15684
< #line 1718
---
> #line 1719
15684c15686
< #line 1718
---
> #line 1719
15686c15688
< #line 1718
---
> #line 1719
15688c15690
< #line 1718
---
> #line 1719
15690c15692
< #line 1718
---
> #line 1719
15692c15694
< #line 1718
---
> #line 1719
15695c15697
< #line 1720
---
> #line 1721
15697c15699
< #line 1720
---
> #line 1721
15699c15701
< #line 1720
---
> #line 1721
15701c15703
< #line 1720
---
> #line 1721
15703c15705
< #line 1720
---
> #line 1721
15705c15707
< #line 1720
---
> #line 1721
15709c15711
< #line 1722
---
> #line 1723
15711c15713
< #line 1722
---
> #line 1723
15713c15715
< #line 1722
---
> #line 1723
15715c15717
< #line 1722
---
> #line 1723
15717c15719
< #line 1722
---
> #line 1723
15721c15723
< #line 1695
---
> #line 1696
15724c15726
< #line 1727
---
> #line 1728
15728c15730
< #line 1736 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1737 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15736,15737d15737
< #line 1739
<   i915_file_priv = file_priv->driver_priv;
15738a15739,15740
>   i915_file_priv = file_priv->driver_priv;
> #line 1741
15740,15741d15741
< #line 1743
<   mutex_lock(& dev->struct_mutex);
15743c15743
<   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
---
>   mutex_lock(& dev->struct_mutex);
15744a15745,15746
>   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
> #line 1746
15746,15747d15747
< #line 1747
<   if (seqno) {
15748a15749,15750
>   if (seqno) {
> #line 1749
15753,15754d15754
< #line 1749
<   mutex_unlock(& dev->struct_mutex);
15755a15756,15757
>   mutex_unlock(& dev->struct_mutex);
> #line 1751
15759c15761
< #line 1753 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1754 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
15785,15786d15786
< #line 1757
<   dev_priv = dev->dev_private;
15788c15788
<   i915_file_priv = file_priv->driver_priv;
---
>   dev_priv = dev->dev_private;
15790c15790
<   args = data;
---
>   i915_file_priv = file_priv->driver_priv;
15792c15792
<   exec_list = (void *)0;
---
>   args = data;
15793a15794,15795
>   exec_list = (void *)0;
> #line 1762
15795c15797
< #line 1763
---
> #line 1764
15797,15798d15798
< #line 1772
<   if (args->buffer_count < (uint32_t )1) {
15799a15800,15801
>   if (args->buffer_count < (uint32_t )1) {
> #line 1774
15802c15804
< #line 1774
---
> #line 1775
15807c15809
< #line 1777
---
> #line 1778
15809c15811
< #line 1777
---
> #line 1778
15811c15813
< #line 1779
---
> #line 1780
15813c15815
< #line 1779
---
> #line 1780
15815,15816d15816
< #line 1781
<   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
15817a15818,15819
>   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
> #line 1783
15820,15821d15821
< #line 1785
<     ret = -12;
15822a15823,15824
>     ret = -12;
> #line 1787
15827c15829
< #line 1788
---
> #line 1789
15830c15832
< #line 1788
---
> #line 1789
15832,15833d15833
< #line 1792
<   if (ret != 0) {
15834a15835,15836
>   if (ret != 0) {
> #line 1794
15837c15839
< #line 1795
---
> #line 1796
15842c15844
< #line 1798
---
> #line 1799
15844,15845d15845
< #line 1802
<   if (dev_priv->mm.wedged) {
15847c15847
<     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.wedged) {
15849c15849
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
15850a15851,15852
>     mutex_unlock(& dev->struct_mutex);
> #line 1806
15855,15856d15856
< #line 1808
<   if (dev_priv->mm.suspended) {
15858c15858
<     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.suspended) {
15860c15860
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
15861a15862,15863
>     mutex_unlock(& dev->struct_mutex);
> #line 1812
15866,15867d15867
< #line 1818
<   dev->invalidate_domains = 0;
15868a15869,15870
>   dev->invalidate_domains = 0;
> #line 1820
15870c15872
< #line 1822
---
> #line 1823
15872c15874
< #line 1822
---
> #line 1823
15874c15876
< #line 1822
---
> #line 1823
15878c15880
< #line 1822
---
> #line 1823
15881c15883
< #line 1823
---
> #line 1824
15883,15884d15884
< #line 1825
<     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
15885a15886,15887
>     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
> #line 1827
15888,15889d15889
< #line 1828
<       ret = -9;
15890a15891,15892
>       ret = -9;
> #line 1830
15895,15896d15896
< #line 1832
<     (*(object_list + i))->pending_read_domains = 0;
15898c15898
<     (*(object_list + i))->pending_write_domain = 0;
---
>     (*(object_list + i))->pending_read_domains = 0;
15899a15900,15901
>     (*(object_list + i))->pending_write_domain = 0;
> #line 1835
15901,15902d15902
< #line 1837
<     if (ret) {
15903a15904,15905
>     if (ret) {
> #line 1839
15906c15908
< #line 1839
---
> #line 1840
15911c15913
< #line 1841
---
> #line 1842
15913c15915
< #line 1822
---
> #line 1823
15916,15917d15917
< #line 1845
<   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
15919c15919
<   batch_obj->pending_read_domains = 8;
---
>   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
15920a15921,15922
>   batch_obj->pending_read_domains = 8;
> #line 1848
15922c15924
< #line 1851
---
> #line 1852
15924c15926
< #line 1851
---
> #line 1852
15926c15928
< #line 1851
---
> #line 1852
15930c15932
< #line 1851
---
> #line 1852
15933,15934d15934
< #line 1852
<     obj = *(object_list + i);
15935a15936,15937
>     obj = *(object_list + i);
> #line 1854
15937c15939
< #line 1855
---
> #line 1856
15939,15940d15940
< #line 1861
<       ret = -12;
15941a15942,15943
>       ret = -12;
> #line 1863
15946c15948
< #line 1866
---
> #line 1867
15948,15949d15949
< #line 1869
<     if (ret) {
15950a15951,15952
>     if (ret) {
> #line 1871
15955c15957
< #line 1851
---
> #line 1852
15958c15960
< #line 1876
---
> #line 1877
15960c15962
< #line 1887
---
> #line 1888
15962c15964
< #line 1896
---
> #line 1897
15964,15965d15965
< #line 1899
<   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
15967c15967
<   if (ret) {
---
>   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
15969c15969
<     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
---
>   if (ret) {
15970a15971,15972
>     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
> #line 1903
15975c15977
< #line 1909
---
> #line 1910
15977,15978d15978
< #line 1920
<   seqno = i915_add_request(dev, flush_domains);
15979a15980,15981
>   seqno = i915_add_request(dev, flush_domains);
> #line 1922
15981c15983
< #line 1921
---
> #line 1922
15983c15985
< #line 1921
---
> #line 1922
15985c15987
< #line 1921
---
> #line 1922
15987c15989
< #line 1921
---
> #line 1922
15994,15995c15996,15997
<                              "i" (1921), "i" (sizeof(struct bug_entry )));
< #line 1921
---
>                              "i" (1922), "i" (sizeof(struct bug_entry )));
> #line 1922
15999c16001
< #line 1921
---
> #line 1922
16005c16007
< #line 1921
---
> #line 1922
16008,16009d16009
< #line 1922
<   i915_file_priv->mm.last_gem_seqno = seqno;
16010a16011,16012
>   i915_file_priv->mm.last_gem_seqno = seqno;
> #line 1924
16012c16014
< #line 1923
---
> #line 1924
16014c16016
< #line 1923
---
> #line 1924
16018c16020
< #line 1923
---
> #line 1924
16021,16022d16022
< #line 1924
<     obj___0 = *(object_list + i);
16023a16024,16025
>     obj___0 = *(object_list + i);
> #line 1926
16025,16026d16026
< #line 1927
<     i915_gem_object_move_to_active(obj___0);
16027a16028,16029
>     i915_gem_object_move_to_active(obj___0);
> #line 1929
16029c16031
< #line 1923
---
> #line 1924
16032c16034
< #line 1940
---
> #line 1941
16035c16037
< #line 1940
---
> #line 1941
16037,16038d16038
< #line 1944
<   if (ret) {
16039a16040,16041
>   if (ret) {
> #line 1946
16046,16047d16047
< #line 1949
<   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
16048a16049,16050
>   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
> #line 1951
16050c16052
< #line 1950
---
> #line 1951
16052c16054
< #line 1950
---
> #line 1951
16056c16058
< #line 1950
---
> #line 1951
16059c16061
< #line 1951
---
> #line 1952
16061c16063
< #line 1950
---
> #line 1951
16064c16066
< #line 1953
---
> #line 1954
16066c16068
< #line 1953
---
> #line 1954
16068c16070
< #line 1953
---
> #line 1954
16072c16074
< #line 1953
---
> #line 1954
16075c16077
< #line 1954
---
> #line 1955
16077c16079
< #line 1953
---
> #line 1954
16083c16085
< #line 1956
---
> #line 1957
16086c16088
< #line 1959
---
> #line 1960
16089c16091
< #line 1961
---
> #line 1962
16091c16093
< #line 1964
---
> #line 1965
16095c16097
< #line 1967 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1968 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16104,16105d16105
< #line 1970
<   dev = obj->dev;
16106a16107,16108
>   dev = obj->dev;
> #line 1972
16108,16109d16109
< #line 1975
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16111c16111
<     ret = i915_gem_object_bind_to_gtt(obj, alignment);
---
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16113c16113
<     if (ret != 0) {
---
>     ret = i915_gem_object_bind_to_gtt(obj, alignment);
16115c16115
<       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
---
>     if (ret != 0) {
16116a16117,16118
>       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
> #line 1980
16124c16126
< #line 1982
---
> #line 1983
16126,16127d16127
< #line 1987
<   if (obj_priv->pin_count == 1) {
16129c16129
<     atomic_inc(& dev->pin_count);
---
>   if (obj_priv->pin_count == 1) {
16131c16131
<     atomic_add(obj->size, & dev->pin_memory);
---
>     atomic_inc(& dev->pin_count);
16132a16133,16134
>     atomic_add(obj->size, & dev->pin_memory);
> #line 1991
16134c16136
< #line 1990
---
> #line 1991
16136c16138
< #line 1990
---
> #line 1991
16140c16142
< #line 1994
---
> #line 1995
16149c16151
< #line 1998
---
> #line 1999
16153c16155
< #line 2001 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2002 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16163,16164d16164
< #line 2004
<   dev = obj->dev;
16166c16166
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
16167a16168,16169
>   dev_priv = dev->dev_private;
> #line 2007
16169,16170d16170
< #line 2009
<   obj_priv->pin_count = obj_priv->pin_count - 1;
16171a16172,16173
>   obj_priv->pin_count = obj_priv->pin_count - 1;
> #line 2011
16173c16175
< #line 2010
---
> #line 2011
16175c16177
< #line 2010
---
> #line 2011
16177c16179
< #line 2010
---
> #line 2011
16179c16181
< #line 2010
---
> #line 2011
16186,16187c16188,16189
<                              "i" (2010), "i" (sizeof(struct bug_entry )));
< #line 2010
---
>                              "i" (2011), "i" (sizeof(struct bug_entry )));
> #line 2011
16191c16193
< #line 2010
---
> #line 2011
16197c16199
< #line 2010
---
> #line 2011
16200c16202
< #line 2011
---
> #line 2012
16202c16204
< #line 2011
---
> #line 2012
16205c16207
< #line 2011
---
> #line 2012
16207c16209
< #line 2011
---
> #line 2012
16209c16211
< #line 2011
---
> #line 2012
16216,16217c16218,16219
<                              "i" (2011), "i" (sizeof(struct bug_entry )));
< #line 2011
---
>                              "i" (2012), "i" (sizeof(struct bug_entry )));
> #line 2012
16221c16223
< #line 2011
---
> #line 2012
16227c16229
< #line 2011
---
> #line 2012
16230,16231d16231
< #line 2017
<   if (obj_priv->pin_count == 0) {
16232a16233,16234
>   if (obj_priv->pin_count == 0) {
> #line 2019
16234c16236
< #line 2021
---
> #line 2022
16239,16240d16240
< #line 2023
<     atomic_dec(& dev->pin_count);
16241a16242,16243
>     atomic_dec(& dev->pin_count);
> #line 2025
16246c16248
< #line 2027
---
> #line 2028
16250c16252
< #line 2029 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2030 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16259c16261
< #line 2033
---
> #line 2034
16261c16263
< #line 2038
---
> #line 2039
16263,16264d16264
< #line 2040
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16266c16266
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16267a16268,16269
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2043
16270,16271d16271
< #line 2044
<     mutex_unlock(& dev->struct_mutex);
16272a16273,16274
>     mutex_unlock(& dev->struct_mutex);
> #line 2046
16277c16279
< #line 2047
---
> #line 2048
16279,16280d16280
< #line 2049
<   ret = i915_gem_object_pin(obj, args->alignment);
16282c16282
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, args->alignment);
16284c16284
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
16286c16286
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
16287a16288,16289
>     mutex_unlock(& dev->struct_mutex);
> #line 2054
16292,16293d16293
< #line 2059
<   if (obj->write_domain & 1U) {
16295c16295
<     i915_gem_clflush_object(obj);
---
>   if (obj->write_domain & 1U) {
16297c16297
<     drm_agp_chipset_flush(dev);
---
>     i915_gem_clflush_object(obj);
16298a16299,16300
>     drm_agp_chipset_flush(dev);
> #line 2063
16303,16304d16304
< #line 2064
<   args->offset = obj_priv->gtt_offset;
16306c16306
<   drm_gem_object_unreference(obj);
---
>   args->offset = obj_priv->gtt_offset;
16307a16308,16309
>   drm_gem_object_unreference(obj);
> #line 2067
16309c16311
< #line 2068
---
> #line 2069
16313c16315
< #line 2071 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2072 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16320c16322
< #line 2075
---
> #line 2076
16322c16324
< #line 2078
---
> #line 2079
16324,16325d16325
< #line 2080
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16327c16327
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16328a16329,16330
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2083
16331,16332d16332
< #line 2084
<     mutex_unlock(& dev->struct_mutex);
16333a16334,16335
>     mutex_unlock(& dev->struct_mutex);
> #line 2086
16338c16340
< #line 2088
---
> #line 2089
16340,16341d16341
< #line 2090
<   drm_gem_object_unreference(obj);
16343c16343
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16344a16345,16346
>   mutex_unlock(& dev->struct_mutex);
> #line 2093
16348c16350
< #line 2095 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2096 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16356c16358
< #line 2099
---
> #line 2100
16358,16359d16359
< #line 2103
<   mutex_lock(& dev->struct_mutex);
16361c16361
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock(& dev->struct_mutex);
16363c16363
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16364a16365,16366
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2107
16367,16368d16368
< #line 2108
<     mutex_unlock(& dev->struct_mutex);
16369a16370,16371
>     mutex_unlock(& dev->struct_mutex);
> #line 2110
16374,16375d16375
< #line 2112
<   obj_priv = obj->driver_private;
16376a16377,16378
>   obj_priv = obj->driver_private;
> #line 2114
16378,16379d16379
< #line 2115
<   drm_gem_object_unreference(obj);
16381c16381
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16382a16383,16384
>   mutex_unlock(& dev->struct_mutex);
> #line 2118
16386c16388
< #line 2120 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2121 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16392c16394
< #line 2124
---
> #line 2125
16394c16396
< #line 2124
---
> #line 2125
16398c16400
< #line 2127 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2128 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16405c16407
< #line 2131
---
> #line 2132
16407,16408d16408
< #line 2131
<   obj_priv = tmp;
16410c16410
<   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
---
>   obj_priv = tmp;
16411a16412,16413
>   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
> #line 2134
16416,16417d16417
< #line 2141
<   obj->write_domain = 1;
16418a16419,16420
>   obj->write_domain = 1;
> #line 2143
16420,16421d16421
< #line 2144
<   obj->driver_private = obj_priv;
16423c16423
<   obj_priv->obj = obj;
---
>   obj->driver_private = obj_priv;
16425c16425
<   INIT_LIST_HEAD(& obj_priv->list);
---
>   obj_priv->obj = obj;
16426a16427,16428
>   INIT_LIST_HEAD(& obj_priv->list);
> #line 2148
16430c16432
< #line 2150 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2151 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16436c16438
< #line 2152
---
> #line 2153
16438c16440
< #line 2154
---
> #line 2155
16440c16442
< #line 2154
---
> #line 2155
16444c16446
< #line 2154
---
> #line 2155
16447c16449
< #line 2155
---
> #line 2156
16450c16452
< #line 2157
---
> #line 2158
16452,16453d16453
< #line 2159
<   drm_free(obj_priv->page_cpu_valid, 1, 2);
16455c16455
<   drm_free(obj->driver_private, 1, 2);
---
>   drm_free(obj_priv->page_cpu_valid, 1, 2);
16456a16457,16458
>   drm_free(obj->driver_private, 1, 2);
> #line 2162
16460c16462
< #line 2163 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2164 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16472c16474
< #line 2169
---
> #line 2170
16474c16476
< #line 2173
---
> #line 2174
16476c16478
< #line 2173
---
> #line 2174
16478c16480
< #line 2173
---
> #line 2174
16480c16482
< #line 2173
---
> #line 2174
16483c16485
< #line 2173
---
> #line 2174
16486c16488
< #line 2173
---
> #line 2174
16488c16490
< #line 2173
---
> #line 2174
16490c16492
< #line 2173
---
> #line 2174
16492c16494
< #line 2173
---
> #line 2174
16499,16500c16501,16502
<                              "i" (2173), "i" (sizeof(struct bug_entry )));
< #line 2173
---
>                              "i" (2174), "i" (sizeof(struct bug_entry )));
> #line 2174
16504c16506
< #line 2173
---
> #line 2174
16510c16512
< #line 2173
---
> #line 2174
16513,16514d16514
< #line 2175
<   ret = i915_gem_object_set_domain(obj, read_domains, write_domain);
16516c16516
<   if (ret) {
---
>   ret = i915_gem_object_set_domain(obj, read_domains, write_domain);
16517a16518,16519
>   if (ret) {
> #line 2178
16522c16524
< #line 2178
---
> #line 2179
16524,16525d16525
< #line 2180
<   if (flush_domains & (unsigned int )(~ (1 | 64))) {
16526a16527,16528
>   if (flush_domains & (unsigned int )(~ (1 | 64))) {
> #line 2182
16531c16533
< #line 2183
---
> #line 2184
16535c16537
< #line 2187 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2188 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16545c16547
< #line 2194
---
> #line 2195
16547c16549
< #line 2194
---
> #line 2195
16549c16551
< #line 2194
---
> #line 2195
16551c16553
< #line 2194
---
> #line 2195
16556c16558
< #line 2195
---
> #line 2196
16558c16560
< #line 2195
---
> #line 2196
16560c16562
< #line 2198
---
> #line 2199
16562,16563d16563
< #line 2200
<     if (obj_priv->pin_count != 0) {
16565c16565
<       printk("<3>[drm:%s] *ERROR* Pinned object in unbind list\n", "i915_gem_evict_from_list");
---
>     if (obj_priv->pin_count != 0) {
16567c16567
<       mutex_unlock(& dev->struct_mutex);
---
>       printk("<3>[drm:%s] *ERROR* Pinned object in unbind list\n", "i915_gem_evict_from_list");
16568a16569,16570
>       mutex_unlock(& dev->struct_mutex);
> #line 2204
16573,16574d16574
< #line 2206
<     ret = i915_gem_object_unbind(obj);
16576c16576
<     if (ret != 0) {
---
>     ret = i915_gem_object_unbind(obj);
16577a16578,16579
>     if (ret != 0) {
> #line 2209
16580,16581d16581
< #line 2210
<       mutex_unlock(& dev->struct_mutex);
16582a16583,16584
>       mutex_unlock(& dev->struct_mutex);
> #line 2212
16588c16590
< #line 2216
---
> #line 2217
16592c16594
< #line 2219 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2220 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16626c16628
< #line 2222
---
> #line 2223
16628,16629d16629
< #line 2226
<   if (dev_priv->mm.suspended) {
16630a16631,16632
>   if (dev_priv->mm.suspended) {
> #line 2228
16635c16637
< #line 2232
---
> #line 2233
16637c16639
< #line 2234
---
> #line 2235
16639c16641
< #line 2238
---
> #line 2239
16641c16643
< #line 2240
---
> #line 2241
16643,16644d16644
< #line 2243
<   if (seqno == (uint32_t )0) {
16646c16646
<     mutex_unlock(& dev->struct_mutex);
---
>   if (seqno == (uint32_t )0) {
16647a16648,16649
>     mutex_unlock(& dev->struct_mutex);
> #line 2246
16652,16653d16653
< #line 2248
<   dev_priv->mm.waiting_gem_seqno = seqno;
16655c16655
<   last_seqno = 0;
---
>   dev_priv->mm.waiting_gem_seqno = seqno;
16657c16657
<   stuck = 0;
---
>   last_seqno = 0;
16659c16659
<   while (1) {
---
>   stuck = 0;
16661c16661
<     cur_seqno = i915_get_gem_seqno(dev);
---
>   while (1) {
16662a16663,16664
>     cur_seqno = i915_get_gem_seqno(dev);
> #line 2254
16664,16665d16665
< #line 2253
<     if (tmp) {
16666a16667,16668
>     if (tmp) {
> #line 2255
16671,16672d16672
< #line 2255
<     if (last_seqno == cur_seqno) {
16673a16674,16675
>     if (last_seqno == cur_seqno) {
> #line 2257
16675c16677
< #line 2256
---
> #line 2257
16677,16678d16678
< #line 2256
<       if (tmp___0 > 100) {
16680c16680
<         printk("<3>[drm:%s] *ERROR* hardware wedged\n", "i915_gem_idle");
---
>       if (tmp___0 > 100) {
16682c16682
<         dev_priv->mm.wedged = 1;
---
>         printk("<3>[drm:%s] *ERROR* hardware wedged\n", "i915_gem_idle");
16684c16684
<         __wake_up(& dev_priv->irq_queue, 1, 1, (void *)0);
---
>         dev_priv->mm.wedged = 1;
16685a16686,16687
>         __wake_up(& dev_priv->irq_queue, 1, 1, (void *)0);
> #line 2261
16693,16694d16694
< #line 2263
<     msleep(10);
16695a16696,16697
>     msleep(10);
> #line 2265
16698c16700
< #line 2266
---
> #line 2267
16700c16702
< #line 2268
---
> #line 2269
16702c16704
< #line 2273
---
> #line 2274
16704c16706
< #line 2273
---
> #line 2274
16706c16708
< #line 2273
---
> #line 2274
16708c16710
< #line 2273
---
> #line 2274
16711c16713
< #line 2273
---
> #line 2274
16714c16716
< #line 2273
---
> #line 2274
16716c16718
< #line 2273
---
> #line 2274
16718c16720
< #line 2273
---
> #line 2274
16720c16722
< #line 2273
---
> #line 2274
16727,16728c16729,16730
<                              "i" (2273), "i" (sizeof(struct bug_entry )));
< #line 2273
---
>                              "i" (2274), "i" (sizeof(struct bug_entry )));
> #line 2274
16732c16734
< #line 2273
---
> #line 2274
16738c16740
< #line 2273
---
> #line 2274
16741c16743
< #line 2274
---
> #line 2275
16743c16745
< #line 2274
---
> #line 2275
16745c16747
< #line 2274
---
> #line 2275
16747c16749
< #line 2274
---
> #line 2275
16750c16752
< #line 2274
---
> #line 2275
16753c16755
< #line 2274
---
> #line 2275
16755c16757
< #line 2274
---
> #line 2275
16757c16759
< #line 2274
---
> #line 2275
16759c16761
< #line 2274
---
> #line 2275
16766,16767c16768,16769
<                              "i" (2274), "i" (sizeof(struct bug_entry )));
< #line 2274
---
>                              "i" (2275), "i" (sizeof(struct bug_entry )));
> #line 2275
16771c16773
< #line 2274
---
> #line 2275
16777c16779
< #line 2274
---
> #line 2275
16780c16782
< #line 2279
---
> #line 2280
16782c16784
< #line 2279
---
> #line 2280
16784c16786
< #line 2279
---
> #line 2280
16786c16788
< #line 2279
---
> #line 2280
16789c16791
< #line 2279
---
> #line 2280
16792c16794
< #line 2279
---
> #line 2280
16794c16796
< #line 2279
---
> #line 2280
16796c16798
< #line 2279
---
> #line 2280
16798c16800
< #line 2279
---
> #line 2280
16805,16806c16807,16808
<                              "i" (2279), "i" (sizeof(struct bug_entry )));
< #line 2279
---
>                              "i" (2280), "i" (sizeof(struct bug_entry )));
> #line 2280
16810c16812
< #line 2279
---
> #line 2280
16816c16818
< #line 2279
---
> #line 2280
16819,16820d16820
< #line 2282
<   ret = i915_gem_evict_from_list(dev, & dev_priv->mm.inactive_list);
16822c16822
<   if (ret) {
---
>   ret = i915_gem_evict_from_list(dev, & dev_priv->mm.inactive_list);
16823a16824,16825
>   if (ret) {
> #line 2285
16828c16830
< #line 2286
---
> #line 2287
16830c16832
< #line 2286
---
> #line 2287
16832c16834
< #line 2286
---
> #line 2287
16834c16836
< #line 2286
---
> #line 2287
16837c16839
< #line 2286
---
> #line 2287
16840c16842
< #line 2286
---
> #line 2287
16842c16844
< #line 2286
---
> #line 2287
16844c16846
< #line 2286
---
> #line 2287
16846c16848
< #line 2286
---
> #line 2287
16853,16854c16855,16856
<                              "i" (2286), "i" (sizeof(struct bug_entry )));
< #line 2286
---
>                              "i" (2287), "i" (sizeof(struct bug_entry )));
> #line 2287
16858c16860
< #line 2286
---
> #line 2287
16864c16866
< #line 2286
---
> #line 2287
16867c16869
< #line 2287
---
> #line 2288
16869c16871
< #line 2287
---
> #line 2288
16871c16873
< #line 2287
---
> #line 2288
16873c16875
< #line 2287
---
> #line 2288
16876c16878
< #line 2287
---
> #line 2288
16879c16881
< #line 2287
---
> #line 2288
16881c16883
< #line 2287
---
> #line 2288
16883c16885
< #line 2287
---
> #line 2288
16885c16887
< #line 2287
---
> #line 2288
16892,16893c16894,16895
<                              "i" (2287), "i" (sizeof(struct bug_entry )));
< #line 2287
---
>                              "i" (2288), "i" (sizeof(struct bug_entry )));
> #line 2288
16897c16899
< #line 2287
---
> #line 2288
16903c16905
< #line 2287
---
> #line 2288
16906c16908
< #line 2288
---
> #line 2289
16908c16910
< #line 2288
---
> #line 2289
16910c16912
< #line 2288
---
> #line 2289
16912c16914
< #line 2288
---
> #line 2289
16915c16917
< #line 2288
---
> #line 2289
16918c16920
< #line 2288
---
> #line 2289
16920c16922
< #line 2288
---
> #line 2289
16922c16924
< #line 2288
---
> #line 2289
16924c16926
< #line 2288
---
> #line 2289
16931,16932c16933,16934
<                              "i" (2288), "i" (sizeof(struct bug_entry )));
< #line 2288
---
>                              "i" (2289), "i" (sizeof(struct bug_entry )));
> #line 2289
16936c16938
< #line 2288
---
> #line 2289
16942c16944
< #line 2288
---
> #line 2289
16945c16947
< #line 2289
---
> #line 2290
16947c16949
< #line 2289
---
> #line 2290
16949c16951
< #line 2289
---
> #line 2290
16951c16953
< #line 2289
---
> #line 2290
16954c16956
< #line 2289
---
> #line 2290
16957c16959
< #line 2289
---
> #line 2290
16959c16961
< #line 2289
---
> #line 2290
16961c16963
< #line 2289
---
> #line 2290
16963c16965
< #line 2289
---
> #line 2290
16970,16971c16972,16973
<                              "i" (2289), "i" (sizeof(struct bug_entry )));
< #line 2289
---
>                              "i" (2290), "i" (sizeof(struct bug_entry )));
> #line 2290
16975c16977
< #line 2289
---
> #line 2290
16981c16983
< #line 2289
---
> #line 2290
16984c16986
< #line 2290
---
> #line 2291
16988c16990
< #line 2293 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2294 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
16997c16999
< #line 2296
---
> #line 2297
16999,17000d17000
< #line 2304
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
17001a17002,17003
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
> #line 2306
17006,17007d17007
< #line 2307
<   obj = drm_gem_object_alloc(dev, 4096);
17009c17009
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_alloc(dev, 4096);
17011c17011
<     printk("<3>[drm:%s] *ERROR* Failed to allocate status page\n", "i915_gem_init_hws");
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
17012a17013,17014
>     printk("<3>[drm:%s] *ERROR* Failed to allocate status page\n", "i915_gem_init_hws");
> #line 2311
17017c17019
< #line 2312
---
> #line 2313
17019,17020d17020
< #line 2314
<   ret = i915_gem_object_pin(obj, 4096);
17022c17022
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, 4096);
17024c17024
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
17025a17026,17027
>     drm_gem_object_unreference(obj);
> #line 2318
17030,17031d17031
< #line 2320
<   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
17033c17033
<   dev_priv->hws_map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
---
>   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
17035c17035
<   dev_priv->hws_map.size = 4096;
---
>   dev_priv->hws_map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
17037c17037
<   dev_priv->hws_map.type = 0;
---
>   dev_priv->hws_map.size = 4096;
17039c17039
<   dev_priv->hws_map.flags = 0;
---
>   dev_priv->hws_map.type = 0;
17040a17041,17042
>   dev_priv->hws_map.flags = 0;
> #line 2326
17042,17043d17043
< #line 2329
<   drm_core_ioremap_wc(& dev_priv->hws_map, dev);
17045c17045
<   if ((unsigned long )dev_priv->hws_map.handle == (unsigned long )((void *)0)) {
---
>   drm_core_ioremap_wc(& dev_priv->hws_map, dev);
17047c17047
<     printk("<3>[drm:%s] *ERROR* Failed to map status page.\n", "i915_gem_init_hws");
---
>   if ((unsigned long )dev_priv->hws_map.handle == (unsigned long )((void *)0)) {
17049c17049
<     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
---
>     printk("<3>[drm:%s] *ERROR* Failed to map status page.\n", "i915_gem_init_hws");
17051c17051
<     drm_gem_object_unreference(obj);
---
>     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
17052a17053,17054
>     drm_gem_object_unreference(obj);
> #line 2335
17057,17058d17058
< #line 2336
<   dev_priv->hws_obj = obj;
17060c17060
<   dev_priv->hw_status_page = dev_priv->hws_map.handle;
---
>   dev_priv->hws_obj = obj;
17062c17062
<   memset(dev_priv->hw_status_page, 0, 1UL << 12);
---
>   dev_priv->hw_status_page = dev_priv->hws_map.handle;
17064c17064
<   writel(dev_priv->status_gfx_addr, dev_priv->regs + 8320);
---
>   memset(dev_priv->hw_status_page, 0, 1UL << 12);
17065a17066,17067
>   writel(dev_priv->status_gfx_addr, dev_priv->regs + 8320);
> #line 2341
17067c17069
< #line 2340
---
> #line 2341
17069c17071
< #line 2340
---
> #line 2341
17074c17076
< #line 2340
---
> #line 2341
17077c17079
< #line 2342
---
> #line 2343
17081c17083
< #line 2345 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2346 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17090c17092
< #line 2348
---
> #line 2349
17092,17093d17093
< #line 2353
<   ret = i915_gem_init_hws(dev);
17095c17095
<   if (ret != 0) {
---
>   ret = i915_gem_init_hws(dev);
17096a17097,17098
>   if (ret != 0) {
> #line 2356
17101,17102d17102
< #line 2357
<   obj = drm_gem_object_alloc(dev, 128 * 1024);
17104c17104
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_alloc(dev, 128 * 1024);
17106c17106
<     printk("<3>[drm:%s] *ERROR* Failed to allocate ringbuffer\n", "i915_gem_init_ringbuffer");
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
17107a17108,17109
>     printk("<3>[drm:%s] *ERROR* Failed to allocate ringbuffer\n", "i915_gem_init_ringbuffer");
> #line 2361
17112c17114
< #line 2362
---
> #line 2363
17114,17115d17115
< #line 2364
<   ret = i915_gem_object_pin(obj, 4096);
17117c17117
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, 4096);
17119c17119
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
17120a17121,17122
>     drm_gem_object_unreference(obj);
> #line 2368
17125,17126d17126
< #line 2371
<   dev_priv->ring.Size = obj->size;
17127a17128,17129
>   dev_priv->ring.Size = obj->size;
> #line 2373
17129,17130d17130
< #line 2374
<   dev_priv->ring.map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
17132c17132
<   dev_priv->ring.map.size = obj->size;
---
>   dev_priv->ring.map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
17134c17134
<   dev_priv->ring.map.type = 0;
---
>   dev_priv->ring.map.size = obj->size;
17136c17136
<   dev_priv->ring.map.flags = 0;
---
>   dev_priv->ring.map.type = 0;
17137a17138,17139
>   dev_priv->ring.map.flags = 0;
> #line 2379
17139,17140d17140
< #line 2380
<   drm_core_ioremap_wc(& dev_priv->ring.map, dev);
17142c17142
<   if ((unsigned long )dev_priv->ring.map.handle == (unsigned long )((void *)0)) {
---
>   drm_core_ioremap_wc(& dev_priv->ring.map, dev);
17144c17144
<     printk("<3>[drm:%s] *ERROR* Failed to map ringbuffer.\n", "i915_gem_init_ringbuffer");
---
>   if ((unsigned long )dev_priv->ring.map.handle == (unsigned long )((void *)0)) {
17146c17146
<     memset(& dev_priv->ring, 0, sizeof(dev_priv->ring));
---
>     printk("<3>[drm:%s] *ERROR* Failed to map ringbuffer.\n", "i915_gem_init_ringbuffer");
17148c17148
<     drm_gem_object_unreference(obj);
---
>     memset(& dev_priv->ring, 0, sizeof(dev_priv->ring));
17149a17150,17151
>     drm_gem_object_unreference(obj);
> #line 2386
17154,17155d17155
< #line 2387
<   dev_priv->ring.ring_obj = obj;
17156a17157,17158
>   dev_priv->ring.ring_obj = obj;
> #line 2389
17158,17159d17159
< #line 2391
<   writel(0, dev_priv->regs + 8252);
17161c17161
<   writel(0, dev_priv->regs + 8244);
---
>   writel(0, dev_priv->regs + 8252);
17163c17163
<   writel(0, dev_priv->regs + 8240);
---
>   writel(0, dev_priv->regs + 8244);
17164a17165,17166
>   writel(0, dev_priv->regs + 8240);
> #line 2395
17166,17167d17167
< #line 2397
<   writel(obj_priv->gtt_offset, dev_priv->regs + 8248);
17168a17169,17170
>   writel(obj_priv->gtt_offset, dev_priv->regs + 8248);
> #line 2399
17170c17172
< #line 2404
---
> #line 2405
17172c17174
< #line 2406
---
> #line 2407
17176c17178
< #line 2409 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2410 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17182c17184
< #line 2412
---
> #line 2413
17184,17185d17185
< #line 2414
<   if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
17186a17187,17188
>   if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
> #line 2416
17191c17193
< #line 2417
---
> #line 2418
17193,17194d17194
< #line 2419
<   i915_gem_object_unpin(dev_priv->ring.ring_obj);
17196c17196
<   drm_gem_object_unreference(dev_priv->ring.ring_obj);
---
>   i915_gem_object_unpin(dev_priv->ring.ring_obj);
17198c17198
<   dev_priv->ring.ring_obj = (void *)0;
---
>   drm_gem_object_unreference(dev_priv->ring.ring_obj);
17199a17200,17201
>   dev_priv->ring.ring_obj = (void *)0;
> #line 2423
17201,17202d17202
< #line 2424
<   if ((unsigned long )dev_priv->hws_obj != (unsigned long )((void *)0)) {
17204c17204
<     i915_gem_object_unpin(dev_priv->hws_obj);
---
>   if ((unsigned long )dev_priv->hws_obj != (unsigned long )((void *)0)) {
17206c17206
<     drm_gem_object_unreference(dev_priv->hws_obj);
---
>     i915_gem_object_unpin(dev_priv->hws_obj);
17208c17208
<     dev_priv->hws_obj = (void *)0;
---
>     drm_gem_object_unreference(dev_priv->hws_obj);
17209a17210,17211
>     dev_priv->hws_obj = (void *)0;
> #line 2429
17211c17213
< #line 2431
---
> #line 2432
17216c17218
< #line 2433
---
> #line 2434
17220c17222
< #line 2435 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2436 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17239c17241
< #line 2439
---
> #line 2440
17241,17242d17242
< #line 2442
<   if (dev_priv->mm.wedged) {
17244c17244
<     printk("<3>[drm:%s] *ERROR* Reenabling wedged hardware, good luck\n", "i915_gem_entervt_ioctl");
---
>   if (dev_priv->mm.wedged) {
17245a17246,17247
>     printk("<3>[drm:%s] *ERROR* Reenabling wedged hardware, good luck\n", "i915_gem_entervt_ioctl");
> #line 2445
17250,17251d17251
< #line 2447
<   ret = i915_gem_init_ringbuffer(dev);
17253c17253
<   if (ret != 0) {
---
>   ret = i915_gem_init_ringbuffer(dev);
17254a17255,17256
>   if (ret != 0) {
> #line 2450
17259,17260d17260
< #line 2451
<   mutex_lock(& dev->struct_mutex);
17261a17262,17263
>   mutex_lock(& dev->struct_mutex);
> #line 2453
17263c17265
< #line 2452
---
> #line 2453
17265c17267
< #line 2452
---
> #line 2453
17267c17269
< #line 2452
---
> #line 2453
17270c17272
< #line 2452
---
> #line 2453
17273c17275
< #line 2452
---
> #line 2453
17275c17277
< #line 2452
---
> #line 2453
17277c17279
< #line 2452
---
> #line 2453
17279c17281
< #line 2452
---
> #line 2453
17286,17287c17288,17289
<                              "i" (2452), "i" (sizeof(struct bug_entry )));
< #line 2452
---
>                              "i" (2453), "i" (sizeof(struct bug_entry )));
> #line 2453
17291c17293
< #line 2452
---
> #line 2453
17297c17299
< #line 2452
---
> #line 2453
17300c17302
< #line 2453
---
> #line 2454
17302c17304
< #line 2453
---
> #line 2454
17304c17306
< #line 2453
---
> #line 2454
17306c17308
< #line 2453
---
> #line 2454
17309c17311
< #line 2453
---
> #line 2454
17312c17314
< #line 2453
---
> #line 2454
17314c17316
< #line 2453
---
> #line 2454
17316c17318
< #line 2453
---
> #line 2454
17318c17320
< #line 2453
---
> #line 2454
17325,17326c17327,17328
<                              "i" (2453), "i" (sizeof(struct bug_entry )));
< #line 2453
---
>                              "i" (2454), "i" (sizeof(struct bug_entry )));
> #line 2454
17330c17332
< #line 2453
---
> #line 2454
17336c17338
< #line 2453
---
> #line 2454
17339c17341
< #line 2454
---
> #line 2455
17341c17343
< #line 2454
---
> #line 2455
17343c17345
< #line 2454
---
> #line 2455
17345c17347
< #line 2454
---
> #line 2455
17348c17350
< #line 2454
---
> #line 2455
17351c17353
< #line 2454
---
> #line 2455
17353c17355
< #line 2454
---
> #line 2455
17355c17357
< #line 2454
---
> #line 2455
17357c17359
< #line 2454
---
> #line 2455
17364,17365c17366,17367
<                              "i" (2454), "i" (sizeof(struct bug_entry )));
< #line 2454
---
>                              "i" (2455), "i" (sizeof(struct bug_entry )));
> #line 2455
17369c17371
< #line 2454
---
> #line 2455
17375c17377
< #line 2454
---
> #line 2455
17378c17380
< #line 2455
---
> #line 2456
17380c17382
< #line 2455
---
> #line 2456
17382c17384
< #line 2455
---
> #line 2456
17384c17386
< #line 2455
---
> #line 2456
17387c17389
< #line 2455
---
> #line 2456
17390c17392
< #line 2455
---
> #line 2456
17392c17394
< #line 2455
---
> #line 2456
17394c17396
< #line 2455
---
> #line 2456
17396c17398
< #line 2455
---
> #line 2456
17403,17404c17405,17406
<                              "i" (2455), "i" (sizeof(struct bug_entry )));
< #line 2455
---
>                              "i" (2456), "i" (sizeof(struct bug_entry )));
> #line 2456
17408c17410
< #line 2455
---
> #line 2456
17414c17416
< #line 2455
---
> #line 2456
17417,17418d17418
< #line 2456
<   dev_priv->mm.suspended = 0;
17419a17420,17421
>   dev_priv->mm.suspended = 0;
> #line 2458
17421c17423
< #line 2459
---
> #line 2460
17423c17425
< #line 2461
---
> #line 2462
17427c17429
< #line 2464 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2465 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17433,17434d17434
< #line 2470
<   mutex_lock(& dev->struct_mutex);
17436c17436
<   ret = i915_gem_idle(dev);
---
>   mutex_lock(& dev->struct_mutex);
17438c17438
<   if (ret == 0) {
---
>   ret = i915_gem_idle(dev);
17439a17440,17441
>   if (ret == 0) {
> #line 2474
17444c17446
< #line 2474
---
> #line 2475
17446c17448
< #line 2476
---
> #line 2477
17448c17450
< #line 2478
---
> #line 2479
17452c17454
< #line 2481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2482 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17459c17461
< #line 2485
---
> #line 2486
17461c17463
< #line 2487
---
> #line 2488
17463,17464d17464
< #line 2489
<   if ((unsigned long )dev_priv->ring.ring_obj != (unsigned long )((void *)0)) {
17466c17466
<     ret = i915_gem_idle(dev);
---
>   if ((unsigned long )dev_priv->ring.ring_obj != (unsigned long )((void *)0)) {
17468c17468
<     if (ret) {
---
>     ret = i915_gem_idle(dev);
17469a17470,17471
>     if (ret) {
> #line 2493
17475c17477
< #line 2494
---
> #line 2495
17480,17481d17481
< #line 2497
<   mutex_unlock(& dev->struct_mutex);
17482a17483,17484
>   mutex_unlock(& dev->struct_mutex);
> #line 2499
17486c17488
< #line 2500 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2501 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem.c"
17494c17496
< #line 2503
---
> #line 2504
17496,17497d17497
< #line 2505
<   INIT_LIST_HEAD(& dev_priv->mm.active_list);
17499c17499
<   INIT_LIST_HEAD(& dev_priv->mm.flushing_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.active_list);
17501c17501
<   INIT_LIST_HEAD(& dev_priv->mm.inactive_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.flushing_list);
17503c17503
<   INIT_LIST_HEAD(& dev_priv->mm.request_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.inactive_list);
17504a17505,17506
>   INIT_LIST_HEAD(& dev_priv->mm.request_list);
> #line 2510
17506c17508
< #line 2509
---
> #line 2510
17508c17510
< #line 2509
---
> #line 2510
17510c17512
< #line 2509
---
> #line 2510
17512c17514
< #line 2509
---
> #line 2510
17514c17516
< #line 2509
---
> #line 2510
17516c17518
< #line 2509
---
> #line 2510
17518c17520
< #line 2509
---
> #line 2510
17521c17523
< #line 2509
---
> #line 2510
17524c17526
< #line 2509
---
> #line 2510
17526c17528
< #line 2509
---
> #line 2510
17529c17531
< #line 2511
---
> #line 2512
17531c17533
< #line 2511
---
> #line 2512
17533c17535
< #line 2511
---
> #line 2512
17535c17537
< #line 2511
---
> #line 2512
17537c17539
< #line 2511
---
> #line 2512
17539c17541
< #line 2511
---
> #line 2512
17541c17543
< #line 2511
---
> #line 2512
17544c17546
< #line 2511
---
> #line 2512
17547c17549
< #line 2513
---
> #line 2514
17549,17550d17550
< #line 2515
<   i915_gem_detect_bit_6_swizzle(dev);
17551a17552,17553
>   i915_gem_detect_bit_6_swizzle(dev);
> #line 2517
