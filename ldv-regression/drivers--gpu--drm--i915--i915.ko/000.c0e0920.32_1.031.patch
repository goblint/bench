906a907,908
> #line 58
> struct module_param_attrs;
911a914
>    struct module_param_attrs *mp ;
913c916
< #line 70
---
> #line 71
915c918
< #line 221 "include/linux/module.h"
---
> #line 222 "include/linux/module.h"
919c922
< #line 226
---
> #line 227
925,927c928
< #line 233
< struct module_param_attrs;
< #line 233
---
> #line 234
929c930
< #line 233
---
> #line 234
931c932
< #line 233 "include/linux/module.h"
---
> #line 234 "include/linux/module.h"
937d937
<    struct module_param_attrs *param_attrs ;
958c958
<    struct exception_table_entry  const  *extable ;
---
>    struct exception_table_entry *extable ;
1992c1992
< #line 59 "include/linux/pci.h"
---
> #line 60 "include/linux/pci.h"
1994c1994
< #line 59 "include/linux/pci.h"
---
> #line 60 "include/linux/pci.h"
2002c2002
< #line 81 "include/linux/pci.h"
---
> #line 87 "include/linux/pci.h"
2004c2004
< #line 95 "include/linux/pci.h"
---
> #line 101 "include/linux/pci.h"
2006c2006
< #line 97
---
> #line 103
2012c2012
< #line 121 "include/linux/pci.h"
---
> #line 127 "include/linux/pci.h"
2014c2014
< #line 131 "include/linux/pci.h"
---
> #line 137 "include/linux/pci.h"
2016c2016
< #line 143
---
> #line 149
2018c2018
< #line 144
---
> #line 150
2020c2020
< #line 149
---
> #line 155
2022c2022
< #line 149 "include/linux/pci.h"
---
> #line 155 "include/linux/pci.h"
2079c2079
< #line 283
---
> #line 289
2081c2081
< #line 283 "include/linux/pci.h"
---
> #line 289 "include/linux/pci.h"
2106c2106
< #line 329 "include/linux/pci.h"
---
> #line 335 "include/linux/pci.h"
2112c2112
< #line 348 "include/linux/pci.h"
---
> #line 354 "include/linux/pci.h"
2117c2117
< #line 360 "include/linux/pci.h"
---
> #line 366 "include/linux/pci.h"
2119c2119
< #line 380 "include/linux/pci.h"
---
> #line 386 "include/linux/pci.h"
2127c2127
< #line 401 "include/linux/pci.h"
---
> #line 407 "include/linux/pci.h"
2574c2574
< #line 335
---
> #line 334
2647c2647
< #line 422 "include/linux/sched.h"
---
> #line 421 "include/linux/sched.h"
2654c2654
< #line 429 "include/linux/sched.h"
---
> #line 428 "include/linux/sched.h"
2664c2664
< #line 448 "include/linux/sched.h"
---
> #line 447 "include/linux/sched.h"
2670c2670
< #line 466 "include/linux/sched.h"
---
> #line 465 "include/linux/sched.h"
2674c2674
< #line 477 "include/linux/sched.h"
---
> #line 476 "include/linux/sched.h"
2679c2679
< #line 477 "include/linux/sched.h"
---
> #line 476 "include/linux/sched.h"
2684c2684
< #line 477
---
> #line 476
2686c2686
< #line 477
---
> #line 476
2688c2688
< #line 477
---
> #line 476
2690c2690
< #line 477 "include/linux/sched.h"
---
> #line 476 "include/linux/sched.h"
2743c2743
< #line 624 "include/linux/sched.h"
---
> #line 623 "include/linux/sched.h"
2761c2761
< #line 665
---
> #line 664
2763c2763
< #line 668 "include/linux/sched.h"
---
> #line 667 "include/linux/sched.h"
2772c2772
< #line 689 "include/linux/sched.h"
---
> #line 688 "include/linux/sched.h"
2787c2787
< #line 734
---
> #line 733
2794c2794
< #line 778 "include/linux/sched.h"
---
> #line 777 "include/linux/sched.h"
2801c2801
< #line 795
---
> #line 794
2811c2811
< #line 813 "include/linux/sched.h"
---
> #line 812 "include/linux/sched.h"
2855c2855
< #line 890
---
> #line 889
2857c2857
< #line 893 "include/linux/sched.h"
---
> #line 892 "include/linux/sched.h"
2865c2865
< #line 930
---
> #line 929
2867c2867
< #line 935
---
> #line 934
2869c2869
< #line 938 "include/linux/sched.h"
---
> #line 937 "include/linux/sched.h"
2899c2899
< #line 986 "include/linux/sched.h"
---
> #line 985 "include/linux/sched.h"
2904c2904
< #line 1000 "include/linux/sched.h"
---
> #line 999 "include/linux/sched.h"
2947c2947
< #line 1057
---
> #line 1056
2949c2949
< #line 1057 "include/linux/sched.h"
---
> #line 1056 "include/linux/sched.h"
2960c2960
< #line 1073
---
> #line 1072
2962c2962
< #line 1073
---
> #line 1072
2964c2964
< #line 1073
---
> #line 1072
2966c2966
< #line 1073 "include/linux/sched.h"
---
> #line 1072 "include/linux/sched.h"
3707c3707
<    unsigned int plane ;
---
>    unsigned int pipe ;
3736d3735
<    struct work_struct vblank_work ;
3869a3869
>    struct work_struct vblank_work ;
4309c4309
< #line 245 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 254 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
4379c4379
< #line 66 "include/linux/module.h"
---
> #line 67 "include/linux/module.h"
4381c4381
< #line 67
---
> #line 68
4383c4383
< #line 85
---
> #line 86
4385c4385
< #line 599 "include/linux/pci.h"
---
> #line 606 "include/linux/pci.h"
4387c4387
< #line 611
---
> #line 618
4389c4389
< #line 612
---
> #line 619
4391c4391
< #line 641
---
> #line 650
4393c4393
< #line 642
---
> #line 651
4395c4395
< #line 643
---
> #line 652
4449c4449
< int i915_enable_vblank(struct drm_device *dev , int plane ) ;
---
> int i915_enable_vblank(struct drm_device *dev , int pipe ) ;
4451c4451
< void i915_disable_vblank(struct drm_device *dev , int plane ) ;
---
> void i915_disable_vblank(struct drm_device *dev , int pipe ) ;
4453c4453
< u32 i915_get_vblank_counter(struct drm_device *dev , int plane ) ;
---
> u32 i915_get_vblank_counter(struct drm_device *dev , int pipe ) ;
4882c4882
< #line 762 "include/linux/pci.h"
---
> #line 771 "include/linux/pci.h"
4884c4884
< #line 764
---
> #line 773
7615c7615
< #line 854 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 857 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7684,7686c7684,7686
< #line 848
<   if (! (dev->pci_device == 10098) && ! (dev->pci_device == 10146 || dev->pci_device == 10158)) {
< #line 849
---
> #line 851
>   if ((! (dev->pci_device == 10098) && ! (dev->pci_device == 10146 || dev->pci_device == 10158)) && ! (dev->pci_device == 10754)) {
> #line 852
7688c7688
< #line 849
---
> #line 852
7690c7690
< #line 850
---
> #line 853
7698c7698
< #line 852
---
> #line 855
7700c7700
< #line 854
---
> #line 857
7702c7702
< #line 854
---
> #line 857
7704c7704
< #line 854
---
> #line 857
7707c7707
< #line 856
---
> #line 859
7711c7711
< #line 859 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 862 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7717c7717
< #line 861
---
> #line 864
7719c7719
< #line 863
---
> #line 866
7721c7721
< #line 864
---
> #line 867
7726c7726
< #line 866
---
> #line 869
7728c7728
< #line 868
---
> #line 871
7730c7730
< #line 869
---
> #line 872
7735c7735
< #line 871
---
> #line 874
7737,7738d7736
< #line 873
<   drm_free(dev->dev_private, sizeof(drm_i915_private_t ), 2);
7739a7738,7739
>   drm_free(dev->dev_private, sizeof(drm_i915_private_t ), 2);
> #line 879
7743c7743
< #line 879 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 882 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7750c7750
< #line 883
---
> #line 886
7752c7752
< #line 883
---
> #line 886
7754c7754
< #line 883
---
> #line 886
7759c7759
< #line 883
---
> #line 886
7762c7762
< #line 884
---
> #line 887
7764,7765d7763
< #line 884
<   i915_file_priv = (struct drm_i915_file_private *)tmp;
7766a7765,7766
>   i915_file_priv = (struct drm_i915_file_private *)tmp;
> #line 890
7768c7768
< #line 888
---
> #line 891
7773c7773
< #line 890
---
> #line 893
7775c7775
< #line 892
---
> #line 895
7777c7777
< #line 893
---
> #line 896
7779c7779
< #line 895
---
> #line 898
7783c7783
< #line 898 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 901 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7789c7789
< #line 900
---
> #line 903
7791c7791
< #line 902
---
> #line 905
7793c7793
< #line 903
---
> #line 906
7798c7798
< #line 905
---
> #line 908
7800c7800
< #line 907
---
> #line 910
7802c7802
< #line 908
---
> #line 911
7807c7807
< #line 910
---
> #line 913
7809c7809
< #line 911
---
> #line 914
7813c7813
< #line 913 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 916 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7819c7819
< #line 915
---
> #line 918
7821c7821
< #line 916
---
> #line 919
7823c7823
< #line 917
---
> #line 920
7827c7827
< #line 919 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 922 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7833c7833
< #line 921
---
> #line 924
7835c7835
< #line 923
---
> #line 926
7837c7837
< #line 924
---
> #line 927
7841c7841
< #line 926 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 929 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7843c7843
< #line 926
---
> #line 929
7879c7879
< #line 962 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 965 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7881c7881
< #line 975 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 978 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
7887c7887
< #line 977
---
> #line 980
8030c8030
< #line 192 "include/linux/workqueue.h"
---
> #line 194 "include/linux/workqueue.h"
8051c8051
< #line 329 "include/linux/sched.h"
---
> #line 328 "include/linux/sched.h"
8090a8091,8094
> #line 1091
> extern int drm_lock_take(struct drm_lock_data *lock_data , unsigned int context ) ;
> #line 1092
> extern int drm_lock_free(struct drm_lock_data *lock_data , unsigned int context ) ;
8093,8094d8096
< #line 1152
< extern void drm_locked_tasklet(struct drm_device *dev , void (*func)(struct drm_device * ) ) ;
8120c8122
< void i915_gem_vblank_work_handler(struct work_struct *work ) ;
---
> void i915_vblank_work_handler(struct work_struct *work ) ;
8172,8217d8173
< static int i915_get_pipe(struct drm_device *dev , int plane ) 
< { 
<   drm_i915_private_t *dev_priv ;
<   u32 dspcntr ;
<   unsigned int tmp ;
<   unsigned int tmp___0 ;
< 
<   {
< #line 74
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
< #line 77
<   if (plane) {
< #line 77
<     tmp = readl(dev_priv->regs + 463232);
< #line 77
<     dspcntr = tmp;
<   } else {
< #line 77
<     tmp___0 = readl(dev_priv->regs + 459136);
< #line 77
<     dspcntr = tmp___0;
<   }
< #line 79
<   return (dspcntr & (unsigned int )(1 << 24) ? 1 : 0);
< }
< }
< #line 91 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< static int i915_get_plane(struct drm_device *dev , int pipe ) 
< { 
<   int tmp ;
< 
<   {
< #line 94
<   tmp = i915_get_pipe(dev, 0);
< #line 94
<   if (tmp == pipe) {
< #line 95
<     return (0);
<   } else {
< 
<   }
< #line 96
<   return (1);
< }
< }
< #line 108 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
8225c8181
< #line 111
---
> #line 74
8227c8183
< #line 112
---
> #line 75
8229c8185
< #line 114
---
> #line 77
8231c8187
< #line 114
---
> #line 77
8233c8189
< #line 115
---
> #line 78
8238c8194
< #line 117
---
> #line 80
8242c8198
< #line 125 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 91 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
8272d8227
<   int tmp___0 ;
8276c8231
<   struct drm_drawable_info *tmp___1 ;
---
>   struct drm_drawable_info *tmp___0 ;
8285c8240
<   int plane ;
---
>   int pipe___0 ;
8293a8249
>   int tmp___1 ;
8295d8250
<   int tmp___3 ;
8300c8255
< #line 127
---
> #line 93
8302c8257
< #line 133
---
> #line 99
8304c8259
< #line 134
---
> #line 100
8306c8261
< #line 135
---
> #line 101
8308c8263
< #line 139
---
> #line 105
8310c8265
< #line 140
---
> #line 106
8312c8267
< #line 141
---
> #line 107
8314c8269,8271
< #line 144
---
> #line 110
>   mutex_lock(& dev->struct_mutex);
> #line 112
8316c8273
< #line 145
---
> #line 113
8318c8275
< #line 146
---
> #line 114
8323c8280
< #line 148
---
> #line 116
8325c8282
< #line 149
---
> #line 117
8327c8284
< #line 150
---
> #line 118
8332c8289
< #line 153
---
> #line 121
8334c8291
< #line 154
---
> #line 122
8336c8293
< #line 156
---
> #line 124
8338c8295
< #line 156
---
> #line 124
8340c8297
< #line 156
---
> #line 124
8345c8302
< #line 156
---
> #line 124
8348c8305
< #line 158
---
> #line 126
8350c8307
< #line 160
---
> #line 128
8352c8309
< #line 160
---
> #line 128
8354c8311
< #line 162
---
> #line 130
8356c8313
< #line 162
---
> #line 130
8358c8315
< #line 162
---
> #line 130
8361c8318
< #line 165
---
> #line 133
8363c8320
< #line 165
---
> #line 133
8365c8322
< #line 165
---
> #line 133
8367c8324
< #line 165
---
> #line 133
8371c8328
< #line 165
---
> #line 133
8374c8331
< #line 167
---
> #line 135
8376c8333
< #line 167
---
> #line 135
8378,8382c8335,8337
< #line 168
<     tmp___0 = i915_get_pipe(dev, vbl_swap->plane);
< #line 168
<     pipe = tmp___0;
< #line 170
---
> #line 136
>     pipe = vbl_swap->pipe;
> #line 138
8384c8339
< #line 171
---
> #line 139
8389c8344
< #line 173
---
> #line 141
8391c8346
< #line 174
---
> #line 142
8393c8348
< #line 175
---
> #line 143
8395c8350
< #line 177
---
> #line 145
8397c8352
< #line 178
---
> #line 146
8399c8354
< #line 180
---
> #line 148
8401,8414c8356
< #line 182
<     if (! drw) {
< #line 183
<       _spin_unlock(& dev->drw_lock);
< #line 184
<       drm_free(vbl_swap, sizeof(*vbl_swap), 2);
< #line 185
<       _spin_lock(& dev_priv->swaps_lock);
< #line 186
<       goto __Cont;
<     } else {
< 
<     }
< #line 189
---
> #line 150
8416c8358
< #line 189
---
> #line 150
8418c8360
< #line 189
---
> #line 150
8420c8362
< #line 189
---
> #line 150
8424c8366
< #line 189
---
> #line 150
8427c8369
< #line 191
---
> #line 152
8429c8371
< #line 191
---
> #line 152
8431,8437c8373,8379
< #line 192
<       tmp___1 = drm_get_drawable_info(dev, swap_cmp->drw_id);
< #line 192
<       drw_cmp = tmp___1;
< #line 195
<       if (drw_cmp && (int )(drw_cmp->rects + 0)->y1 > (int )(drw->rects + 0)->y1) {
< #line 197
---
> #line 153
>       tmp___0 = drm_get_drawable_info(dev, swap_cmp->drw_id);
> #line 153
>       drw_cmp = tmp___0;
> #line 161
>       if ((((drw_cmp && drw_cmp->num_rects > 0U) && drw) && drw->num_rects > 0U) && (int )(drw_cmp->rects + 0)->y1 > (int )(drw->rects + 0)->y1) {
> #line 164
8439c8381
< #line 198
---
> #line 165
8444c8386
< #line 189
---
> #line 150
8447c8389
< #line 202
---
> #line 169
8449c8391
< #line 205
---
> #line 172
8451c8393
< #line 206
---
> #line 173
8456c8398
< #line 208
---
> #line 175
8458c8400
< #line 210
---
> #line 177
8461c8403
< #line 165
---
> #line 133
8463c8405
< #line 165
---
> #line 133
8466c8408
< #line 213
---
> #line 180
8468c8410
< #line 214
---
> #line 181
8470c8412
< #line 214
---
> #line 181
8472c8414
< #line 214
---
> #line 181
8475c8417,8419
< #line 215
---
> #line 182
>     mutex_unlock(& dev->struct_mutex);
> #line 183
8480c8424
< #line 218
---
> #line 186
8482c8426
< #line 220
---
> #line 188
8484c8428
< #line 222
---
> #line 190
8486c8430
< #line 223
---
> #line 191
8488c8432
< #line 223
---
> #line 191
8490c8434
< #line 223
---
> #line 191
8495c8439
< #line 223
---
> #line 191
8497c8441
< #line 223
---
> #line 191
8499c8443
< #line 223
---
> #line 191
8501c8445
< #line 223
---
> #line 191
8503c8447
< #line 223
---
> #line 191
8506c8450
< #line 225
---
> #line 193
8508c8452
< #line 225
---
> #line 193
8510c8454
< #line 225
---
> #line 193
8512c8456
< #line 225
---
> #line 193
8514c8458
< #line 225
---
> #line 193
8516c8460
< #line 225
---
> #line 193
8519c8463
< #line 226
---
> #line 194
8521c8465
< #line 226
---
> #line 194
8523c8467
< #line 226
---
> #line 194
8525c8469
< #line 226
---
> #line 194
8527c8471
< #line 226
---
> #line 194
8529c8473
< #line 226
---
> #line 194
8532c8476
< #line 227
---
> #line 195
8534c8478
< #line 227
---
> #line 195
8536c8480
< #line 227
---
> #line 195
8538c8482
< #line 227
---
> #line 195
8540c8484
< #line 227
---
> #line 195
8542c8486
< #line 227
---
> #line 195
8545c8489
< #line 228
---
> #line 196
8547c8491
< #line 228
---
> #line 196
8549c8493
< #line 228
---
> #line 196
8551c8495
< #line 228
---
> #line 196
8553c8497
< #line 228
---
> #line 196
8555c8499
< #line 228
---
> #line 196
8558c8502
< #line 229
---
> #line 197
8560c8504
< #line 229
---
> #line 197
8562c8506
< #line 229
---
> #line 197
8564c8508
< #line 229
---
> #line 197
8566c8510
< #line 229
---
> #line 197
8570c8514
< #line 231
---
> #line 199
8572c8516
< #line 231
---
> #line 199
8574c8518
< #line 231
---
> #line 199
8579c8523
< #line 231
---
> #line 199
8581c8525
< #line 231
---
> #line 199
8583c8527
< #line 231
---
> #line 199
8585c8529
< #line 231
---
> #line 199
8587c8531
< #line 231
---
> #line 199
8590c8534
< #line 233
---
> #line 201
8592c8536
< #line 233
---
> #line 201
8594c8538
< #line 233
---
> #line 201
8596c8540
< #line 233
---
> #line 201
8598c8542
< #line 233
---
> #line 201
8600c8544
< #line 233
---
> #line 201
8603c8547
< #line 234
---
> #line 202
8605c8549
< #line 234
---
> #line 202
8607c8551
< #line 234
---
> #line 202
8609c8553
< #line 234
---
> #line 202
8611c8555
< #line 234
---
> #line 202
8613c8557
< #line 234
---
> #line 202
8616c8560
< #line 235
---
> #line 203
8618c8562
< #line 235
---
> #line 203
8620c8564
< #line 235
---
> #line 203
8622c8566
< #line 235
---
> #line 203
8624c8568
< #line 235
---
> #line 203
8626c8570
< #line 235
---
> #line 203
8629c8573
< #line 236
---
> #line 204
8631c8575
< #line 236
---
> #line 204
8633c8577
< #line 236
---
> #line 204
8635c8579
< #line 236
---
> #line 204
8637c8581
< #line 236
---
> #line 204
8639c8583
< #line 236
---
> #line 204
8642c8586
< #line 237
---
> #line 205
8644c8588
< #line 237
---
> #line 205
8646c8590
< #line 237
---
> #line 205
8648c8592
< #line 237
---
> #line 205
8650c8594
< #line 237
---
> #line 205
8652c8596
< #line 237
---
> #line 205
8655c8599
< #line 238
---
> #line 206
8657c8601
< #line 238
---
> #line 206
8659c8603
< #line 238
---
> #line 206
8661c8605
< #line 238
---
> #line 206
8663c8607
< #line 238
---
> #line 206
8665c8609
< #line 238
---
> #line 206
8668c8612
< #line 240
---
> #line 208
8670c8614
< #line 240
---
> #line 208
8672c8616
< #line 240
---
> #line 208
8674c8618
< #line 240
---
> #line 208
8676c8620
< #line 240
---
> #line 208
8680c8624
< #line 243
---
> #line 211
8682c8626
< #line 245
---
> #line 213
8684c8628
< #line 245
---
> #line 213
8686c8630
< #line 246
---
> #line 214
8688c8632
< #line 246
---
> #line 214
8690c8634
< #line 246
---
> #line 214
8692c8636
< #line 247
---
> #line 215
8694c8638
< #line 247
---
> #line 215
8696c8640
< #line 247
---
> #line 215
8698c8642
< #line 248
---
> #line 216
8700c8644
< #line 249
---
> #line 217
8702c8646
< #line 251
---
> #line 219
8704c8648
< #line 258
---
> #line 226
8706c8650
< #line 258
---
> #line 226
8708,8710c8652,8654
< #line 258
<     tmp___3 = i;
< #line 258
---
> #line 226
>     tmp___2 = i;
> #line 226
8712,8713c8656,8657
< #line 258
<     if (tmp___3 < nhits) {
---
> #line 226
>     if (tmp___2 < nhits) {
8716c8660
< #line 258
---
> #line 226
8719c8663
< #line 261
---
> #line 229
8721c8665
< #line 262
---
> #line 230
8723c8667
< #line 262
---
> #line 230
8728c8672
< #line 264
---
> #line 232
8730c8674
< #line 264
---
> #line 232
8732c8676
< #line 264
---
> #line 232
8734c8678
< #line 264
---
> #line 232
8738c8682
< #line 264
---
> #line 232
8741c8685
< #line 266
---
> #line 234
8743c8687
< #line 266
---
> #line 234
8745c8689
< #line 271
---
> #line 239
8747c8691
< #line 273
---
> #line 244
8749c8693
< #line 274
---
> #line 245
8754c8698
< #line 276
---
> #line 247
8756,8762c8700,8706
< #line 277
<       plane = swap_hit->plane;
< #line 278
<       top = upper[plane];
< #line 279
<       bottom = lower[plane];
< #line 281
---
> #line 248
>       pipe___0 = swap_hit->pipe;
> #line 249
>       top = upper[pipe___0];
> #line 250
>       bottom = lower[pipe___0];
> #line 252
8764c8708
< #line 281
---
> #line 252
8766,8768c8710,8712
< #line 281
<         tmp___2 = num_rects;
< #line 281
---
> #line 252
>         tmp___1 = num_rects;
> #line 252
8770,8771c8714,8715
< #line 281
<         if (tmp___2) {
---
> #line 252
>         if (tmp___1) {
8774c8718
< #line 281
---
> #line 252
8777c8721
< #line 282
---
> #line 253
8779c8723
< #line 282
---
> #line 253
8781c8725
< #line 282
---
> #line 253
8783c8727
< #line 283
---
> #line 254
8785c8729
< #line 283
---
> #line 254
8787c8731
< #line 283
---
> #line 254
8789c8733
< #line 285
---
> #line 256
8791c8735
< #line 286
---
> #line 257
8796c8740
< #line 288
---
> #line 259
8798c8742
< #line 288
---
> #line 259
8800c8744
< #line 288
---
> #line 259
8805c8749
< #line 288
---
> #line 259
8807c8751
< #line 288
---
> #line 259
8809c8753
< #line 288
---
> #line 259
8811c8755
< #line 288
---
> #line 259
8813c8757
< #line 288
---
> #line 259
8816c8760
< #line 290
---
> #line 261
8818c8762
< #line 290
---
> #line 261
8820c8764
< #line 290
---
> #line 261
8822c8766
< #line 290
---
> #line 261
8824c8768
< #line 290
---
> #line 261
8826c8770
< #line 290
---
> #line 261
8829c8773
< #line 291
---
> #line 262
8831c8775
< #line 291
---
> #line 262
8833c8777
< #line 291
---
> #line 262
8835c8779
< #line 291
---
> #line 262
8837c8781
< #line 291
---
> #line 262
8839c8783
< #line 291
---
> #line 262
8842c8786
< #line 292
---
> #line 263
8844c8788
< #line 292
---
> #line 263
8846c8790
< #line 292
---
> #line 263
8848c8792
< #line 292
---
> #line 263
8850c8794
< #line 292
---
> #line 263
8852c8796
< #line 292
---
> #line 263
8855c8799
< #line 293
---
> #line 264
8857c8801
< #line 293
---
> #line 264
8859c8803
< #line 293
---
> #line 264
8861c8805
< #line 293
---
> #line 264
8863c8807
< #line 293
---
> #line 264
8865c8809
< #line 293
---
> #line 264
8868c8812
< #line 294
---
> #line 265
8870c8814
< #line 294
---
> #line 265
8872c8816
< #line 294
---
> #line 265
8874c8818
< #line 294
---
> #line 265
8876c8820
< #line 294
---
> #line 265
8878c8822
< #line 294
---
> #line 265
8881c8825
< #line 295
---
> #line 266
8883c8827
< #line 295
---
> #line 266
8885c8829
< #line 295
---
> #line 266
8887c8831
< #line 295
---
> #line 266
8889c8833
< #line 295
---
> #line 266
8891c8835
< #line 295
---
> #line 266
8894c8838
< #line 296
---
> #line 267
8896c8840
< #line 296
---
> #line 267
8898c8842
< #line 296
---
> #line 267
8900c8844
< #line 296
---
> #line 267
8902c8846
< #line 296
---
> #line 267
8904c8848
< #line 296
---
> #line 267
8907c8851
< #line 297
---
> #line 268
8909c8853
< #line 297
---
> #line 268
8911c8855
< #line 297
---
> #line 268
8913c8857
< #line 297
---
> #line 268
8915c8859
< #line 297
---
> #line 268
8917c8861
< #line 297
---
> #line 268
8920c8864
< #line 299
---
> #line 270
8922c8866
< #line 299
---
> #line 270
8924c8868
< #line 299
---
> #line 270
8926c8870
< #line 299
---
> #line 270
8928c8872
< #line 299
---
> #line 270
8932c8876
< #line 281
---
> #line 252
8936c8880
< #line 264
---
> #line 232
8939c8883
< #line 258
---
> #line 226
8941c8885
< #line 258
---
> #line 226
8943c8887
< #line 258
---
> #line 226
8945c8889
< #line 258
---
> #line 226
8948c8892
< #line 304
---
> #line 275
8950c8894
< #line 304
---
> #line 275
8952c8896
< #line 304
---
> #line 275
8955c8899,8901
< #line 306
---
> #line 276
>   mutex_unlock(& dev->struct_mutex);
> #line 278
8957c8903
< #line 306
---
> #line 278
8959c8905
< #line 306
---
> #line 278
8961c8907
< #line 306
---
> #line 278
8965c8911
< #line 306
---
> #line 278
8968c8914
< #line 308
---
> #line 280
8970c8916
< #line 308
---
> #line 280
8972c8918
< #line 310
---
> #line 282
8974c8920
< #line 312
---
> #line 284
8976c8922
< #line 306
---
> #line 278
8978c8924
< #line 306
---
> #line 278
8981c8927
< #line 314
---
> #line 286
8985,8986c8931,8932
< #line 316 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< u32 i915_get_vblank_counter(struct drm_device *dev , int plane ) 
---
> #line 291 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> u32 i915_get_vblank_counter(struct drm_device *dev , int pipe ) 
8995d8940
<   int pipe ;
9002c8947
< #line 318
---
> #line 293
9004,9006c8949
< #line 324
<   pipe = i915_get_pipe(dev, plane);
< #line 325
---
> #line 298
9008c8951
< #line 326
---
> #line 299
9010c8953
< #line 328
---
> #line 301
9012c8955
< #line 328
---
> #line 301
9016c8959
< #line 329
---
> #line 302
9019c8962
< #line 330
---
> #line 303
9022c8965
< #line 338
---
> #line 311
9024c8967
< #line 339
---
> #line 312
9026c8969
< #line 339
---
> #line 312
9028c8971
< #line 341
---
> #line 314
9030c8973
< #line 341
---
> #line 314
9032c8975
< #line 343
---
> #line 316
9034c8977
< #line 343
---
> #line 316
9036c8979
< #line 338
---
> #line 311
9040c8983
< #line 338
---
> #line 311
9044c8987
< #line 347
---
> #line 320
9046c8989
< #line 349
---
> #line 322
9050,9051c8993,8994
< #line 352 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< void i915_gem_vblank_work_handler(struct work_struct *work ) 
---
> #line 325 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> void i915_vblank_work_handler(struct work_struct *work ) 
9054d8996
<   struct drm_device *dev ;
9055a8998,9000
>   struct drm_device *dev ;
>   unsigned long irqflags ;
>   int tmp ;
9058c9003
< #line 358
---
> #line 328
9060,9062c9005,9007
< #line 358
<   dev_priv = (drm_i915_private_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_private_t *)0)->mm.vblank_work));
< #line 360
---
> #line 328
>   dev_priv = (drm_i915_private_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_private_t *)0)->vblank_work));
> #line 330
9064,9066c9009,9063
< #line 362
<   mutex_lock(& dev->struct_mutex);
< #line 363
---
> #line 333
>   if ((unsigned long )dev->lock.hw_lock == (unsigned long )((void *)0)) {
> #line 334
>     i915_vblank_tasklet(dev);
> #line 335
>     return;
>   } else {
> 
>   }
> #line 338
>   while (1) {
> #line 338
>     irqflags = _spin_lock_irqsave(& dev->tasklet_lock);
> #line 338
>     break;
>   }
> #line 339
>   dev->locked_tasklet_func = & i915_vblank_tasklet;
> #line 340
>   while (1) {
> #line 340
>     _spin_unlock_irqrestore(& dev->tasklet_lock, irqflags);
> #line 340
>     break;
>   }
> #line 345
>   tmp = drm_lock_take(& dev->lock, 0);
> #line 345
>   if (tmp) {
> 
>   } else {
> #line 346
>     return;
>   }
> #line 348
>   dev->lock.lock_time = jiffies;
> #line 349
>   atomic_inc(& dev->counts[_DRM_STAT_LOCKS]);
> #line 351
>   while (1) {
> #line 351
>     irqflags = _spin_lock_irqsave(& dev->tasklet_lock);
> #line 351
>     break;
>   }
> #line 352
>   dev->locked_tasklet_func = (void *)0;
> #line 353
>   while (1) {
> #line 353
>     _spin_unlock_irqrestore(& dev->tasklet_lock, irqflags);
> #line 353
>     break;
>   }
> #line 355
9068,9070c9065,9067
< #line 364
<   mutex_unlock(& dev->struct_mutex);
< #line 365
---
> #line 356
>   drm_lock_free(& dev->lock, 0);
> #line 357
9074c9071
< #line 367 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 359 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9083,9084d9079
<   int tmp ;
<   int tmp___0 ;
9087c9082
< #line 369
---
> #line 361
9089c9084
< #line 370
---
> #line 362
9091c9086
< #line 373
---
> #line 365
9093c9088
< #line 375
---
> #line 367
9095c9090
< #line 377
---
> #line 369
9097c9092
< #line 378
---
> #line 370
9102c9097
< #line 379
---
> #line 371
9104c9099
< #line 381
---
> #line 373
9106c9101
< #line 382
---
> #line 374
9108c9103
< #line 383
---
> #line 375
9110c9105
< #line 384
---
> #line 376
9115c9110
< #line 386
---
> #line 378
9120c9115
< #line 393
---
> #line 385
9122c9117
< #line 394
---
> #line 386
9124c9119
< #line 395
---
> #line 387
9126c9121
< #line 396
---
> #line 388
9129c9124
< #line 398
---
> #line 390
9131c9126
< #line 400
---
> #line 392
9133,9136c9128,9129
< #line 401
<       tmp = i915_get_plane(dev, 0);
< #line 401
<       drm_handle_vblank(dev, tmp);
---
> #line 393
>       drm_handle_vblank(dev, 0);
9140c9133
< #line 404
---
> #line 396
9145c9138
< #line 406
---
> #line 398
9147c9140
< #line 407
---
> #line 399
9149c9142
< #line 409
---
> #line 401
9151c9144
< #line 413
---
> #line 405
9153c9146
< #line 414
---
> #line 406
9156c9149
< #line 416
---
> #line 408
9158c9151
< #line 418
---
> #line 410
9160,9163c9153,9154
< #line 419
<       tmp___0 = i915_get_plane(dev, 1);
< #line 419
<       drm_handle_vblank(dev, tmp___0);
---
> #line 411
>       drm_handle_vblank(dev, 1);
9167c9158
< #line 422
---
> #line 414
9169c9160
< #line 423
---
> #line 415
9174c9165
< #line 424
---
> #line 416
9179c9170
< #line 427
---
> #line 419
9181c9172
< #line 428
---
> #line 420
9183c9174
< #line 429
---
> #line 421
9188c9179
< #line 430
---
> #line 422
9190c9181
< #line 432
---
> #line 424
9192c9183
< #line 433
---
> #line 425
9197c9188
< #line 436
---
> #line 428
9199c9190
< #line 437
---
> #line 429
9201c9192
< #line 438
---
> #line 430
9206c9197
< #line 441
---
> #line 433
9208c9199
< #line 442
---
> #line 434
9213c9204
< #line 444
---
> #line 436
9215,9222c9206,9207
< #line 445
<     if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
< #line 446
<       drm_locked_tasklet(dev, & i915_vblank_tasklet);
<     } else {
< #line 448
<       schedule_work(& dev_priv->mm.vblank_work);
<     }
---
> #line 437
>     schedule_work(& dev_priv->vblank_work);
9226c9211
< #line 451
---
> #line 439
9230c9215
< #line 454 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 442 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9240c9225
< #line 456
---
> #line 444
9242c9227
< #line 459
---
> #line 447
9244c9229
< #line 461
---
> #line 449
9246c9231
< #line 461
---
> #line 449
9248c9233
< #line 461
---
> #line 449
9253c9238
< #line 461
---
> #line 449
9256c9241
< #line 463
---
> #line 451
9258c9243
< #line 464
---
> #line 452
9260c9245
< #line 465
---
> #line 453
9265c9250
< #line 466
---
> #line 454
9267c9252
< #line 467
---
> #line 455
9272c9257
< #line 469
---
> #line 457
9274c9259
< #line 469
---
> #line 457
9276c9261
< #line 469
---
> #line 457
9281c9266
< #line 469
---
> #line 457
9283c9268
< #line 469
---
> #line 457
9285c9270
< #line 469
---
> #line 457
9287c9272
< #line 469
---
> #line 457
9289c9274
< #line 469
---
> #line 457
9292c9277
< #line 470
---
> #line 458
9294c9279
< #line 470
---
> #line 458
9296c9281
< #line 470
---
> #line 458
9298c9283
< #line 470
---
> #line 458
9300c9285
< #line 470
---
> #line 458
9302c9287
< #line 470
---
> #line 458
9305c9290
< #line 471
---
> #line 459
9307c9292
< #line 471
---
> #line 459
9309c9294
< #line 471
---
> #line 459
9311c9296
< #line 471
---
> #line 459
9313c9298
< #line 471
---
> #line 459
9315c9300
< #line 471
---
> #line 459
9318c9303
< #line 472
---
> #line 460
9320c9305
< #line 472
---
> #line 460
9322c9307
< #line 472
---
> #line 460
9324c9309
< #line 472
---
> #line 460
9326c9311
< #line 472
---
> #line 460
9328c9313
< #line 472
---
> #line 460
9331c9316
< #line 473
---
> #line 461
9333c9318
< #line 473
---
> #line 461
9335c9320
< #line 473
---
> #line 461
9337c9322
< #line 473
---
> #line 461
9339c9324
< #line 473
---
> #line 461
9341c9326
< #line 473
---
> #line 461
9344c9329
< #line 474
---
> #line 462
9346c9331
< #line 474
---
> #line 462
9348c9333
< #line 474
---
> #line 462
9350c9335
< #line 474
---
> #line 462
9352c9337
< #line 474
---
> #line 462
9354c9339
< #line 474
---
> #line 462
9357c9342
< #line 475
---
> #line 463
9359c9344
< #line 475
---
> #line 463
9361c9346
< #line 475
---
> #line 463
9363c9348
< #line 475
---
> #line 463
9365c9350
< #line 475
---
> #line 463
9367c9352
< #line 475
---
> #line 463
9370c9355
< #line 476
---
> #line 464
9372c9357
< #line 476
---
> #line 464
9374c9359
< #line 476
---
> #line 464
9376c9361
< #line 476
---
> #line 464
9378c9363
< #line 476
---
> #line 464
9381c9366
< #line 478
---
> #line 466
9385c9370
< #line 481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 469 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9388a9374
>   unsigned long irqflags ;
9391c9377
< #line 483
---
> #line 471
9393,9395c9379,9386
< #line 485
<   _spin_lock(& dev_priv->user_irq_lock);
< #line 486
---
> #line 474
>   while (1) {
> #line 474
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 474
>     break;
>   }
> #line 475
9397c9388
< #line 486
---
> #line 475
9399c9390
< #line 486
---
> #line 475
9401c9392
< #line 487
---
> #line 476
9409,9411c9400,9407
< #line 488
<   _spin_unlock(& dev_priv->user_irq_lock);
< #line 489
---
> #line 477
>   while (1) {
> #line 477
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 477
>     break;
>   }
> #line 478
9415c9411
< #line 491 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9418a9415
>   unsigned long irqflags ;
9422c9419
< #line 493
---
> #line 482
9424,9426c9421
< #line 495
<   _spin_lock(& dev_priv->user_irq_lock);
< #line 496
---
> #line 485
9428c9423,9430
< #line 496
---
> #line 485
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 485
>     break;
>   }
> #line 486
>   while (1) {
> #line 486
9431c9433
< #line 496
---
> #line 486
9433c9435
< #line 496
---
> #line 486
9435c9437
< #line 496
---
> #line 486
9442,9443c9444,9445
<                              "i" (496), "i" (sizeof(struct bug_entry )));
< #line 496
---
>                              "i" (486), "i" (sizeof(struct bug_entry )));
> #line 486
9447c9449
< #line 496
---
> #line 486
9453c9455
< #line 496
---
> #line 486
9456c9458
< #line 497
---
> #line 487
9458c9460
< #line 497
---
> #line 487
9460c9462
< #line 497
---
> #line 487
9462c9464
< #line 498
---
> #line 488
9470,9472c9472,9479
< #line 499
<   _spin_unlock(& dev_priv->user_irq_lock);
< #line 500
---
> #line 489
>   while (1) {
> #line 489
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 489
>     break;
>   }
> #line 490
9476c9483
< #line 502 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 492 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9490c9497
< #line 504
---
> #line 494
9492c9499
< #line 505
---
> #line 495
9494c9501
< #line 507
---
> #line 497
9496c9503
< #line 507
---
> #line 497
9498c9505
< #line 507
---
> #line 497
9503c9510
< #line 507
---
> #line 497
9506c9513
< #line 510
---
> #line 500
9508c9515
< #line 511
---
> #line 501
9510c9517
< #line 512
---
> #line 502
9515c9522
< #line 515
---
> #line 505
9520c9527
< #line 518
---
> #line 508
9522c9529
< #line 519
---
> #line 509
9527c9534
< #line 521
---
> #line 511
9529c9536
< #line 522
---
> #line 512
9531c9538
< #line 522
---
> #line 512
9533c9540
< #line 522
---
> #line 512
9535c9542
< #line 522
---
> #line 512
9537c9544
< #line 522
---
> #line 512
9539c9546
< #line 522
---
> #line 512
9541c9548
< #line 522
---
> #line 512
9543c9550
< #line 522
---
> #line 512
9545c9552
< #line 522
---
> #line 512
9547c9554
< #line 522
---
> #line 512
9549c9556
< #line 522
---
> #line 512
9551c9558
< #line 522
---
> #line 512
9553c9560
< #line 522
---
> #line 512
9555c9562
< #line 522
---
> #line 512
9558c9565
< #line 522
---
> #line 512
9560c9567
< #line 522
---
> #line 512
9565c9572
< #line 522
---
> #line 512
9567c9574
< #line 522
---
> #line 512
9569c9576
< #line 522
---
> #line 512
9574c9581
< #line 522
---
> #line 512
9576c9583
< #line 522
---
> #line 512
9578c9585
< #line 522
---
> #line 512
9580c9587
< #line 522
---
> #line 512
9582c9589
< #line 522
---
> #line 512
9584c9591
< #line 522
---
> #line 512
9590c9597
< #line 522
---
> #line 512
9592c9599
< #line 522
---
> #line 512
9594c9601
< #line 522
---
> #line 512
9596c9603
< #line 522
---
> #line 512
9599c9606
< #line 522
---
> #line 512
9601c9608
< #line 522
---
> #line 512
9604c9611
< #line 524
---
> #line 514
9606c9613
< #line 526
---
> #line 516
9608c9615
< #line 527
---
> #line 517
9614c9621
< #line 531
---
> #line 521
9616c9623
< #line 532
---
> #line 522
9621c9628
< #line 535
---
> #line 525
9625c9632
< #line 540 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 530 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9634c9641
< #line 543
---
> #line 533
9636c9643
< #line 544
---
> #line 534
9638c9645
< #line 547
---
> #line 537
9640c9647
< #line 547
---
> #line 537
9642c9649
< #line 547
---
> #line 537
9644c9651
< #line 547
---
> #line 537
9646c9653
< #line 547
---
> #line 537
9650c9657
< #line 547
---
> #line 537
9655c9662
< #line 547
---
> #line 537
9661c9668
< #line 547
---
> #line 537
9664c9671
< #line 549
---
> #line 539
9666c9673
< #line 550
---
> #line 540
9668c9675
< #line 551
---
> #line 541
9673c9680
< #line 553
---
> #line 543
9675c9682
< #line 554
---
> #line 544
9677c9684
< #line 555
---
> #line 545
9679c9686
< #line 557
---
> #line 547
9681c9688
< #line 557
---
> #line 547
9683c9690
< #line 558
---
> #line 548
9685c9692
< #line 559
---
> #line 549
9690c9697
< #line 562
---
> #line 552
9694c9701
< #line 567 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 557 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9702c9709
< #line 570
---
> #line 560
9704c9711
< #line 571
---
> #line 561
9706c9713
< #line 573
---
> #line 563
9708c9715
< #line 574
---
> #line 564
9710c9717
< #line 575
---
> #line 565
9715c9722
< #line 578
---
> #line 568
9717c9724
< #line 578
---
> #line 568
9721,9722c9728,9729
< #line 581 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< int i915_enable_vblank(struct drm_device *dev , int plane ) 
---
> #line 574 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> int i915_enable_vblank(struct drm_device *dev , int pipe ) 
9725,9726d9731
<   int pipe ;
<   int tmp ;
9728a9734,9735
>   u32 interrupt ;
>   unsigned long irqflags ;
9731c9738
< #line 583
---
> #line 576
9733,9737c9740
< #line 584
<   tmp = i915_get_pipe(dev, plane);
< #line 584
<   pipe = tmp;
< #line 585
---
> #line 577
9739c9742,9744
< #line 588
---
> #line 579
>   interrupt = 0;
> #line 582
9742c9747
< #line 590
---
> #line 584
9744,9746c9749,9751
< #line 591
<   i915_enable_irq(dev_priv, 1 << 6);
< #line 592
---
> #line 585
>   interrupt = 1 << 6;
> #line 586
9749c9754
< #line 594
---
> #line 588
9751,9753c9756,9758
< #line 595
<   i915_enable_irq(dev_priv, 1 << 4);
< #line 596
---
> #line 589
>   interrupt = 1 << 4;
> #line 590
9756c9761
< #line 598
---
> #line 592
9759,9760c9764,9772
< #line 600
<   break;
---
> #line 594
>   return (0);
>   }
> #line 597
>   while (1) {
> #line 597
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 597
>     break;
9762,9767d9773
< #line 603
<   if (pipestat_reg) {
< #line 604
<     pipestat = readl(dev_priv->regs + pipestat_reg);
< #line 605
<     if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
9769,9770c9775,9777
<       pipestat = (unsigned long )pipestat | (1UL << 18);
<     } else {
---
>   i915_enable_irq(dev_priv, interrupt);
> #line 607
>   pipestat = readl(dev_priv->regs + pipestat_reg);
9772,9777c9779,9781
<       pipestat = (unsigned long )pipestat | (1UL << 17);
<     }
< #line 610
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
< #line 612
<     writel(pipestat, dev_priv->regs + pipestat_reg);
---
>   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 609
>     pipestat = (unsigned long )pipestat | (1UL << 18);
9779c9783,9784
< 
---
> #line 611
>     pipestat = (unsigned long )pipestat | (1UL << 17);
9780a9786,9787
> #line 613
>   pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
9781a9789,9799
>   writel(pipestat, dev_priv->regs + pipestat_reg);
> #line 616
>   readl(dev_priv->regs + pipestat_reg);
> #line 617
>   while (1) {
> #line 617
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 617
>     break;
>   }
> #line 619
9785,9786c9803,9804
< #line 618 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< void i915_disable_vblank(struct drm_device *dev , int plane ) 
---
> #line 625 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> void i915_disable_vblank(struct drm_device *dev , int pipe ) 
9789,9790d9806
<   int pipe ;
<   int tmp ;
9792a9809,9810
>   u32 interrupt ;
>   unsigned long irqflags ;
9795c9813
< #line 620
---
> #line 627
9797,9801c9815
< #line 621
<   tmp = i915_get_pipe(dev, plane);
< #line 621
<   pipe = tmp;
< #line 622
---
> #line 628
9803c9817,9819
< #line 625
---
> #line 630
>   interrupt = 0;
> #line 633
9806c9822
< #line 627
---
> #line 635
9808,9810c9824,9826
< #line 628
<   i915_disable_irq(dev_priv, 1 << 6);
< #line 629
---
> #line 636
>   interrupt = 1 << 6;
> #line 637
9813c9829
< #line 631
---
> #line 639
9815,9817c9831,9833
< #line 632
<   i915_disable_irq(dev_priv, 1 << 4);
< #line 633
---
> #line 640
>   interrupt = 1 << 4;
> #line 641
9820c9836
< #line 635
---
> #line 643
9823,9831d9838
< #line 637
<   break;
<   }
< #line 640
<   if (pipestat_reg) {
< #line 641
<     pipestat = readl(dev_priv->regs + pipestat_reg);
< #line 642
<     pipestat = (unsigned long )pipestat & ~ ((1UL << 18) | (1UL << 17));
9833,9837c9840,9842
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
< #line 647
<     writel(pipestat, dev_priv->regs + pipestat_reg);
<   } else {
< 
---
>   return;
> #line 646
>   break;
9839a9845,9870
>   while (1) {
> #line 649
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 649
>     break;
>   }
> #line 650
>   i915_disable_irq(dev_priv, interrupt);
> #line 651
>   pipestat = readl(dev_priv->regs + pipestat_reg);
> #line 652
>   pipestat = (unsigned long )pipestat & ~ ((1UL << 18) | (1UL << 17));
> #line 655
>   pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
> #line 657
>   writel(pipestat, dev_priv->regs + pipestat_reg);
> #line 658
>   readl(dev_priv->regs + pipestat_reg);
> #line 659
>   while (1) {
> #line 659
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 659
>     break;
>   }
> #line 660
9843c9874
< #line 653 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 664 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9849c9880
< #line 656
---
> #line 667
9851c9882
< #line 658
---
> #line 669
9853c9884
< #line 659
---
> #line 670
9855c9886
< #line 660
---
> #line 671
9860c9891
< #line 663
---
> #line 674
9864c9895
< #line 666 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 677 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9871c9902
< #line 669
---
> #line 680
9873c9904
< #line 670
---
> #line 681
9875c9906
< #line 672
---
> #line 683
9877c9908
< #line 673
---
> #line 684
9879c9910
< #line 674
---
> #line 685
9884c9915
< #line 677
---
> #line 688
9886c9917
< #line 679
---
> #line 690
9890c9921
< #line 685 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 696 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9895a9927
>   drm_i915_vbl_swap_t *vbl_old ;
9899d9930
<   unsigned int plane ;
9903,9904c9934,9935
<   int tmp ;
<   struct drm_drawable_info *tmp___0 ;
---
>   struct drm_drawable_info *tmp ;
>   void *tmp___0 ;
9906c9937,9939
<   void *tmp___1 ;
---
>   u32 tmp___1 ;
>   u32 tmp___2 ;
>   struct list_head  const  *__mptr___0 ;
9909c9942
< #line 688
---
> #line 699
9911c9944
< #line 689
---
> #line 700
9913c9946
< #line 696
---
> #line 707
9915c9948
< #line 697
---
> #line 708
9918c9951
< #line 698
---
> #line 709
9923c9956
< #line 701
---
> #line 712
9925c9958
< #line 702
---
> #line 713
9927c9960
< #line 702
---
> #line 713
9929c9962
< #line 702
---
> #line 713
9934c9967
< #line 702
---
> #line 713
9937c9970
< #line 703
---
> #line 714
9942c9975
< #line 706
---
> #line 717
9944c9977
< #line 708
---
> #line 719
9947c9980
< #line 709
---
> #line 720
9952,9958c9985,9987
< #line 712
<   plane = (unsigned int )swap->seqtype & (unsigned int )_DRM_VBLANK_SECONDARY ? 1 : 0;
< #line 713
<   tmp = i915_get_pipe(dev, plane);
< #line 713
<   pipe = tmp;
< #line 715
---
> #line 723
>   pipe = (unsigned int )swap->seqtype & (unsigned int )_DRM_VBLANK_SECONDARY ? 1 : 0;
> #line 725
9960c9989
< #line 717
---
> #line 727
9962c9991
< #line 718
---
> #line 728
9964c9993
< #line 719
---
> #line 729
9969c9998
< #line 722
---
> #line 732
9971c10000
< #line 722
---
> #line 732
9973c10002
< #line 722
---
> #line 732
9976,9979c10005,10008
< #line 724
<   tmp___0 = drm_get_drawable_info(dev, swap->drawable);
< #line 724
<   if (tmp___0) {
---
> #line 734
>   tmp = drm_get_drawable_info(dev, swap->drawable);
> #line 734
>   if (tmp) {
9982c10011
< #line 725
---
> #line 735
9984c10013
< #line 725
---
> #line 735
9986c10015
< #line 725
---
> #line 735
9989c10018
< #line 726
---
> #line 736
9991c10020
< #line 726
---
> #line 736
9993c10022
< #line 726
---
> #line 736
9998c10027
< #line 726
---
> #line 736
10001c10030
< #line 727
---
> #line 737
10004c10033
< #line 730
---
> #line 740
10006c10035
< #line 730
---
> #line 740
10008c10037
< #line 730
---
> #line 740
10011c10040
< #line 736
---
> #line 746
10013c10042
< #line 737
---
> #line 747
10015c10044
< #line 738
---
> #line 748
10020c10049
< #line 739
---
> #line 749
10022c10051
< #line 741
---
> #line 751
10024c10053
< #line 742
---
> #line 752
10029c10058
< #line 744
---
> #line 754
10031c10060
< #line 745
---
> #line 755
10033c10062
< #line 746
---
> #line 756
10036c10065
< #line 748
---
> #line 758
10038c10067
< #line 748
---
> #line 758
10040c10069
< #line 748
---
> #line 758
10045c10074
< #line 748
---
> #line 758
10048c10077
< #line 749
---
> #line 759
10050c10079
< #line 750
---
> #line 760
10056c10085,10106
< #line 754
---
> #line 764
>   tmp___0 = drm_calloc(1, sizeof(*vbl_swap), 2);
> #line 764
>   vbl_swap = tmp___0;
> #line 766
>   if (! vbl_swap) {
> #line 767
>     printk("<3>[drm:%s] *ERROR* Failed to allocate memory to queue swap\n", "i915_vblank_swap");
> #line 768
>     drm_vblank_put(dev, pipe);
> #line 769
>     return (-12);
>   } else {
> 
>   }
> #line 772
>   vbl_swap->drw_id = swap->drawable;
> #line 773
>   vbl_swap->pipe = pipe;
> #line 774
>   vbl_swap->sequence = swap->sequence;
> #line 776
10058c10108
< #line 754
---
> #line 776
10060c10110
< #line 754
---
> #line 776
10063c10113
< #line 756
---
> #line 778
10065c10115
< #line 756
---
> #line 778
10067c10117
< #line 756
---
> #line 778
10069c10119
< #line 756
---
> #line 778
10073c10123
< #line 756
---
> #line 778
10076c10126
< #line 757
---
> #line 779
10078,10082c10128,10132
< #line 757
<     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 759
<     if ((vbl_swap->drw_id == swap->drawable && vbl_swap->plane == plane) && vbl_swap->sequence == swap->sequence) {
< #line 762
---
> #line 779
>     vbl_old = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
> #line 781
>     if ((vbl_old->drw_id == swap->drawable && vbl_old->pipe == pipe) && vbl_old->sequence == swap->sequence) {
> #line 784
10084c10134
< #line 762
---
> #line 784
10086c10136
< #line 762
---
> #line 784
10089c10139,10143
< #line 763
---
> #line 785
>       drm_vblank_put(dev, pipe);
> #line 786
>       drm_free(vbl_swap, sizeof(*vbl_swap), 2);
> #line 787
10091c10145
< #line 763
---
> #line 787
10093c10147
< #line 763
---
> #line 787
10098c10152
< #line 763
---
> #line 787
10101c10155
< #line 764
---
> #line 788
10106c10160
< #line 756
---
> #line 778
10109,10118c10163,10165
< #line 768
<   while (1) {
< #line 768
<     _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
< #line 768
<     break;
<   }
< #line 770
<   if (dev_priv->swaps_pending >= 100U) {
< #line 771
---
> #line 792
>   if (dev_priv->swaps_pending >= 10U) {
> #line 793
10120c10167
< #line 771
---
> #line 793
10122c10169
< #line 771
---
> #line 793
10127c10174
< #line 771
---
> #line 793
10130,10134c10177,10188
< #line 772
<     drm_vblank_put(dev, pipe);
< #line 773
<     return (-16);
<   } else {
---
> #line 794
>     while (1) {
> #line 794
>       if (drm_debug) {
> #line 794
>         tmp___1 = drm_vblank_count(dev, 1);
> #line 794
>         tmp___2 = drm_vblank_count(dev, 0);
> #line 794
>         printk("<7>[drm:%s]  pipe 0: %d pipe 1: %d\n", "i915_vblank_swap", tmp___2,
>                tmp___1);
>       } else {
10136,10149c10190,10201
<   }
< #line 776
<   tmp___1 = drm_calloc(1, sizeof(*vbl_swap), 2);
< #line 776
<   vbl_swap = tmp___1;
< #line 778
<   if (! vbl_swap) {
< #line 779
<     printk("<3>[drm:%s] *ERROR* Failed to allocate memory to queue swap\n", "i915_vblank_swap");
< #line 780
<     drm_vblank_put(dev, pipe);
< #line 781
<     return (-12);
<   } else {
---
>       }
> #line 794
>       break;
>     }
> #line 798
>     list = dev_priv->vbl_swaps.head.next;
> #line 798
>     while (1) {
> #line 798
>       __builtin_prefetch(list->next);
> #line 798
>       if ((unsigned long )list != (unsigned long )(& dev_priv->vbl_swaps.head)) {
10151,10158c10203,10218
<   }
< #line 784
<   while (1) {
< #line 784
<     if (drm_debug) {
< #line 784
<       printk("<7>[drm:%s] \n", "i915_vblank_swap");
<     } else {
---
>       } else {
> #line 798
>         break;
>       }
> #line 799
>       __mptr___0 = list;
> #line 799
>       vbl_old = (drm_i915_vbl_swap_t *)((char *)__mptr___0 - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
> #line 800
>       while (1) {
> #line 800
>         if (drm_debug) {
> #line 800
>           printk("<7>[drm:%s] \tdrw %x pipe %d seq %x\n", "i915_vblank_swap", vbl_old->drw_id,
>                  vbl_old->pipe, vbl_old->sequence);
>         } else {
10159a10220,10225
>         }
> #line 800
>         break;
>       }
> #line 798
>       list = list->next;
10161,10175c10227,10241
< #line 784
<     break;
<   }
< #line 786
<   vbl_swap->drw_id = swap->drawable;
< #line 787
<   vbl_swap->plane = plane;
< #line 788
<   vbl_swap->sequence = swap->sequence;
< #line 790
<   while (1) {
< #line 790
<     irqflags = _spin_lock_irqsave(& dev_priv->swaps_lock);
< #line 790
<     break;
---
> #line 804
>     while (1) {
> #line 804
>       _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
> #line 804
>       break;
>     }
> #line 805
>     drm_vblank_put(dev, pipe);
> #line 806
>     drm_free(vbl_swap, sizeof(*vbl_swap), 2);
> #line 807
>     return (-16);
>   } else {
> 
10177c10243
< #line 792
---
> #line 810
10179c10245
< #line 793
---
> #line 811
10181c10247
< #line 795
---
> #line 813
10183c10249
< #line 795
---
> #line 813
10185c10251
< #line 795
---
> #line 813
10188c10254
< #line 797
---
> #line 815
10192c10258
< #line 802 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 820 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10198c10264
< #line 804
---
> #line 822
10200c10266
< #line 806
---
> #line 824
10202c10268
< #line 807
---
> #line 825
10204c10270
< #line 808
---
> #line 826
10206c10272
< #line 809
---
> #line 827
10210c10276
< #line 816 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 834 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10212c10278
< #line 811 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 829 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10217a10284
>   atomic_long_t __constr_expr_0 ;
10220c10287
< #line 813
---
> #line 831
10222c10289
< #line 814
---
> #line 832
10224c10291
< #line 816
---
> #line 834
10226c10293
< #line 816
---
> #line 834
10228c10295
< #line 816
---
> #line 834
10231c10298
< #line 817
---
> #line 835
10233c10300,10318
< #line 818
---
> #line 836
>   while (1) {
> #line 836
>     __constr_expr_0.counter = 0;
> #line 836
>     dev_priv->vblank_work.data = __constr_expr_0;
> #line 836
>     INIT_LIST_HEAD(& dev_priv->vblank_work.entry);
> #line 836
>     while (1) {
> #line 836
>       dev_priv->vblank_work.func = & i915_vblank_work_handler;
> #line 836
>       break;
>     }
> #line 836
>     break;
>   }
> #line 837
10235c10320
< #line 821
---
> #line 840
10237c10322
< #line 823
---
> #line 842
10239c10324
< #line 824
---
> #line 843
10241c10326
< #line 825
---
> #line 844
10246c10331
< #line 827
---
> #line 846
10248c10333
< #line 828
---
> #line 847
10250c10335
< #line 829
---
> #line 848
10252c10337
< #line 831
---
> #line 850
10254c10339
< #line 833
---
> #line 852
10256c10341
< #line 835
---
> #line 854
10258c10343
< #line 836
---
> #line 855
10260c10345
< #line 837
---
> #line 856
10262c10347
< #line 839
---
> #line 858
10264c10349
< #line 840
---
> #line 859
10266c10351
< #line 842
---
> #line 861
10270c10355
< #line 845 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 864 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10277c10362
< #line 847
---
> #line 866
10279c10364
< #line 850
---
> #line 869
10281c10366
< #line 851
---
> #line 870
10286c10371
< #line 853
---
> #line 872
10288c10373
< #line 855
---
> #line 874
10290c10375
< #line 856
---
> #line 875
10292c10377
< #line 857
---
> #line 876
10294c10379
< #line 859
---
> #line 878
10296c10381
< #line 860
---
> #line 879
10298c10383
< #line 861
---
> #line 880
10300c10385
< #line 862
---
> #line 881
10302c10387
< #line 863
---
> #line 882
10304c10389
< #line 864
---
> #line 883
10306c10391
< #line 865
---
> #line 884
10985c11070
< #line 563 "include/linux/pci.h"
---
> #line 570 "include/linux/pci.h"
10988c11073
< #line 569
---
> #line 576
10991c11076
< #line 580 "include/linux/pci.h"
---
> #line 587 "include/linux/pci.h"
10997c11082
< #line 583
---
> #line 590
10999c11084
< #line 583
---
> #line 590
11003c11088
< #line 593 "include/linux/pci.h"
---
> #line 600 "include/linux/pci.h"
11009c11094
< #line 596
---
> #line 603
11011c11096
< #line 596
---
> #line 603
11549,11578d11633
< #line 559 "include/linux/pci.h"
< extern int pci_bus_read_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
<                                     u8 *val ) ;
< #line 565
< extern int pci_bus_write_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
<                                      u8 val ) ;
< #line 572 "include/linux/pci.h"
< __inline static int pci_read_config_byte(struct pci_dev *dev , int where , u8 *val ) 
< { 
<   int tmp ;
< 
<   {
< #line 574
<   tmp = pci_bus_read_config_byte(dev->bus, dev->devfn, where, val);
< #line 574
<   return (tmp);
< }
< }
< #line 585 "include/linux/pci.h"
< __inline static int pci_write_config_byte(struct pci_dev *dev , int where , u8 val ) 
< { 
<   int tmp ;
< 
<   {
< #line 587
<   tmp = pci_bus_write_config_byte(dev->bus, dev->devfn, where, val);
< #line 587
<   return (tmp);
< }
< }
11606a11662,11691
> #line 566 "include/linux/pci.h"
> extern int pci_bus_read_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
>                                     u8 *val ) ;
> #line 572
> extern int pci_bus_write_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
>                                      u8 val ) ;
> #line 579 "include/linux/pci.h"
> __inline static int pci_read_config_byte(struct pci_dev *dev , int where , u8 *val ) 
> { 
>   int tmp ;
> 
>   {
> #line 581
>   tmp = pci_bus_read_config_byte(dev->bus, dev->devfn, where, val);
> #line 581
>   return (tmp);
> }
> }
> #line 592 "include/linux/pci.h"
> __inline static int pci_write_config_byte(struct pci_dev *dev , int where , u8 val ) 
> { 
>   int tmp ;
> 
>   {
> #line 594
>   tmp = pci_bus_write_config_byte(dev->bus, dev->devfn, where, val);
> #line 594
>   return (tmp);
> }
> }
12754c12839
< #line 194 "include/linux/workqueue.h"
---
> #line 196 "include/linux/workqueue.h"
12756c12841
< #line 224
---
> #line 226
12831c12916
< #line 333 "include/linux/sched.h"
---
> #line 332 "include/linux/sched.h"
17640d17724
<   atomic_long_t __constr_expr_1 ;
17679,17696d17762
<   while (1) {
< #line 2567
<     __constr_expr_1.counter = 0;
< #line 2567
<     dev_priv->mm.vblank_work.data = __constr_expr_1;
< #line 2567
<     INIT_LIST_HEAD(& dev_priv->mm.vblank_work.entry);
< #line 2567
<     while (1) {
< #line 2567
<       dev_priv->mm.vblank_work.func = & i915_gem_vblank_work_handler;
< #line 2567
<       break;
<     }
< #line 2567
<     break;
<   }
< #line 2569
17698c17764
< #line 2571
---
> #line 2569
17700c17766
< #line 2572
---
> #line 2570
18172a18239
>   int tmp___3 ;
18197,18210c18264
<   tmp = i915_get_gem_seqno(dev);
< #line 195
<   tmp___0 = sprintf(buf + len, "Current sequence: %d\n", tmp);
< #line 195
<   len = len + tmp___0;
< #line 195
<   if ((unsigned long )len > (1UL << 12) - 80UL) {
< #line 195
<     *eof = 1;
< #line 195
<     return ((off_t )len - offset);
<   } else {
< 
<   }
---
>   if ((unsigned long )dev_priv->hw_status_page != (unsigned long )((void *)0)) {
18212c18266
<   tmp___1 = sprintf(buf + len, "Waiter sequence:  %d\n", dev_priv->mm.waiting_gem_seqno);
---
>     tmp = i915_get_gem_seqno(dev);
18214c18268
<   len = len + tmp___1;
---
>     tmp___0 = sprintf(buf + len, "Current sequence: %d\n", tmp);
18216c18270
<   if ((unsigned long )len > (1UL << 12) - 80UL) {
---
>     len = len + tmp___0;
18218c18272
<     *eof = 1;
---
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
18220c18274,18279
<     return ((off_t )len - offset);
---
>       *eof = 1;
> #line 196
>       return ((off_t )len - offset);
>     } else {
> 
>     }
18221a18281,18291
> #line 199
>     tmp___1 = sprintf(buf + len, "Current sequence: hws uninitialized\n");
> #line 199
>     len = len + tmp___1;
> #line 199
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 199
>       *eof = 1;
> #line 199
>       return ((off_t )len - offset);
>     } else {
18222a18293
>     }
18224,18226c18295,18297
< #line 198
<   tmp___2 = sprintf(buf + len, "IRQ sequence:     %d\n", dev_priv->mm.irq_gem_seqno);
< #line 198
---
> #line 201
>   tmp___2 = sprintf(buf + len, "Waiter sequence:  %d\n", dev_priv->mm.waiting_gem_seqno);
> #line 201
18228c18299
< #line 198
---
> #line 201
18230c18301
< #line 198
---
> #line 201
18232c18303
< #line 198
---
> #line 201
18237c18308,18321
< #line 199
---
> #line 203
>   tmp___3 = sprintf(buf + len, "IRQ sequence:     %d\n", dev_priv->mm.irq_gem_seqno);
> #line 203
>   len = len + tmp___3;
> #line 203
>   if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 203
>     *eof = 1;
> #line 203
>     return ((off_t )len - offset);
>   } else {
> 
>   }
> #line 204
18239c18323
< #line 200
---
> #line 205
18244c18328
< #line 201
---
> #line 206
18246c18330
< #line 202
---
> #line 207
18250c18334
< #line 206 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 211 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18272a18357
>   int tmp___14 ;
18275c18360
< #line 209
---
> #line 214
18277c18362
< #line 210
---
> #line 215
18279c18364
< #line 211
---
> #line 216
18281c18366
< #line 212
---
> #line 217
18283c18368
< #line 214
---
> #line 219
18285c18370
< #line 215
---
> #line 220
18287c18372
< #line 216
---
> #line 221
18292c18377
< #line 219
---
> #line 224
18294c18379
< #line 220
---
> #line 225
18296c18381
< #line 221
---
> #line 226
18298c18383
< #line 221
---
> #line 226
18300c18385
< #line 221
---
> #line 226
18302c18387
< #line 221
---
> #line 226
18304c18389
< #line 221
---
> #line 226
18306c18391
< #line 221
---
> #line 226
18311c18396
< #line 223
---
> #line 228
18313c18398
< #line 223
---
> #line 228
18315c18400
< #line 223
---
> #line 228
18317c18402
< #line 223
---
> #line 228
18319c18404
< #line 223
---
> #line 228
18321c18406
< #line 223
---
> #line 228
18326c18411
< #line 225
---
> #line 230
18328c18413
< #line 225
---
> #line 230
18330c18415
< #line 225
---
> #line 230
18332c18417
< #line 225
---
> #line 230
18334c18419
< #line 225
---
> #line 230
18336c18421
< #line 225
---
> #line 230
18341c18426
< #line 227
---
> #line 232
18343c18428
< #line 227
---
> #line 232
18345c18430
< #line 227
---
> #line 232
18347c18432
< #line 227
---
> #line 232
18349c18434
< #line 227
---
> #line 232
18351c18436
< #line 227
---
> #line 232
18356c18441
< #line 229
---
> #line 234
18358c18443
< #line 229
---
> #line 234
18360c18445
< #line 229
---
> #line 234
18362c18447
< #line 229
---
> #line 234
18364c18449
< #line 229
---
> #line 234
18366c18451
< #line 229
---
> #line 234
18371c18456
< #line 231
---
> #line 236
18373c18458
< #line 231
---
> #line 236
18375c18460
< #line 231
---
> #line 236
18377c18462
< #line 231
---
> #line 236
18379c18464
< #line 231
---
> #line 236
18384,18395c18469,18485
< #line 233
<   tmp___10 = i915_get_gem_seqno(dev);
< #line 233
<   tmp___11 = sprintf(buf + len, "Current sequence:    %d\n", tmp___10);
< #line 233
<   len = len + tmp___11;
< #line 233
<   if ((unsigned long )len > (1UL << 12) - 80UL) {
< #line 233
<     *eof = 1;
< #line 233
<     return ((off_t )len - offset);
---
> #line 238
>   if ((unsigned long )dev_priv->hw_status_page != (unsigned long )((void *)0)) {
> #line 239
>     tmp___10 = i915_get_gem_seqno(dev);
> #line 239
>     tmp___11 = sprintf(buf + len, "Current sequence:    %d\n", tmp___10);
> #line 239
>     len = len + tmp___11;
> #line 239
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 239
>       *eof = 1;
> #line 239
>       return ((off_t )len - offset);
>     } else {
> 
>     }
18396a18487,18497
> #line 242
>     tmp___12 = sprintf(buf + len, "Current sequence:    hws uninitialized\n");
> #line 242
>     len = len + tmp___12;
> #line 242
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 242
>       *eof = 1;
> #line 242
>       return ((off_t )len - offset);
>     } else {
18397a18499
>     }
18399,18403c18501,18505
< #line 235
<   tmp___12 = sprintf(buf + len, "Waiter sequence:     %d\n", dev_priv->mm.waiting_gem_seqno);
< #line 235
<   len = len + tmp___12;
< #line 235
---
> #line 244
>   tmp___13 = sprintf(buf + len, "Waiter sequence:     %d\n", dev_priv->mm.waiting_gem_seqno);
> #line 244
>   len = len + tmp___13;
> #line 244
18405c18507
< #line 235
---
> #line 244
18407c18509
< #line 235
---
> #line 244
18412,18416c18514,18518
< #line 237
<   tmp___13 = sprintf(buf + len, "IRQ sequence:        %d\n", dev_priv->mm.irq_gem_seqno);
< #line 237
<   len = len + tmp___13;
< #line 237
---
> #line 246
>   tmp___14 = sprintf(buf + len, "IRQ sequence:        %d\n", dev_priv->mm.irq_gem_seqno);
> #line 246
>   len = len + tmp___14;
> #line 246
18418c18520
< #line 237
---
> #line 246
18420c18522
< #line 237
---
> #line 246
18425c18527
< #line 239
---
> #line 248
18427c18529
< #line 240
---
> #line 249
18432c18534
< #line 241
---
> #line 250
18434c18536
< #line 242
---
> #line 251
18438c18540
< #line 245 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 254 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18445c18547
< #line 261 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 270 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18453c18555
< #line 266
---
> #line 275
18455c18557
< #line 266
---
> #line 275
18457c18559
< #line 266
---
> #line 275
18461c18563
< #line 266
---
> #line 275
18464c18566
< #line 267
---
> #line 276
18467c18569
< #line 269
---
> #line 278
18469c18571
< #line 270
---
> #line 279
18472c18574
< #line 272
---
> #line 281
18474c18576
< #line 272
---
> #line 281
18476c18578
< #line 272
---
> #line 281
18480c18582
< #line 272
---
> #line 281
18483c18585
< #line 273
---
> #line 282
18485c18587
< #line 272
---
> #line 281
18488c18590
< #line 275
---
> #line 284
18493c18595
< #line 277
---
> #line 286
18495c18597
< #line 278
---
> #line 287
18497c18599
< #line 266
---
> #line 275
18500c18602
< #line 280
---
> #line 289
18504c18606
< #line 283 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 292 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18510c18612
< #line 287
---
> #line 296
18512c18614
< #line 288
---
> #line 297
18517c18619
< #line 290
---
> #line 299
18519c18621
< #line 290
---
> #line 299
18521c18623
< #line 290
---
> #line 299
18525c18627
< #line 290
---
> #line 299
18528c18630
< #line 291
---
> #line 300
18530c18632
< #line 290
---
> #line 299
18533c18635
< #line 292
---
> #line 301
