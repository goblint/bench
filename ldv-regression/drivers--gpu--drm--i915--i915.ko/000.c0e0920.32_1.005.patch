3674a3675,3677
>    spinlock_t user_irq_lock ;
>    int user_irq_refcount ;
>    u32 irq_mask_reg ;
4155c4158
< #line 209 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 215 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4157c4160
< #line 210
---
> #line 216
4159c4162
< #line 214
---
> #line 220
4161c4164
< #line 215
---
> #line 221
4163c4166
< #line 216
---
> #line 222
4165c4168
< #line 217
---
> #line 223
4167c4170
< #line 219
---
> #line 225
4169c4172
< #line 220
---
> #line 226
4171c4174
< #line 229
---
> #line 235
4173c4176
< #line 230
---
> #line 236
4175c4178
< #line 231
---
> #line 237
4177c4180
< #line 232
---
> #line 238
4179c4182
< #line 233
---
> #line 239
4181c4184
< #line 234
---
> #line 240
5477a5481,5482
> #line 94 "include/linux/spinlock.h"
> extern void __spin_lock_init(spinlock_t *lock , char const   *name , struct lock_class_key *key ) ;
5494a5500,5503
> #line 759 "include/linux/pci.h"
> extern int pci_enable_msi(struct pci_dev *dev ) ;
> #line 761
> extern void pci_disable_msi(struct pci_dev *dev ) ;
5871c5880
< #line 213 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 219 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
5873c5882
< #line 224
---
> #line 230
5875c5884
< #line 226
---
> #line 232
5877c5886
< #line 235
---
> #line 241
5879c5888
< #line 237
---
> #line 243
5881c5890
< #line 239
---
> #line 245
5883c5892
< #line 243
---
> #line 249
5885c5894
< #line 245
---
> #line 251
5887c5896
< #line 247
---
> #line 253
5889c5898
< #line 249
---
> #line 255
5891c5900
< #line 251
---
> #line 257
5893c5902
< #line 252
---
> #line 258
5895c5904
< #line 307
---
> #line 313
6015c6024
<   if (dev->irq) {
---
>   if (dev->irq_enabled) {
7873c7882
<   value = dev->irq ? 1 : 0;
---
>   value = dev->irq_enabled;
8043a8053,8054
> #line 778 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
> static struct lock_class_key __key___1  ;
8092c8103,8117
< #line 766
---
> #line 775
>   if (! (dev->pci_device == 10098) && ! (dev->pci_device == 10146 || dev->pci_device == 10158)) {
> #line 776
>     pci_enable_msi(dev->pdev);
>   } else {
> 
>   }
> #line 778
>   while (1) {
> #line 778
>     __spin_lock_init(& dev_priv->user_irq_lock, "&dev_priv->user_irq_lock", & __key___1);
> #line 778
>     break;
>   }
> #line 780
8096c8121
< #line 769 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 783 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
8102c8127
< #line 771
---
> #line 785
8104c8129,8136
< #line 773
---
> #line 787
>   if ((dev->pdev)->msi_enabled) {
> #line 788
>     pci_disable_msi(dev->pdev);
>   } else {
> 
>   }
> #line 790
8106c8138
< #line 774
---
> #line 791
8111c8143
< #line 776
---
> #line 793
8113c8145
< #line 779
---
> #line 796
8117c8149
< #line 782 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 799 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
8123c8155
< #line 784
---
> #line 801
8125c8157
< #line 786
---
> #line 803
8127c8159
< #line 787
---
> #line 804
8132c8164
< #line 789
---
> #line 806
8134c8166
< #line 790
---
> #line 807
8139c8171
< #line 792
---
> #line 809
8141c8173
< #line 793
---
> #line 810
8145c8177
< #line 795 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 812 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
8151c8183
< #line 797
---
> #line 814
8153c8185
< #line 798
---
> #line 815
8155c8187
< #line 799
---
> #line 816
8159c8191
< #line 801 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 818 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
8161c8193
< #line 801
---
> #line 818
8180c8212
< #line 821 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 838 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
8182c8214
< #line 834 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 851 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
8188c8220
< #line 836
---
> #line 853
8310,8311d8341
< #line 94 "include/linux/spinlock.h"
< extern void __spin_lock_init(spinlock_t *lock , char const   *name , struct lock_class_key *key ) ;
8352,8379d8381
< #line 19 "include/asm/io.h"
< __inline static unsigned short readw(void const volatile   *addr ) 
< { 
<   unsigned short ret ;
< 
<   {
< #line 19
<   __asm__  volatile   ("mov"
<                        "w"
<                        " %1,%0": "=r" (ret): "m" (*((unsigned short volatile   *)addr)): "memory");
< #line 19
<   return (ret);
< }
< }
< #line 27 "include/asm/io.h"
< __inline static void writew(unsigned short val , void volatile   *addr ) 
< { 
< 
< 
<   {
< #line 27
<   __asm__  volatile   ("mov"
<                        "w"
<                        " %0,%1": : "r" (val), "m" (*((unsigned short volatile   *)addr)): "memory");
< #line 27
<   return;
< }
< }
8436a8439,8480
> __inline static void i915_enable_irq(drm_i915_private_t *dev_priv , u32 mask ) 
> { 
> 
> 
>   {
> #line 44
>   if ((dev_priv->irq_mask_reg & mask) != 0U) {
> #line 45
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & ~ mask;
> #line 46
>     writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 47
>     readl((dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 49
>   return;
> }
> }
> #line 51 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> __inline static void i915_disable_irq(drm_i915_private_t *dev_priv , u32 mask ) 
> { 
> 
> 
>   {
> #line 54
>   if ((dev_priv->irq_mask_reg & mask) != mask) {
> #line 55
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg | mask;
> #line 56
>     writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 57
>     readl((dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 59
>   return;
> }
> }
> #line 66 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
8492c8536
< #line 43
---
> #line 68
8494c8538
< #line 47
---
> #line 72
8496c8540
< #line 47
---
> #line 72
8498c8542
< #line 50
---
> #line 75
8500c8544
< #line 51
---
> #line 76
8502c8546
< #line 52
---
> #line 77
8504c8548
< #line 56
---
> #line 81
8506c8550
< #line 57
---
> #line 82
8508c8552
< #line 58
---
> #line 83
8510c8554
< #line 61
---
> #line 86
8512c8556
< #line 62
---
> #line 87
8514c8558
< #line 63
---
> #line 88
8519c8563
< #line 65
---
> #line 90
8521c8565
< #line 66
---
> #line 91
8523c8567
< #line 67
---
> #line 92
8528c8572
< #line 70
---
> #line 95
8530c8574
< #line 70
---
> #line 95
8532c8576
< #line 70
---
> #line 95
8537c8581
< #line 70
---
> #line 95
8540c8584
< #line 72
---
> #line 97
8542c8586
< #line 74
---
> #line 99
8544c8588
< #line 74
---
> #line 99
8546c8590
< #line 76
---
> #line 101
8548c8592
< #line 76
---
> #line 101
8550c8594
< #line 76
---
> #line 101
8553c8597
< #line 79
---
> #line 104
8555c8599
< #line 79
---
> #line 104
8557c8601
< #line 79
---
> #line 104
8559c8603
< #line 79
---
> #line 104
8563c8607
< #line 79
---
> #line 104
8566c8610
< #line 81
---
> #line 106
8568c8612
< #line 81
---
> #line 106
8570c8614
< #line 83
---
> #line 108
8572c8616
< #line 84
---
> #line 109
8577c8621
< #line 86
---
> #line 111
8579c8623
< #line 87
---
> #line 112
8581c8625
< #line 89
---
> #line 114
8583c8627
< #line 90
---
> #line 115
8585c8629
< #line 92
---
> #line 117
8587c8631
< #line 94
---
> #line 119
8589c8633
< #line 95
---
> #line 120
8591c8635
< #line 96
---
> #line 121
8593c8637
< #line 97
---
> #line 122
8595c8639
< #line 98
---
> #line 123
8600c8644
< #line 101
---
> #line 126
8602c8646
< #line 101
---
> #line 126
8604c8648
< #line 101
---
> #line 126
8606c8650
< #line 101
---
> #line 126
8610c8654
< #line 101
---
> #line 126
8613c8657
< #line 103
---
> #line 128
8615c8659
< #line 103
---
> #line 128
8617c8661
< #line 104
---
> #line 129
8619c8663
< #line 104
---
> #line 129
8621c8665
< #line 107
---
> #line 132
8623c8667
< #line 109
---
> #line 134
8625c8669
< #line 110
---
> #line 135
8630c8674
< #line 101
---
> #line 126
8633c8677
< #line 114
---
> #line 139
8635c8679
< #line 117
---
> #line 142
8637c8681
< #line 118
---
> #line 143
8642c8686
< #line 120
---
> #line 145
8644c8688
< #line 122
---
> #line 147
8647c8691
< #line 79
---
> #line 104
8649c8693
< #line 79
---
> #line 104
8652c8696
< #line 125
---
> #line 150
8654c8698
< #line 126
---
> #line 151
8656c8700
< #line 126
---
> #line 151
8658c8702
< #line 126
---
> #line 151
8661c8705
< #line 127
---
> #line 152
8666c8710
< #line 130
---
> #line 155
8668c8712
< #line 132
---
> #line 157
8670c8714
< #line 134
---
> #line 159
8672c8716
< #line 135
---
> #line 160
8674c8718
< #line 135
---
> #line 160
8676c8720
< #line 135
---
> #line 160
8681c8725
< #line 135
---
> #line 160
8683c8727
< #line 135
---
> #line 160
8685c8729
< #line 135
---
> #line 160
8687c8731
< #line 135
---
> #line 160
8689c8733
< #line 135
---
> #line 160
8692c8736
< #line 137
---
> #line 162
8694c8738
< #line 137
---
> #line 162
8696c8740
< #line 137
---
> #line 162
8698c8742
< #line 137
---
> #line 162
8700c8744
< #line 137
---
> #line 162
8702c8746
< #line 137
---
> #line 162
8705c8749
< #line 138
---
> #line 163
8707c8751
< #line 138
---
> #line 163
8709c8753
< #line 138
---
> #line 163
8711c8755
< #line 138
---
> #line 163
8713c8757
< #line 138
---
> #line 163
8715c8759
< #line 138
---
> #line 163
8718c8762
< #line 139
---
> #line 164
8720c8764
< #line 139
---
> #line 164
8722c8766
< #line 139
---
> #line 164
8724c8768
< #line 139
---
> #line 164
8726c8770
< #line 139
---
> #line 164
8728c8772
< #line 139
---
> #line 164
8731c8775
< #line 140
---
> #line 165
8733c8777
< #line 140
---
> #line 165
8735c8779
< #line 140
---
> #line 165
8737c8781
< #line 140
---
> #line 165
8739c8783
< #line 140
---
> #line 165
8741c8785
< #line 140
---
> #line 165
8744c8788
< #line 141
---
> #line 166
8746c8790
< #line 141
---
> #line 166
8748c8792
< #line 141
---
> #line 166
8750c8794
< #line 141
---
> #line 166
8752c8796
< #line 141
---
> #line 166
8756c8800
< #line 143
---
> #line 168
8758c8802
< #line 143
---
> #line 168
8760c8804
< #line 143
---
> #line 168
8765c8809
< #line 143
---
> #line 168
8767c8811
< #line 143
---
> #line 168
8769c8813
< #line 143
---
> #line 168
8771c8815
< #line 143
---
> #line 168
8773c8817
< #line 143
---
> #line 168
8776c8820
< #line 145
---
> #line 170
8778c8822
< #line 145
---
> #line 170
8780c8824
< #line 145
---
> #line 170
8782c8826
< #line 145
---
> #line 170
8784c8828
< #line 145
---
> #line 170
8786c8830
< #line 145
---
> #line 170
8789c8833
< #line 146
---
> #line 171
8791c8835
< #line 146
---
> #line 171
8793c8837
< #line 146
---
> #line 171
8795c8839
< #line 146
---
> #line 171
8797c8841
< #line 146
---
> #line 171
8799c8843
< #line 146
---
> #line 171
8802c8846
< #line 147
---
> #line 172
8804c8848
< #line 147
---
> #line 172
8806c8850
< #line 147
---
> #line 172
8808c8852
< #line 147
---
> #line 172
8810c8854
< #line 147
---
> #line 172
8812c8856
< #line 147
---
> #line 172
8815c8859
< #line 148
---
> #line 173
8817c8861
< #line 148
---
> #line 173
8819c8863
< #line 148
---
> #line 173
8821c8865
< #line 148
---
> #line 173
8823c8867
< #line 148
---
> #line 173
8825c8869
< #line 148
---
> #line 173
8828c8872
< #line 149
---
> #line 174
8830c8874
< #line 149
---
> #line 174
8832c8876
< #line 149
---
> #line 174
8834c8878
< #line 149
---
> #line 174
8836c8880
< #line 149
---
> #line 174
8838c8882
< #line 149
---
> #line 174
8841c8885
< #line 150
---
> #line 175
8843c8887
< #line 150
---
> #line 175
8845c8889
< #line 150
---
> #line 175
8847c8891
< #line 150
---
> #line 175
8849c8893
< #line 150
---
> #line 175
8851c8895
< #line 150
---
> #line 175
8854c8898
< #line 152
---
> #line 177
8856c8900
< #line 152
---
> #line 177
8858c8902
< #line 152
---
> #line 177
8860c8904
< #line 152
---
> #line 177
8862c8906
< #line 152
---
> #line 177
8866c8910
< #line 155
---
> #line 180
8868c8912
< #line 157
---
> #line 182
8870c8914
< #line 157
---
> #line 182
8872c8916
< #line 158
---
> #line 183
8874c8918
< #line 158
---
> #line 183
8876c8920
< #line 158
---
> #line 183
8878c8922
< #line 159
---
> #line 184
8880c8924
< #line 159
---
> #line 184
8882c8926
< #line 159
---
> #line 184
8884c8928
< #line 160
---
> #line 185
8886c8930
< #line 161
---
> #line 186
8888c8932
< #line 163
---
> #line 188
8890c8934
< #line 170
---
> #line 195
8892c8936
< #line 170
---
> #line 195
8894c8938
< #line 170
---
> #line 195
8896c8940
< #line 170
---
> #line 195
8898c8942
< #line 170
---
> #line 195
8902c8946
< #line 170
---
> #line 195
8905c8949
< #line 173
---
> #line 198
8907c8951
< #line 174
---
> #line 199
8909c8953
< #line 174
---
> #line 199
8914c8958
< #line 176
---
> #line 201
8916c8960
< #line 176
---
> #line 201
8918c8962
< #line 176
---
> #line 201
8920c8964
< #line 176
---
> #line 201
8924c8968
< #line 176
---
> #line 201
8927c8971
< #line 178
---
> #line 203
8929c8973
< #line 178
---
> #line 203
8931c8975
< #line 183
---
> #line 208
8933c8977
< #line 185
---
> #line 210
8935c8979
< #line 186
---
> #line 211
8940c8984
< #line 188
---
> #line 213
8942c8986
< #line 189
---
> #line 214
8944c8988
< #line 190
---
> #line 215
8946c8990
< #line 191
---
> #line 216
8948c8992
< #line 193
---
> #line 218
8950c8994
< #line 193
---
> #line 218
8952c8996
< #line 193
---
> #line 218
8954c8998
< #line 193
---
> #line 218
8956c9000
< #line 193
---
> #line 218
8960c9004
< #line 193
---
> #line 218
8963c9007
< #line 194
---
> #line 219
8965c9009
< #line 194
---
> #line 219
8967c9011
< #line 194
---
> #line 219
8969c9013
< #line 195
---
> #line 220
8971c9015
< #line 195
---
> #line 220
8973c9017
< #line 195
---
> #line 220
8975c9019
< #line 197
---
> #line 222
8977c9021
< #line 198
---
> #line 223
8982c9026
< #line 200
---
> #line 225
8984c9028
< #line 200
---
> #line 225
8986c9030
< #line 200
---
> #line 225
8991c9035
< #line 200
---
> #line 225
8993c9037
< #line 200
---
> #line 225
8995c9039
< #line 200
---
> #line 225
8997c9041
< #line 200
---
> #line 225
8999c9043
< #line 200
---
> #line 225
9002c9046
< #line 202
---
> #line 227
9004c9048
< #line 202
---
> #line 227
9006c9050
< #line 202
---
> #line 227
9008c9052
< #line 202
---
> #line 227
9010c9054
< #line 202
---
> #line 227
9012c9056
< #line 202
---
> #line 227
9015c9059
< #line 203
---
> #line 228
9017c9061
< #line 203
---
> #line 228
9019c9063
< #line 203
---
> #line 228
9021c9065
< #line 203
---
> #line 228
9023c9067
< #line 203
---
> #line 228
9025c9069
< #line 203
---
> #line 228
9028c9072
< #line 204
---
> #line 229
9030c9074
< #line 204
---
> #line 229
9032c9076
< #line 204
---
> #line 229
9034c9078
< #line 204
---
> #line 229
9036c9080
< #line 204
---
> #line 229
9038c9082
< #line 204
---
> #line 229
9041c9085
< #line 205
---
> #line 230
9043c9087
< #line 205
---
> #line 230
9045c9089
< #line 205
---
> #line 230
9047c9091
< #line 205
---
> #line 230
9049c9093
< #line 205
---
> #line 230
9051c9095
< #line 205
---
> #line 230
9054c9098
< #line 206
---
> #line 231
9056c9100
< #line 206
---
> #line 231
9058c9102
< #line 206
---
> #line 231
9060c9104
< #line 206
---
> #line 231
9062c9106
< #line 206
---
> #line 231
9064c9108
< #line 206
---
> #line 231
9067c9111
< #line 207
---
> #line 232
9069c9113
< #line 207
---
> #line 232
9071c9115
< #line 207
---
> #line 232
9073c9117
< #line 207
---
> #line 232
9075c9119
< #line 207
---
> #line 232
9077c9121
< #line 207
---
> #line 232
9080c9124
< #line 208
---
> #line 233
9082c9126
< #line 208
---
> #line 233
9084c9128
< #line 208
---
> #line 233
9086c9130
< #line 208
---
> #line 233
9088c9132
< #line 208
---
> #line 233
9090c9134
< #line 208
---
> #line 233
9093c9137
< #line 209
---
> #line 234
9095c9139
< #line 209
---
> #line 234
9097c9141
< #line 209
---
> #line 234
9099c9143
< #line 209
---
> #line 234
9101c9145
< #line 209
---
> #line 234
9103c9147
< #line 209
---
> #line 234
9106c9150
< #line 211
---
> #line 236
9108c9152
< #line 211
---
> #line 236
9110c9154
< #line 211
---
> #line 236
9112c9156
< #line 211
---
> #line 236
9114c9158
< #line 211
---
> #line 236
9118c9162
< #line 193
---
> #line 218
9122c9166
< #line 176
---
> #line 201
9125c9169
< #line 170
---
> #line 195
9127c9171
< #line 170
---
> #line 195
9129c9173
< #line 170
---
> #line 195
9131c9175
< #line 170
---
> #line 195
9134c9178
< #line 216
---
> #line 241
9136c9180
< #line 216
---
> #line 241
9138c9182
< #line 216
---
> #line 241
9141c9185
< #line 218
---
> #line 243
9143c9187
< #line 218
---
> #line 243
9145c9189
< #line 218
---
> #line 243
9147c9191
< #line 218
---
> #line 243
9151c9195
< #line 218
---
> #line 243
9154c9198
< #line 220
---
> #line 245
9156c9200
< #line 220
---
> #line 245
9158c9202
< #line 222
---
> #line 247
9160c9204
< #line 224
---
> #line 249
9162c9206
< #line 218
---
> #line 243
9164c9208
< #line 218
---
> #line 243
9167c9211
< #line 226
---
> #line 251
9171c9215
< #line 228 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 253 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9176d9219
<   u16 temp ;
9178a9222
>   u32 iir ;
9182c9226
< #line 230
---
> #line 255
9184c9228
< #line 231
---
> #line 256
9186c9230
< #line 235
---
> #line 260
9188c9232
< #line 236
---
> #line 261
9190,9194c9234,9243
< #line 238
<   temp = readw((dev_priv->mmio_map)->handle + 8356);
< #line 240
<   temp = (int )temp & (((1 << 1) | (1 << 7)) | (1 << 5));
< #line 244
---
> #line 263
>   if ((dev->pdev)->msi_enabled) {
> #line 264
>     writel(~ 0, (dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 265
>   iir = readl((dev_priv->mmio_map)->handle + 8356);
> #line 267
9196c9245
< #line 244
---
> #line 267
9198,9200c9247,9248
< #line 244
<       printk("<7>[drm:%s] %s flag=%08x\n", "i915_driver_irq_handler", "i915_driver_irq_handler",
<              temp);
---
> #line 267
>       printk("<7>[drm:%s] iir=%08x\n", "i915_driver_irq_handler", iir);
9204c9252
< #line 244
---
> #line 267
9207,9209c9255,9266
< #line 246
<   if ((int )temp == 0) {
< #line 247
---
> #line 269
>   if (iir == (u32 )0) {
> #line 270
>     if ((dev->pdev)->msi_enabled) {
> #line 271
>       writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 272
>       readl((dev_priv->mmio_map)->handle + 8360);
>     } else {
> 
>     }
> #line 274
9214,9220c9271,9282
< #line 249
<   writew(temp, (dev_priv->mmio_map)->handle + 8356);
< #line 250
<   readw((dev_priv->mmio_map)->handle + 8356);
< #line 251
<   __asm__  volatile   ("lfence": : : "memory");
< #line 253
---
> #line 277
>   writel(iir, (dev_priv->mmio_map)->handle + 8356);
> #line 278
>   if ((dev->pdev)->msi_enabled) {
> #line 279
>     writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 280
>   readl((dev_priv->mmio_map)->handle + 8356);
> #line 282
9222,9224c9284,9286
< #line 255
<   if ((int )temp & (1 << 1)) {
< #line 256
---
> #line 284
>   if (iir & (unsigned int )(1 << 1)) {
> #line 285
9229,9231c9291,9293
< #line 258
<   if ((int )temp & ((1 << 7) | (1 << 5))) {
< #line 260
---
> #line 287
>   if (iir & (unsigned int )((1 << 7) | (1 << 5))) {
> #line 289
9233c9295
< #line 262
---
> #line 291
9235,9237c9297,9299
< #line 265
<       if ((int )temp & (1 << 7)) {
< #line 266
---
> #line 294
>       if (iir & (unsigned int )(1 << 7)) {
> #line 295
9242,9244c9304,9306
< #line 267
<       if ((int )temp & (1 << 5)) {
< #line 268
---
> #line 296
>       if (iir & (unsigned int )(1 << 5)) {
> #line 297
9250,9252c9312,9314
< #line 269
<     if (((int )temp & (1 << 7) && vblank_pipe & 1) || ((int )temp & (1 << 5) && vblank_pipe & 2)) {
< #line 273
---
> #line 298
>     if ((iir & (unsigned int )(1 << 7) && vblank_pipe & 1) || (iir & (unsigned int )(1 << 5) && vblank_pipe & 2)) {
> #line 302
9257c9319
< #line 275
---
> #line 304
9259c9321
< #line 276
---
> #line 305
9261c9323
< #line 278
---
> #line 307
9263c9325
< #line 279
---
> #line 308
9268c9330
< #line 280
---
> #line 309
9270c9332
< #line 283
---
> #line 312
9275c9337
< #line 288
---
> #line 317
9279c9341
< #line 291 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 320 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9290c9352
< #line 293
---
> #line 322
9292c9354
< #line 296
---
> #line 325
9294c9356
< #line 298
---
> #line 327
9296c9358
< #line 298
---
> #line 327
9298c9360
< #line 298
---
> #line 327
9303c9365
< #line 298
---
> #line 327
9306c9368
< #line 300
---
> #line 329
9308c9370
< #line 300
---
> #line 329
9310c9372
< #line 302
---
> #line 331
9312c9374
< #line 303
---
> #line 332
9314c9376
< #line 303
---
> #line 332
9316c9378
< #line 303
---
> #line 332
9321c9383
< #line 305
---
> #line 334
9323c9385
< #line 305
---
> #line 334
9325c9387
< #line 305
---
> #line 334
9330c9392
< #line 305
---
> #line 334
9332c9394
< #line 305
---
> #line 334
9334c9396
< #line 305
---
> #line 334
9336c9398
< #line 305
---
> #line 334
9338c9400
< #line 305
---
> #line 334
9341c9403
< #line 306
---
> #line 335
9343c9405
< #line 306
---
> #line 335
9345c9407
< #line 306
---
> #line 335
9347c9409
< #line 306
---
> #line 335
9349c9411
< #line 306
---
> #line 335
9351c9413
< #line 306
---
> #line 335
9354c9416
< #line 307
---
> #line 336
9356c9418
< #line 307
---
> #line 336
9358c9420
< #line 307
---
> #line 336
9360c9422
< #line 307
---
> #line 336
9362c9424
< #line 307
---
> #line 336
9364c9426
< #line 307
---
> #line 336
9367c9429
< #line 308
---
> #line 337
9369c9431
< #line 308
---
> #line 337
9371c9433
< #line 308
---
> #line 337
9373c9435
< #line 308
---
> #line 337
9375c9437
< #line 308
---
> #line 337
9377c9439
< #line 308
---
> #line 337
9380c9442
< #line 309
---
> #line 338
9382c9444
< #line 309
---
> #line 338
9384c9446
< #line 309
---
> #line 338
9386c9448
< #line 309
---
> #line 338
9388c9450
< #line 309
---
> #line 338
9390c9452
< #line 309
---
> #line 338
9393c9455
< #line 310
---
> #line 339
9395c9457
< #line 310
---
> #line 339
9397c9459
< #line 310
---
> #line 339
9399c9461
< #line 310
---
> #line 339
9401c9463
< #line 310
---
> #line 339
9403c9465
< #line 310
---
> #line 339
9406c9468
< #line 311
---
> #line 340
9408c9470
< #line 311
---
> #line 340
9410c9472
< #line 311
---
> #line 340
9412c9474
< #line 311
---
> #line 340
9414c9476
< #line 311
---
> #line 340
9416c9478
< #line 311
---
> #line 340
9419c9481
< #line 312
---
> #line 341
9421c9483
< #line 312
---
> #line 341
9423c9485
< #line 312
---
> #line 341
9425c9487
< #line 312
---
> #line 341
9427c9489
< #line 312
---
> #line 341
9430c9492
< #line 314
---
> #line 343
9434c9496,9587
< #line 317 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 346 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> static void i915_user_irq_get(struct drm_device *dev ) 
> { 
>   drm_i915_private_t *dev_priv ;
> 
>   {
> #line 348
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 350
>   _spin_lock(& dev_priv->user_irq_lock);
> #line 351
>   if (dev->irq_enabled) {
> #line 351
>     dev_priv->user_irq_refcount = dev_priv->user_irq_refcount + 1;
> #line 351
>     if (dev_priv->user_irq_refcount == 1) {
> #line 352
>       i915_enable_irq(dev_priv, 1 << 1);
>     } else {
> 
>     }
>   } else {
> 
>   }
> #line 353
>   _spin_unlock(& dev_priv->user_irq_lock);
> #line 354
>   return;
> }
> }
> #line 356 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> static void i915_user_irq_put(struct drm_device *dev ) 
> { 
>   drm_i915_private_t *dev_priv ;
>   long tmp ;
> 
>   {
> #line 358
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 360
>   _spin_lock(& dev_priv->user_irq_lock);
> #line 361
>   while (1) {
> #line 361
>     tmp = __builtin_expect(! (! (dev->irq_enabled && dev_priv->user_irq_refcount <= 0)),
>                            0);
> #line 361
>     if (tmp) {
> #line 361
>       while (1) {
> #line 361
>         __asm__  volatile   ("1:\tud2\n"
>                              ".pushsection __bug_table,\"a\"\n"
>                              "2:\t.quad 1b, %c0\n"
>                              "\t.word %c1, 0\n"
>                              "\t.org 2b+%c2\n"
>                              ".popsection": : "i" ("/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"),
>                              "i" (361), "i" (sizeof(struct bug_entry )));
> #line 361
>         while (1) {
> 
>         }
> #line 361
>         break;
>       }
>     } else {
> 
>     }
> #line 361
>     break;
>   }
> #line 362
>   if (dev->irq_enabled) {
> #line 362
>     dev_priv->user_irq_refcount = dev_priv->user_irq_refcount - 1;
> #line 362
>     if (dev_priv->user_irq_refcount == 0) {
> #line 363
>       i915_disable_irq(dev_priv, 1 << 1);
>     } else {
> 
>     }
>   } else {
> 
>   }
> #line 364
>   _spin_unlock(& dev_priv->user_irq_lock);
> #line 365
>   return;
> }
> }
> #line 367 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9448c9601
< #line 319
---
> #line 369
9450c9603
< #line 320
---
> #line 370
9452c9605
< #line 322
---
> #line 372
9454c9607
< #line 322
---
> #line 372
9456c9609
< #line 322
---
> #line 372
9461c9614
< #line 322
---
> #line 372
9464c9617
< #line 325
---
> #line 375
9466c9619,9621
< #line 326
---
> #line 376
>     (dev_priv->sarea_priv)->last_dispatch = *((u32 volatile   *)dev_priv->hw_status_page + 5);
> #line 377
9471c9626
< #line 328
---
> #line 380
9473c9628,9630
< #line 330
---
> #line 382
>   i915_user_irq_get(dev);
> #line 383
9475c9632
< #line 330
---
> #line 383
9477c9634
< #line 330
---
> #line 383
9479c9636
< #line 330
---
> #line 383
9481c9638
< #line 330
---
> #line 383
9483c9640
< #line 330
---
> #line 383
9485c9642
< #line 330
---
> #line 383
9487c9644
< #line 330
---
> #line 383
9489c9646
< #line 330
---
> #line 383
9491c9648
< #line 330
---
> #line 383
9493c9650
< #line 330
---
> #line 383
9495c9652
< #line 330
---
> #line 383
9497c9654
< #line 330
---
> #line 383
9499c9656
< #line 330
---
> #line 383
9502c9659
< #line 330
---
> #line 383
9504c9661
< #line 330
---
> #line 383
9509c9666
< #line 330
---
> #line 383
9511c9668
< #line 330
---
> #line 383
9513c9670
< #line 330
---
> #line 383
9518c9675
< #line 330
---
> #line 383
9520c9677
< #line 330
---
> #line 383
9522c9679
< #line 330
---
> #line 383
9524c9681
< #line 330
---
> #line 383
9526c9683
< #line 330
---
> #line 383
9528c9685
< #line 330
---
> #line 383
9534c9691
< #line 330
---
> #line 383
9536c9693
< #line 330
---
> #line 383
9538c9695
< #line 330
---
> #line 383
9540c9697
< #line 330
---
> #line 383
9543c9700
< #line 330
---
> #line 383
9545c9702
< #line 330
---
> #line 383
9548c9705,9707
< #line 333
---
> #line 385
>   i915_user_irq_put(dev);
> #line 387
9550c9709
< #line 334
---
> #line 388
9556c9715
< #line 338
---
> #line 392
9558c9717
< #line 339
---
> #line 393
9562c9721
< #line 342 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 396 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9578c9737
< #line 345
---
> #line 399
9580c9739
< #line 347
---
> #line 401
9582c9741
< #line 349
---
> #line 403
9584c9743
< #line 350
---
> #line 404
9586c9745
< #line 351
---
> #line 405
9591c9750
< #line 354
---
> #line 408
9593c9752
< #line 354
---
> #line 408
9595c9754
< #line 354
---
> #line 408
9597c9756
< #line 354
---
> #line 408
9599c9758
< #line 354
---
> #line 408
9601c9760
< #line 354
---
> #line 408
9603c9762
< #line 354
---
> #line 408
9605c9764
< #line 354
---
> #line 408
9607c9766
< #line 354
---
> #line 408
9609c9768
< #line 354
---
> #line 408
9611c9770
< #line 354
---
> #line 408
9613c9772
< #line 354
---
> #line 408
9615c9774
< #line 354
---
> #line 408
9617c9776
< #line 354
---
> #line 408
9620c9779
< #line 354
---
> #line 408
9622c9781
< #line 354
---
> #line 408
9624c9783
< #line 354
---
> #line 408
9629c9788
< #line 354
---
> #line 408
9631c9790
< #line 354
---
> #line 408
9633c9792
< #line 354
---
> #line 408
9638c9797
< #line 354
---
> #line 408
9640c9799
< #line 354
---
> #line 408
9642c9801
< #line 354
---
> #line 408
9644c9803
< #line 354
---
> #line 408
9646c9805
< #line 354
---
> #line 408
9648c9807
< #line 354
---
> #line 408
9654c9813
< #line 354
---
> #line 408
9656c9815
< #line 354
---
> #line 408
9658c9817
< #line 354
---
> #line 408
9660c9819
< #line 354
---
> #line 408
9663c9822
< #line 354
---
> #line 408
9665c9824
< #line 354
---
> #line 408
9668c9827
< #line 358
---
> #line 412
9670c9829
< #line 360
---
> #line 414
9674c9833
< #line 364 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 418 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9680c9839
< #line 366
---
> #line 420
9682c9841
< #line 366
---
> #line 420
9686c9845
< #line 369 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 423 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9692c9851
< #line 371
---
> #line 425
9694c9853
< #line 371
---
> #line 425
9698c9857
< #line 376 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 430 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9707c9866
< #line 379
---
> #line 433
9709c9868
< #line 380
---
> #line 434
9711c9870
< #line 383
---
> #line 437
9713c9872
< #line 383
---
> #line 437
9715c9874
< #line 383
---
> #line 437
9719c9878
< #line 383
---
> #line 437
9724c9883
< #line 383
---
> #line 437
9727c9886
< #line 385
---
> #line 439
9729c9888
< #line 386
---
> #line 440
9731c9890
< #line 387
---
> #line 441
9736c9895
< #line 390
---
> #line 444
9738c9897
< #line 392
---
> #line 446
9740c9899
< #line 392
---
> #line 446
9742c9901
< #line 393
---
> #line 447
9744c9903
< #line 394
---
> #line 448
9749c9908
< #line 397
---
> #line 451
9753c9912
< #line 402 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 456 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9761c9920
< #line 405
---
> #line 459
9763c9922
< #line 406
---
> #line 460
9765c9924
< #line 408
---
> #line 462
9767c9926
< #line 409
---
> #line 463
9769c9928
< #line 410
---
> #line 464
9774c9933
< #line 413
---
> #line 467
9776c9935
< #line 413
---
> #line 467
9780,9811c9939
< #line 416 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< static void i915_enable_interrupt(struct drm_device *dev ) 
< { 
<   drm_i915_private_t *dev_priv ;
<   u16 flag ;
< 
<   {
< #line 418
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
< #line 421
<   flag = 0;
< #line 422
<   if (dev_priv->vblank_pipe & 1) {
< #line 423
<     flag = (int )flag | (1 << 7);
<   } else {
< 
<   }
< #line 424
<   if (dev_priv->vblank_pipe & 2) {
< #line 425
<     flag = (int )flag | (1 << 5);
<   } else {
< 
<   }
< #line 427
<   writew((1 << 1) | (int )flag, (dev_priv->mmio_map)->handle + 8352);
< #line 428
<   return;
< }
< }
< #line 432 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 472 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9815a9944,9945
>   u32 enable_mask ;
>   u32 disable_mask ;
9818c9948
< #line 435
---
> #line 475
9820c9950
< #line 436
---
> #line 476
9822c9952,9956
< #line 438
---
> #line 477
>   enable_mask = 0;
> #line 477
>   disable_mask = 0;
> #line 479
9824c9958
< #line 439
---
> #line 480
9826c9960
< #line 440
---
> #line 481
9831c9965
< #line 443
---
> #line 484
9833c9967
< #line 444
---
> #line 485
9836c9970
< #line 445
---
> #line 486
9841c9975,9995
< #line 448
---
> #line 489
>   if (pipe->pipe & 1) {
> #line 490
>     enable_mask = enable_mask | (unsigned int )(1 << 7);
>   } else {
> #line 492
>     disable_mask = disable_mask | (unsigned int )(1 << 7);
>   }
> #line 494
>   if (pipe->pipe & 2) {
> #line 495
>     enable_mask = enable_mask | (unsigned int )(1 << 5);
>   } else {
> #line 497
>     disable_mask = disable_mask | (unsigned int )(1 << 5);
>   }
> #line 499
>   i915_enable_irq(dev_priv, enable_mask);
> #line 500
>   i915_disable_irq(dev_priv, disable_mask);
> #line 502
9843,9845c9997
< #line 450
<   i915_enable_interrupt(dev);
< #line 452
---
> #line 504
9849c10001
< #line 455 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 507 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9858c10010
< #line 458
---
> #line 510
9860c10012
< #line 459
---
> #line 511
9862c10014
< #line 462
---
> #line 514
9864c10016
< #line 463
---
> #line 515
9866c10018
< #line 464
---
> #line 516
9871,9873c10023,10025
< #line 467
<   tmp = readl((dev_priv->mmio_map)->handle + 8352);
< #line 467
---
> #line 519
>   tmp = readl((dev_priv->mmio_map)->handle + 8360);
> #line 519
9875c10027
< #line 468
---
> #line 520
9877c10029
< #line 469
---
> #line 521
9879c10031
< #line 470
---
> #line 522
9884c10036
< #line 471
---
> #line 523
9886c10038
< #line 472
---
> #line 524
9891c10043
< #line 474
---
> #line 526
9895c10047
< #line 480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 532 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
9911c10063
< #line 483
---
> #line 535
9913c10065
< #line 484
---
> #line 536
9915c10067
< #line 490
---
> #line 542
9917c10069
< #line 491
---
> #line 543
9920c10072
< #line 492
---
> #line 544
9925c10077
< #line 495
---
> #line 547
9927c10079
< #line 496
---
> #line 548
9929c10081
< #line 496
---
> #line 548
9931c10083
< #line 496
---
> #line 548
9936c10088
< #line 496
---
> #line 548
9939c10091
< #line 497
---
> #line 549
9944c10096
< #line 500
---
> #line 552
9946c10098
< #line 502
---
> #line 554
9949c10101
< #line 503
---
> #line 555
9954c10106
< #line 506
---
> #line 558
9956c10108
< #line 508
---
> #line 560
9958c10110
< #line 510
---
> #line 562
9960c10112
< #line 511
---
> #line 563
9962c10114
< #line 512
---
> #line 564
9967c10119
< #line 515
---
> #line 567
9969c10121
< #line 515
---
> #line 567
9971c10123
< #line 515
---
> #line 567
9974c10126
< #line 517
---
> #line 569
9976c10128
< #line 517
---
> #line 569
9980c10132
< #line 518
---
> #line 570
9982c10134
< #line 518
---
> #line 570
9984c10136
< #line 518
---
> #line 570
9987c10139
< #line 519
---
> #line 571
9989c10141
< #line 519
---
> #line 571
9991c10143
< #line 519
---
> #line 571
9996c10148
< #line 519
---
> #line 571
9999c10151
< #line 520
---
> #line 572
10002c10154
< #line 523
---
> #line 575
10004c10156
< #line 523
---
> #line 575
10006c10158
< #line 523
---
> #line 575
10009c10161
< #line 525
---
> #line 577
10011c10163
< #line 527
---
> #line 579
10013c10165
< #line 528
---
> #line 580
10018c10170
< #line 530
---
> #line 582
10020c10172
< #line 531
---
> #line 583
10022c10174
< #line 532
---
> #line 584
10025c10177
< #line 534
---
> #line 586
10027c10179
< #line 534
---
> #line 586
10029c10181
< #line 534
---
> #line 586
10034c10186
< #line 534
---
> #line 586
10037c10189
< #line 535
---
> #line 587
10043c10195
< #line 539
---
> #line 591
10045c10197
< #line 539
---
> #line 591
10047c10199
< #line 539
---
> #line 591
10050c10202
< #line 541
---
> #line 593
10052c10204
< #line 541
---
> #line 593
10054c10206
< #line 541
---
> #line 593
10056c10208
< #line 541
---
> #line 593
10060c10212
< #line 541
---
> #line 593
10063c10215
< #line 542
---
> #line 594
10065c10217
< #line 542
---
> #line 594
10067c10219
< #line 544
---
> #line 596
10069c10221
< #line 547
---
> #line 599
10071c10223
< #line 547
---
> #line 599
10073c10225
< #line 547
---
> #line 599
10076c10228
< #line 548
---
> #line 600
10078c10230
< #line 548
---
> #line 600
10080c10232
< #line 548
---
> #line 600
10085c10237
< #line 548
---
> #line 600
10088c10240
< #line 549
---
> #line 601
10093c10245
< #line 541
---
> #line 593
10096c10248
< #line 553
---
> #line 605
10098c10250
< #line 553
---
> #line 605
10100c10252
< #line 553
---
> #line 605
10103c10255
< #line 555
---
> #line 607
10105c10257
< #line 556
---
> #line 608
10107c10259
< #line 556
---
> #line 608
10109c10261
< #line 556
---
> #line 608
10114c10266
< #line 556
---
> #line 608
10117c10269
< #line 557
---
> #line 609
10122c10274
< #line 560
---
> #line 612
10124c10276
< #line 560
---
> #line 612
10126c10278
< #line 562
---
> #line 614
10128c10280
< #line 563
---
> #line 615
10130c10282
< #line 564
---
> #line 616
10135c10287
< #line 567
---
> #line 619
10137c10289
< #line 567
---
> #line 619
10139c10291
< #line 567
---
> #line 619
10144c10296
< #line 567
---
> #line 619
10147c10299
< #line 569
---
> #line 621
10149c10301
< #line 570
---
> #line 622
10151c10303
< #line 571
---
> #line 623
10153c10305
< #line 573
---
> #line 625
10155c10307
< #line 573
---
> #line 625
10157c10309
< #line 573
---
> #line 625
10160c10312
< #line 575
---
> #line 627
10162c10314
< #line 576
---
> #line 628
10164c10316
< #line 578
---
> #line 630
10166c10318
< #line 578
---
> #line 630
10168c10320
< #line 578
---
> #line 630
10171c10323
< #line 580
---
> #line 632
10175c10327
< #line 585 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 637 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10181c10333
< #line 587
---
> #line 639
10183,10189c10335,10341
< #line 589
<   writew(65534, (dev_priv->mmio_map)->handle + 8344);
< #line 590
<   writew(0, (dev_priv->mmio_map)->handle + 8360);
< #line 591
<   writew(0, (dev_priv->mmio_map)->handle + 8352);
< #line 592
---
> #line 641
>   writel(65534, (dev_priv->mmio_map)->handle + 8344);
> #line 642
>   writel(0, (dev_priv->mmio_map)->handle + 8360);
> #line 643
>   writel(0, (dev_priv->mmio_map)->handle + 8352);
> #line 644
10193,10195c10345,10347
< #line 598 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
< static struct lock_class_key __key___1  ;
< #line 594 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 650 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
> static struct lock_class_key __key___2  ;
> #line 646 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10201c10353
< #line 596
---
> #line 648
10203c10355
< #line 598
---
> #line 650
10205,10207c10357,10359
< #line 598
<     __spin_lock_init(& dev_priv->swaps_lock, "&dev_priv->swaps_lock", & __key___1);
< #line 598
---
> #line 650
>     __spin_lock_init(& dev_priv->swaps_lock, "&dev_priv->swaps_lock", & __key___2);
> #line 650
10210c10362
< #line 599
---
> #line 651
10212c10364
< #line 600
---
> #line 652
10214c10366
< #line 602
---
> #line 654
10216c10368
< #line 603
---
> #line 655
10221,10223c10373,10395
< #line 604
<   i915_enable_interrupt(dev);
< #line 605
---
> #line 658
>   dev_priv->irq_mask_reg = ~ 0;
> #line 659
>   if (dev_priv->vblank_pipe & 1) {
> #line 660
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 7));
>   } else {
> 
>   }
> #line 661
>   if (dev_priv->vblank_pipe & 2) {
> #line 662
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 5));
>   } else {
> 
>   }
> #line 664
>   writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 665
>   writel(((1 << 1) | (1 << 7)) | (1 << 5), (dev_priv->mmio_map)->handle + 8352);
> #line 666
>   readl((dev_priv->mmio_map)->handle + 8352);
> #line 668
10225c10397
< #line 606
---
> #line 669
10229c10401
< #line 608 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 671 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_irq.c"
10233a10406
>   unsigned int tmp ;
10236c10409
< #line 610
---
> #line 673
10238c10411
< #line 613
---
> #line 676
10240c10413
< #line 614
---
> #line 677
10245,10255c10418,10430
< #line 616
<   writew(65535, (dev_priv->mmio_map)->handle + 8344);
< #line 617
<   writew(65535, (dev_priv->mmio_map)->handle + 8360);
< #line 618
<   writew(0, (dev_priv->mmio_map)->handle + 8352);
< #line 620
<   temp = readw((dev_priv->mmio_map)->handle + 8356);
< #line 621
<   writew(temp, (dev_priv->mmio_map)->handle + 8356);
< #line 622
---
> #line 679
>   writel(65535, (dev_priv->mmio_map)->handle + 8344);
> #line 680
>   writel(65535, (dev_priv->mmio_map)->handle + 8360);
> #line 681
>   writel(0, (dev_priv->mmio_map)->handle + 8352);
> #line 683
>   tmp = readl((dev_priv->mmio_map)->handle + 8356);
> #line 683
>   temp = tmp;
> #line 684
>   writel(temp, (dev_priv->mmio_map)->handle + 8356);
> #line 685
