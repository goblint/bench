7593c7593
<   if ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810)) {
---
>   if ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818)) {
9558c9558
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
---
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
9662c9662
< int i915_probe_agp(struct pci_dev *pdev , unsigned long *aperture_size , unsigned long *preallocated_size ) 
---
> int i915_probe_agp(struct drm_device *dev , unsigned long *aperture_size , unsigned long *preallocated_size ) 
9691c9691
<   switch ((int )pdev->device) {
---
>   switch ((int )(dev->pdev)->device) {
9708c9708
<   *aperture_size = pdev->resource[2].start == (resource_size_t )0 && pdev->resource[2].end == pdev->resource[2].start ? 0 : (pdev->resource[2].end - pdev->resource[2].start) + (resource_size_t )1;
---
>   *aperture_size = (dev->pdev)->resource[2].start == (resource_size_t )0 && (dev->pdev)->resource[2].end == (dev->pdev)->resource[2].start ? 0 : ((dev->pdev)->resource[2].end - (dev->pdev)->resource[2].start) + (resource_size_t )1;
9713c9713
<   overhead = *aperture_size / 1024UL + 4096UL;
---
>   if (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818) {
9714a9715,9720
>     overhead = 4096;
>   } else {
> #line 867
>     overhead = *aperture_size / 1024UL + 4096UL;
>   }
> #line 869
9717c9723
< #line 867
---
> #line 871
9720c9726
< #line 869
---
> #line 873
9722c9728
< #line 870
---
> #line 874
9725c9731
< #line 872
---
> #line 876
9727c9733
< #line 873
---
> #line 877
9730c9736
< #line 875
---
> #line 879
9732c9738
< #line 876
---
> #line 880
9735c9741
< #line 878
---
> #line 882
9737c9743
< #line 879
---
> #line 883
9740c9746
< #line 881
---
> #line 885
9742c9748
< #line 882
---
> #line 886
9745c9751
< #line 884
---
> #line 888
9747c9753
< #line 885
---
> #line 889
9750c9756
< #line 887
---
> #line 891
9752c9758
< #line 888
---
> #line 892
9755c9761
< #line 890
---
> #line 894
9758c9764
< #line 892
---
> #line 896
9761c9767
< #line 894
---
> #line 898
9763c9769
< #line 896
---
> #line 900
9767c9773
< #line 899 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 903 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
9779c9785
< #line 901
---
> #line 905
9781c9787
< #line 903
---
> #line 907
9783c9789
< #line 904
---
> #line 908
9785c9791
< #line 906
---
> #line 910
9787c9793
< #line 906
---
> #line 910
9789c9795
< #line 909
---
> #line 913
9791c9797
< #line 909
---
> #line 913
9793c9799
< #line 909
---
> #line 913
9798c9804
< #line 909
---
> #line 913
9801c9807
< #line 911
---
> #line 915
9803c9809
< #line 912
---
> #line 916
9806c9812
< #line 914
---
> #line 918
9809,9811c9815,9817
< #line 916
<   i915_probe_agp(dev->pdev, & agp_size, & prealloc_size);
< #line 919
---
> #line 920
>   i915_probe_agp(dev, & agp_size, & prealloc_size);
> #line 923
9813c9819
< #line 922
---
> #line 926
9815c9821
< #line 924
---
> #line 928
9817c9823
< #line 925
---
> #line 929
9819c9825
< #line 926
---
> #line 930
9824c9830
< #line 928
---
> #line 932
9826c9832
< #line 934
---
> #line 938
9828c9834
< #line 936
---
> #line 940
9830c9836
< #line 936
---
> #line 940
9832c9838
< #line 937
---
> #line 941
9834c9840
< #line 938
---
> #line 942
9839c9845
< #line 940
---
> #line 944
9841c9847
< #line 941
---
> #line 945
9843c9849
< #line 942
---
> #line 946
9848c9854
< #line 953
---
> #line 957
9850c9856
< #line 959
---
> #line 963
9852c9858
< #line 961
---
> #line 965
9854c9860
< #line 963
---
> #line 967
9856c9862
< #line 965
---
> #line 969
9858c9864
< #line 966
---
> #line 970
9860c9866
< #line 967
---
> #line 971
9862c9868
< #line 968
---
> #line 972
9867c9873
< #line 971
---
> #line 975
9870c9876
< #line 974
---
> #line 978
9873c9879
< #line 976
---
> #line 980
9876c9882
< #line 978
---
> #line 982
9880c9886
< #line 981 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 985 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
9887c9893
< #line 985
---
> #line 989
9889c9895
< #line 985
---
> #line 989
9891c9897
< #line 986
---
> #line 990
9893c9899
< #line 987
---
> #line 991
9898c9904
< #line 989
---
> #line 993
9900c9906
< #line 990
---
> #line 994
9904c9910
< #line 993 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 997 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
9910c9916
< #line 995
---
> #line 999
9912c9918
< #line 997
---
> #line 1001
9914c9920
< #line 998
---
> #line 1002
9919c9925
< #line 1000
---
> #line 1004
9921c9927
< #line 1002
---
> #line 1006
9923c9929
< #line 1003
---
> #line 1007
9927c9933
< #line 1006 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1010 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
9933c9939
< #line 1008
---
> #line 1012
9935c9941
< #line 1008
---
> #line 1012
9937c9943
< #line 1009
---
> #line 1013
9942c9948
< #line 1010
---
> #line 1014
9946c9952
< #line 1090 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1094 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
9948c9954
< #line 1024 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1028 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
9960c9966
< #line 1026
---
> #line 1030
9962c9968
< #line 1028
---
> #line 1032
9964c9970
< #line 1028
---
> #line 1032
9966c9972
< #line 1031
---
> #line 1035
9968c9974
< #line 1032
---
> #line 1036
9970c9976
< #line 1033
---
> #line 1037
9972c9978
< #line 1034
---
> #line 1038
9974c9980
< #line 1035
---
> #line 1039
9976c9982
< #line 1037
---
> #line 1041
9978c9984
< #line 1037
---
> #line 1041
9980c9986
< #line 1038
---
> #line 1042
9982c9988
< #line 1039
---
> #line 1043
9987c9993
< #line 1041
---
> #line 1045
9989c9995
< #line 1043
---
> #line 1047
9991c9997
< #line 1044
---
> #line 1048
9993c9999
< #line 1047
---
> #line 1051
9995c10001
< #line 1048
---
> #line 1052
9997c10003
< #line 1050
---
> #line 1054
9999c10005
< #line 1051
---
> #line 1055
10001c10007
< #line 1052
---
> #line 1056
10003c10009
< #line 1053
---
> #line 1057
10005c10011
< #line 1054
---
> #line 1058
10010c10016
< #line 1062
---
> #line 1066
10012,10015d10017
< #line 1065
<   i915_gem_load(dev);
< #line 1068
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
10016a10019,10022
>   i915_gem_load(dev);
> #line 1072
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
> #line 1073
10018c10024
< #line 1070
---
> #line 1074
10020c10026
< #line 1071
---
> #line 1075
10028c10034
< #line 1085
---
> #line 1089
10030c10036
< #line 1086
---
> #line 1090
10035c10041
< #line 1088
---
> #line 1092
10037c10043
< #line 1090
---
> #line 1094
10039c10045
< #line 1090
---
> #line 1094
10041c10047
< #line 1090
---
> #line 1094
10044c10050
< #line 1091
---
> #line 1095
10046c10052
< #line 1093
---
> #line 1097
10048c10054
< #line 1095
---
> #line 1099
10050c10056
< #line 1096
---
> #line 1100
10052c10058
< #line 1097
---
> #line 1101
10057c10063
< #line 1100
---
> #line 1104
10059c10065
< #line 1100
---
> #line 1104
10061c10067
< #line 1101
---
> #line 1105
10063c10069
< #line 1102
---
> #line 1106
10065c10071
< #line 1103
---
> #line 1107
10067c10073
< #line 1104
---
> #line 1108
10075c10081
< #line 1108
---
> #line 1112
10078c10084
< #line 1111
---
> #line 1115
10081c10087
< #line 1113
---
> #line 1117
10083c10089
< #line 1114
---
> #line 1118
10087c10093
< #line 1117 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1121 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10095c10101
< #line 1119
---
> #line 1123
10097c10103
< #line 1121
---
> #line 1125
10099c10105
< #line 1121
---
> #line 1125
10101c10107
< #line 1122
---
> #line 1126
10103c10109
< #line 1123
---
> #line 1127
10108c10114
< #line 1126
---
> #line 1130
10110c10116
< #line 1127
---
> #line 1131
10115c10121
< #line 1129
---
> #line 1133
10117c10123
< #line 1130
---
> #line 1134
10122c10128
< #line 1132
---
> #line 1136
10124c10130
< #line 1134
---
> #line 1138
10126c10132
< #line 1134
---
> #line 1138
10128c10134
< #line 1135
---
> #line 1139
10130c10136
< #line 1137
---
> #line 1141
10132c10138
< #line 1138
---
> #line 1142
10134c10140
< #line 1139
---
> #line 1143
10136c10142
< #line 1140
---
> #line 1144
10138c10144
< #line 1141
---
> #line 1145
10143c10149
< #line 1144
---
> #line 1148
10145c10151
< #line 1147
---
> #line 1151
10149c10155
< #line 1150 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1154 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10156c10162
< #line 1154
---
> #line 1158
10158c10164
< #line 1154
---
> #line 1158
10160c10166
< #line 1154
---
> #line 1158
10165c10171
< #line 1154
---
> #line 1158
10168c10174
< #line 1155
---
> #line 1159
10170c10176
< #line 1155
---
> #line 1159
10172c10178
< #line 1158
---
> #line 1162
10174c10180
< #line 1159
---
> #line 1163
10179c10185
< #line 1161
---
> #line 1165
10181c10187
< #line 1163
---
> #line 1167
10183c10189
< #line 1164
---
> #line 1168
10185c10191
< #line 1166
---
> #line 1170
10189c10195
< #line 1181 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1185 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10196c10202
< #line 1183
---
> #line 1187
10198c10204
< #line 1185
---
> #line 1189
10200c10206
< #line 1186
---
> #line 1190
10202c10208
< #line 1187
---
> #line 1191
10205c10211
< #line 1185
---
> #line 1189
10207c10213
< #line 1185
---
> #line 1189
10209c10215
< #line 1186
---
> #line 1190
10211c10217
< #line 1187
---
> #line 1191
10217c10223
< #line 1190
---
> #line 1194
10219c10225
< #line 1192
---
> #line 1196
10221c10227
< #line 1193
---
> #line 1197
10226c10232
< #line 1195
---
> #line 1199
10228c10234
< #line 1196
---
> #line 1200
10232c10238
< #line 1198 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1202 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10239c10245
< #line 1200
---
> #line 1204
10241c10247
< #line 1201
---
> #line 1205
10243c10249
< #line 1201
---
> #line 1205
10247c10253
< #line 1202
---
> #line 1206
10250c10256
< #line 1203
---
> #line 1207
10254c10260
< #line 1205 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1209 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10260c10266
< #line 1207
---
> #line 1211
10262c10268
< #line 1209
---
> #line 1213
10264c10270
< #line 1210
---
> #line 1214
10268c10274
< #line 1212 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1216 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10270c10276
< #line 1212
---
> #line 1216
10308c10314
< #line 1250 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1254 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10310c10316
< #line 1263 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 1267 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--32_1--X--cpachecker/linux/csd_deg_dscv/36/dscv_tempdir/dscv/ri/32_1/drivers/gpu/drm/i915/i915_dma.c"
10316c10322
< #line 1265
---
> #line 1269
19131c19137
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
---
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || (((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810) || dev->pci_device == 10818))) {
