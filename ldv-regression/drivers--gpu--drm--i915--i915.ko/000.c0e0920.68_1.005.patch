3749a3750,3752
>    spinlock_t user_irq_lock ;
>    int user_irq_refcount ;
>    u32 irq_mask_reg ;
4510c4513
< #line 209 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 215 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4512c4515
< #line 210
---
> #line 216
4514c4517
< #line 214
---
> #line 220
4516c4519
< #line 215
---
> #line 221
4518c4521
< #line 216
---
> #line 222
4520c4523
< #line 217
---
> #line 223
4522c4525
< #line 219
---
> #line 225
4524c4527
< #line 220
---
> #line 226
4526c4529
< #line 229
---
> #line 235
4528c4531
< #line 230
---
> #line 236
4530c4533
< #line 231
---
> #line 237
4532c4535
< #line 232
---
> #line 238
4534c4537
< #line 233
---
> #line 239
4536c4539
< #line 234
---
> #line 240
5834a5838,5839
> #line 94 "include/linux/spinlock.h"
> extern void __spin_lock_init(spinlock_t *lock , char const   *name , struct lock_class_key *key ) ;
5851a5857,5860
> #line 759 "include/linux/pci.h"
> extern int pci_enable_msi(struct pci_dev *dev ) ;
> #line 761
> extern void pci_disable_msi(struct pci_dev *dev ) ;
6228c6237
< #line 213 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 219 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
6230c6239
< #line 224
---
> #line 230
6232c6241
< #line 226
---
> #line 232
6234c6243
< #line 235
---
> #line 241
6236c6245
< #line 237
---
> #line 243
6238c6247
< #line 239
---
> #line 245
6240c6249
< #line 243
---
> #line 249
6242c6251
< #line 245
---
> #line 251
6244c6253
< #line 247
---
> #line 253
6246c6255
< #line 249
---
> #line 255
6248c6257
< #line 251
---
> #line 257
6250c6259
< #line 252
---
> #line 258
6252c6261
< #line 307
---
> #line 313
6372c6381
<   if (dev->irq) {
---
>   if (dev->irq_enabled) {
8230c8239
<   value = dev->irq ? 1 : 0;
---
>   value = dev->irq_enabled;
8400a8410,8411
> #line 778 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
> static struct lock_class_key __key___1  ;
8449c8460,8474
< #line 766
---
> #line 775
>   if (! (dev->pci_device == 10098) && ! (dev->pci_device == 10146 || dev->pci_device == 10158)) {
> #line 776
>     pci_enable_msi(dev->pdev);
>   } else {
> 
>   }
> #line 778
>   while (1) {
> #line 778
>     __spin_lock_init(& dev_priv->user_irq_lock, "&dev_priv->user_irq_lock", & __key___1);
> #line 778
>     break;
>   }
> #line 780
8453c8478
< #line 769 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 783 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8459c8484
< #line 771
---
> #line 785
8461c8486,8493
< #line 773
---
> #line 787
>   if ((dev->pdev)->msi_enabled) {
> #line 788
>     pci_disable_msi(dev->pdev);
>   } else {
> 
>   }
> #line 790
8463c8495
< #line 774
---
> #line 791
8468c8500
< #line 776
---
> #line 793
8470c8502
< #line 779
---
> #line 796
8474c8506
< #line 782 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 799 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8480c8512
< #line 784
---
> #line 801
8482c8514
< #line 786
---
> #line 803
8484c8516
< #line 787
---
> #line 804
8489c8521
< #line 789
---
> #line 806
8491c8523
< #line 790
---
> #line 807
8496c8528
< #line 792
---
> #line 809
8498c8530
< #line 793
---
> #line 810
8502c8534
< #line 795 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 812 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8508c8540
< #line 797
---
> #line 814
8510c8542
< #line 798
---
> #line 815
8512c8544
< #line 799
---
> #line 816
8516c8548
< #line 801 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 818 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8518c8550
< #line 801
---
> #line 818
8537c8569
< #line 821 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 838 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8539c8571
< #line 834 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 851 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8545c8577
< #line 836
---
> #line 853
8667,8668d8698
< #line 94 "include/linux/spinlock.h"
< extern void __spin_lock_init(spinlock_t *lock , char const   *name , struct lock_class_key *key ) ;
8709,8736d8738
< #line 19 "include/asm/io.h"
< __inline static unsigned short readw(void const volatile   *addr ) 
< { 
<   unsigned short ret ;
< 
<   {
< #line 19
<   __asm__  volatile   ("mov"
<                        "w"
<                        " %1,%0": "=r" (ret): "m" (*((unsigned short volatile   *)addr)): "memory");
< #line 19
<   return (ret);
< }
< }
< #line 27 "include/asm/io.h"
< __inline static void writew(unsigned short val , void volatile   *addr ) 
< { 
< 
< 
<   {
< #line 27
<   __asm__  volatile   ("mov"
<                        "w"
<                        " %0,%1": : "r" (val), "m" (*((unsigned short volatile   *)addr)): "memory");
< #line 27
<   return;
< }
< }
8793a8796,8837
> __inline static void i915_enable_irq(drm_i915_private_t *dev_priv , u32 mask ) 
> { 
> 
> 
>   {
> #line 44
>   if ((dev_priv->irq_mask_reg & mask) != 0U) {
> #line 45
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & ~ mask;
> #line 46
>     writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 47
>     readl((dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 49
>   return;
> }
> }
> #line 51 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> __inline static void i915_disable_irq(drm_i915_private_t *dev_priv , u32 mask ) 
> { 
> 
> 
>   {
> #line 54
>   if ((dev_priv->irq_mask_reg & mask) != mask) {
> #line 55
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg | mask;
> #line 56
>     writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 57
>     readl((dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 59
>   return;
> }
> }
> #line 66 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
8849c8893
< #line 43
---
> #line 68
8851c8895
< #line 47
---
> #line 72
8853c8897
< #line 47
---
> #line 72
8855c8899
< #line 50
---
> #line 75
8857c8901
< #line 51
---
> #line 76
8859c8903
< #line 52
---
> #line 77
8861c8905
< #line 56
---
> #line 81
8863c8907
< #line 57
---
> #line 82
8865c8909
< #line 58
---
> #line 83
8867c8911
< #line 61
---
> #line 86
8869c8913
< #line 62
---
> #line 87
8871c8915
< #line 63
---
> #line 88
8876c8920
< #line 65
---
> #line 90
8878c8922
< #line 66
---
> #line 91
8880c8924
< #line 67
---
> #line 92
8885c8929
< #line 70
---
> #line 95
8887c8931
< #line 70
---
> #line 95
8889c8933
< #line 70
---
> #line 95
8894c8938
< #line 70
---
> #line 95
8897c8941
< #line 72
---
> #line 97
8899c8943
< #line 74
---
> #line 99
8901c8945
< #line 74
---
> #line 99
8903c8947
< #line 76
---
> #line 101
8905c8949
< #line 76
---
> #line 101
8907c8951
< #line 76
---
> #line 101
8910c8954
< #line 79
---
> #line 104
8912c8956
< #line 79
---
> #line 104
8914c8958
< #line 79
---
> #line 104
8916c8960
< #line 79
---
> #line 104
8920c8964
< #line 79
---
> #line 104
8923c8967
< #line 81
---
> #line 106
8925c8969
< #line 81
---
> #line 106
8927c8971
< #line 83
---
> #line 108
8929c8973
< #line 84
---
> #line 109
8934c8978
< #line 86
---
> #line 111
8936c8980
< #line 87
---
> #line 112
8938c8982
< #line 89
---
> #line 114
8940c8984
< #line 90
---
> #line 115
8942c8986
< #line 92
---
> #line 117
8944c8988
< #line 94
---
> #line 119
8946c8990
< #line 95
---
> #line 120
8948c8992
< #line 96
---
> #line 121
8950c8994
< #line 97
---
> #line 122
8952c8996
< #line 98
---
> #line 123
8957c9001
< #line 101
---
> #line 126
8959c9003
< #line 101
---
> #line 126
8961c9005
< #line 101
---
> #line 126
8963c9007
< #line 101
---
> #line 126
8967c9011
< #line 101
---
> #line 126
8970c9014
< #line 103
---
> #line 128
8972c9016
< #line 103
---
> #line 128
8974c9018
< #line 104
---
> #line 129
8976c9020
< #line 104
---
> #line 129
8978c9022
< #line 107
---
> #line 132
8980c9024
< #line 109
---
> #line 134
8982c9026
< #line 110
---
> #line 135
8987c9031
< #line 101
---
> #line 126
8990c9034
< #line 114
---
> #line 139
8992c9036
< #line 117
---
> #line 142
8994c9038
< #line 118
---
> #line 143
8999c9043
< #line 120
---
> #line 145
9001c9045
< #line 122
---
> #line 147
9004c9048
< #line 79
---
> #line 104
9006c9050
< #line 79
---
> #line 104
9009c9053
< #line 125
---
> #line 150
9011c9055
< #line 126
---
> #line 151
9013c9057
< #line 126
---
> #line 151
9015c9059
< #line 126
---
> #line 151
9018c9062
< #line 127
---
> #line 152
9023c9067
< #line 130
---
> #line 155
9025c9069
< #line 132
---
> #line 157
9027c9071
< #line 134
---
> #line 159
9029c9073
< #line 135
---
> #line 160
9031c9075
< #line 135
---
> #line 160
9033c9077
< #line 135
---
> #line 160
9038c9082
< #line 135
---
> #line 160
9040c9084
< #line 135
---
> #line 160
9042c9086
< #line 135
---
> #line 160
9044c9088
< #line 135
---
> #line 160
9046c9090
< #line 135
---
> #line 160
9049c9093
< #line 137
---
> #line 162
9051c9095
< #line 137
---
> #line 162
9053c9097
< #line 137
---
> #line 162
9055c9099
< #line 137
---
> #line 162
9057c9101
< #line 137
---
> #line 162
9059c9103
< #line 137
---
> #line 162
9062c9106
< #line 138
---
> #line 163
9064c9108
< #line 138
---
> #line 163
9066c9110
< #line 138
---
> #line 163
9068c9112
< #line 138
---
> #line 163
9070c9114
< #line 138
---
> #line 163
9072c9116
< #line 138
---
> #line 163
9075c9119
< #line 139
---
> #line 164
9077c9121
< #line 139
---
> #line 164
9079c9123
< #line 139
---
> #line 164
9081c9125
< #line 139
---
> #line 164
9083c9127
< #line 139
---
> #line 164
9085c9129
< #line 139
---
> #line 164
9088c9132
< #line 140
---
> #line 165
9090c9134
< #line 140
---
> #line 165
9092c9136
< #line 140
---
> #line 165
9094c9138
< #line 140
---
> #line 165
9096c9140
< #line 140
---
> #line 165
9098c9142
< #line 140
---
> #line 165
9101c9145
< #line 141
---
> #line 166
9103c9147
< #line 141
---
> #line 166
9105c9149
< #line 141
---
> #line 166
9107c9151
< #line 141
---
> #line 166
9109c9153
< #line 141
---
> #line 166
9113c9157
< #line 143
---
> #line 168
9115c9159
< #line 143
---
> #line 168
9117c9161
< #line 143
---
> #line 168
9122c9166
< #line 143
---
> #line 168
9124c9168
< #line 143
---
> #line 168
9126c9170
< #line 143
---
> #line 168
9128c9172
< #line 143
---
> #line 168
9130c9174
< #line 143
---
> #line 168
9133c9177
< #line 145
---
> #line 170
9135c9179
< #line 145
---
> #line 170
9137c9181
< #line 145
---
> #line 170
9139c9183
< #line 145
---
> #line 170
9141c9185
< #line 145
---
> #line 170
9143c9187
< #line 145
---
> #line 170
9146c9190
< #line 146
---
> #line 171
9148c9192
< #line 146
---
> #line 171
9150c9194
< #line 146
---
> #line 171
9152c9196
< #line 146
---
> #line 171
9154c9198
< #line 146
---
> #line 171
9156c9200
< #line 146
---
> #line 171
9159c9203
< #line 147
---
> #line 172
9161c9205
< #line 147
---
> #line 172
9163c9207
< #line 147
---
> #line 172
9165c9209
< #line 147
---
> #line 172
9167c9211
< #line 147
---
> #line 172
9169c9213
< #line 147
---
> #line 172
9172c9216
< #line 148
---
> #line 173
9174c9218
< #line 148
---
> #line 173
9176c9220
< #line 148
---
> #line 173
9178c9222
< #line 148
---
> #line 173
9180c9224
< #line 148
---
> #line 173
9182c9226
< #line 148
---
> #line 173
9185c9229
< #line 149
---
> #line 174
9187c9231
< #line 149
---
> #line 174
9189c9233
< #line 149
---
> #line 174
9191c9235
< #line 149
---
> #line 174
9193c9237
< #line 149
---
> #line 174
9195c9239
< #line 149
---
> #line 174
9198c9242
< #line 150
---
> #line 175
9200c9244
< #line 150
---
> #line 175
9202c9246
< #line 150
---
> #line 175
9204c9248
< #line 150
---
> #line 175
9206c9250
< #line 150
---
> #line 175
9208c9252
< #line 150
---
> #line 175
9211c9255
< #line 152
---
> #line 177
9213c9257
< #line 152
---
> #line 177
9215c9259
< #line 152
---
> #line 177
9217c9261
< #line 152
---
> #line 177
9219c9263
< #line 152
---
> #line 177
9223c9267
< #line 155
---
> #line 180
9225c9269
< #line 157
---
> #line 182
9227c9271
< #line 157
---
> #line 182
9229c9273
< #line 158
---
> #line 183
9231c9275
< #line 158
---
> #line 183
9233c9277
< #line 158
---
> #line 183
9235c9279
< #line 159
---
> #line 184
9237c9281
< #line 159
---
> #line 184
9239c9283
< #line 159
---
> #line 184
9241c9285
< #line 160
---
> #line 185
9243c9287
< #line 161
---
> #line 186
9245c9289
< #line 163
---
> #line 188
9247c9291
< #line 170
---
> #line 195
9249c9293
< #line 170
---
> #line 195
9251c9295
< #line 170
---
> #line 195
9253c9297
< #line 170
---
> #line 195
9255c9299
< #line 170
---
> #line 195
9259c9303
< #line 170
---
> #line 195
9262c9306
< #line 173
---
> #line 198
9264c9308
< #line 174
---
> #line 199
9266c9310
< #line 174
---
> #line 199
9271c9315
< #line 176
---
> #line 201
9273c9317
< #line 176
---
> #line 201
9275c9319
< #line 176
---
> #line 201
9277c9321
< #line 176
---
> #line 201
9281c9325
< #line 176
---
> #line 201
9284c9328
< #line 178
---
> #line 203
9286c9330
< #line 178
---
> #line 203
9288c9332
< #line 183
---
> #line 208
9290c9334
< #line 185
---
> #line 210
9292c9336
< #line 186
---
> #line 211
9297c9341
< #line 188
---
> #line 213
9299c9343
< #line 189
---
> #line 214
9301c9345
< #line 190
---
> #line 215
9303c9347
< #line 191
---
> #line 216
9305c9349
< #line 193
---
> #line 218
9307c9351
< #line 193
---
> #line 218
9309c9353
< #line 193
---
> #line 218
9311c9355
< #line 193
---
> #line 218
9313c9357
< #line 193
---
> #line 218
9317c9361
< #line 193
---
> #line 218
9320c9364
< #line 194
---
> #line 219
9322c9366
< #line 194
---
> #line 219
9324c9368
< #line 194
---
> #line 219
9326c9370
< #line 195
---
> #line 220
9328c9372
< #line 195
---
> #line 220
9330c9374
< #line 195
---
> #line 220
9332c9376
< #line 197
---
> #line 222
9334c9378
< #line 198
---
> #line 223
9339c9383
< #line 200
---
> #line 225
9341c9385
< #line 200
---
> #line 225
9343c9387
< #line 200
---
> #line 225
9348c9392
< #line 200
---
> #line 225
9350c9394
< #line 200
---
> #line 225
9352c9396
< #line 200
---
> #line 225
9354c9398
< #line 200
---
> #line 225
9356c9400
< #line 200
---
> #line 225
9359c9403
< #line 202
---
> #line 227
9361c9405
< #line 202
---
> #line 227
9363c9407
< #line 202
---
> #line 227
9365c9409
< #line 202
---
> #line 227
9367c9411
< #line 202
---
> #line 227
9369c9413
< #line 202
---
> #line 227
9372c9416
< #line 203
---
> #line 228
9374c9418
< #line 203
---
> #line 228
9376c9420
< #line 203
---
> #line 228
9378c9422
< #line 203
---
> #line 228
9380c9424
< #line 203
---
> #line 228
9382c9426
< #line 203
---
> #line 228
9385c9429
< #line 204
---
> #line 229
9387c9431
< #line 204
---
> #line 229
9389c9433
< #line 204
---
> #line 229
9391c9435
< #line 204
---
> #line 229
9393c9437
< #line 204
---
> #line 229
9395c9439
< #line 204
---
> #line 229
9398c9442
< #line 205
---
> #line 230
9400c9444
< #line 205
---
> #line 230
9402c9446
< #line 205
---
> #line 230
9404c9448
< #line 205
---
> #line 230
9406c9450
< #line 205
---
> #line 230
9408c9452
< #line 205
---
> #line 230
9411c9455
< #line 206
---
> #line 231
9413c9457
< #line 206
---
> #line 231
9415c9459
< #line 206
---
> #line 231
9417c9461
< #line 206
---
> #line 231
9419c9463
< #line 206
---
> #line 231
9421c9465
< #line 206
---
> #line 231
9424c9468
< #line 207
---
> #line 232
9426c9470
< #line 207
---
> #line 232
9428c9472
< #line 207
---
> #line 232
9430c9474
< #line 207
---
> #line 232
9432c9476
< #line 207
---
> #line 232
9434c9478
< #line 207
---
> #line 232
9437c9481
< #line 208
---
> #line 233
9439c9483
< #line 208
---
> #line 233
9441c9485
< #line 208
---
> #line 233
9443c9487
< #line 208
---
> #line 233
9445c9489
< #line 208
---
> #line 233
9447c9491
< #line 208
---
> #line 233
9450c9494
< #line 209
---
> #line 234
9452c9496
< #line 209
---
> #line 234
9454c9498
< #line 209
---
> #line 234
9456c9500
< #line 209
---
> #line 234
9458c9502
< #line 209
---
> #line 234
9460c9504
< #line 209
---
> #line 234
9463c9507
< #line 211
---
> #line 236
9465c9509
< #line 211
---
> #line 236
9467c9511
< #line 211
---
> #line 236
9469c9513
< #line 211
---
> #line 236
9471c9515
< #line 211
---
> #line 236
9475c9519
< #line 193
---
> #line 218
9479c9523
< #line 176
---
> #line 201
9482c9526
< #line 170
---
> #line 195
9484c9528
< #line 170
---
> #line 195
9486c9530
< #line 170
---
> #line 195
9488c9532
< #line 170
---
> #line 195
9491c9535
< #line 216
---
> #line 241
9493c9537
< #line 216
---
> #line 241
9495c9539
< #line 216
---
> #line 241
9498c9542
< #line 218
---
> #line 243
9500c9544
< #line 218
---
> #line 243
9502c9546
< #line 218
---
> #line 243
9504c9548
< #line 218
---
> #line 243
9508c9552
< #line 218
---
> #line 243
9511c9555
< #line 220
---
> #line 245
9513c9557
< #line 220
---
> #line 245
9515c9559
< #line 222
---
> #line 247
9517c9561
< #line 224
---
> #line 249
9519c9563
< #line 218
---
> #line 243
9521c9565
< #line 218
---
> #line 243
9524c9568
< #line 226
---
> #line 251
9528c9572
< #line 228 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 253 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9533d9576
<   u16 temp ;
9535a9579
>   u32 iir ;
9539c9583
< #line 230
---
> #line 255
9541c9585
< #line 231
---
> #line 256
9543c9587
< #line 235
---
> #line 260
9545c9589
< #line 236
---
> #line 261
9547,9551c9591,9600
< #line 238
<   temp = readw((dev_priv->mmio_map)->handle + 8356);
< #line 240
<   temp = (int )temp & (((1 << 1) | (1 << 7)) | (1 << 5));
< #line 244
---
> #line 263
>   if ((dev->pdev)->msi_enabled) {
> #line 264
>     writel(~ 0, (dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 265
>   iir = readl((dev_priv->mmio_map)->handle + 8356);
> #line 267
9553c9602
< #line 244
---
> #line 267
9555,9557c9604,9605
< #line 244
<       printk("<7>[drm:%s] %s flag=%08x\n", "i915_driver_irq_handler", "i915_driver_irq_handler",
<              temp);
---
> #line 267
>       printk("<7>[drm:%s] iir=%08x\n", "i915_driver_irq_handler", iir);
9561c9609
< #line 244
---
> #line 267
9564,9566c9612,9623
< #line 246
<   if ((int )temp == 0) {
< #line 247
---
> #line 269
>   if (iir == (u32 )0) {
> #line 270
>     if ((dev->pdev)->msi_enabled) {
> #line 271
>       writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 272
>       readl((dev_priv->mmio_map)->handle + 8360);
>     } else {
> 
>     }
> #line 274
9571,9577c9628,9639
< #line 249
<   writew(temp, (dev_priv->mmio_map)->handle + 8356);
< #line 250
<   readw((dev_priv->mmio_map)->handle + 8356);
< #line 251
<   __asm__  volatile   ("lfence": : : "memory");
< #line 253
---
> #line 277
>   writel(iir, (dev_priv->mmio_map)->handle + 8356);
> #line 278
>   if ((dev->pdev)->msi_enabled) {
> #line 279
>     writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
>   } else {
> 
>   }
> #line 280
>   readl((dev_priv->mmio_map)->handle + 8356);
> #line 282
9579,9581c9641,9643
< #line 255
<   if ((int )temp & (1 << 1)) {
< #line 256
---
> #line 284
>   if (iir & (unsigned int )(1 << 1)) {
> #line 285
9586,9588c9648,9650
< #line 258
<   if ((int )temp & ((1 << 7) | (1 << 5))) {
< #line 260
---
> #line 287
>   if (iir & (unsigned int )((1 << 7) | (1 << 5))) {
> #line 289
9590c9652
< #line 262
---
> #line 291
9592,9594c9654,9656
< #line 265
<       if ((int )temp & (1 << 7)) {
< #line 266
---
> #line 294
>       if (iir & (unsigned int )(1 << 7)) {
> #line 295
9599,9601c9661,9663
< #line 267
<       if ((int )temp & (1 << 5)) {
< #line 268
---
> #line 296
>       if (iir & (unsigned int )(1 << 5)) {
> #line 297
9607,9609c9669,9671
< #line 269
<     if (((int )temp & (1 << 7) && vblank_pipe & 1) || ((int )temp & (1 << 5) && vblank_pipe & 2)) {
< #line 273
---
> #line 298
>     if ((iir & (unsigned int )(1 << 7) && vblank_pipe & 1) || (iir & (unsigned int )(1 << 5) && vblank_pipe & 2)) {
> #line 302
9614c9676
< #line 275
---
> #line 304
9616c9678
< #line 276
---
> #line 305
9618c9680
< #line 278
---
> #line 307
9620c9682
< #line 279
---
> #line 308
9625c9687
< #line 280
---
> #line 309
9627c9689
< #line 283
---
> #line 312
9632c9694
< #line 288
---
> #line 317
9636c9698
< #line 291 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 320 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9647c9709
< #line 293
---
> #line 322
9649c9711
< #line 296
---
> #line 325
9651c9713
< #line 298
---
> #line 327
9653c9715
< #line 298
---
> #line 327
9655c9717
< #line 298
---
> #line 327
9660c9722
< #line 298
---
> #line 327
9663c9725
< #line 300
---
> #line 329
9665c9727
< #line 300
---
> #line 329
9667c9729
< #line 302
---
> #line 331
9669c9731
< #line 303
---
> #line 332
9671c9733
< #line 303
---
> #line 332
9673c9735
< #line 303
---
> #line 332
9678c9740
< #line 305
---
> #line 334
9680c9742
< #line 305
---
> #line 334
9682c9744
< #line 305
---
> #line 334
9687c9749
< #line 305
---
> #line 334
9689c9751
< #line 305
---
> #line 334
9691c9753
< #line 305
---
> #line 334
9693c9755
< #line 305
---
> #line 334
9695c9757
< #line 305
---
> #line 334
9698c9760
< #line 306
---
> #line 335
9700c9762
< #line 306
---
> #line 335
9702c9764
< #line 306
---
> #line 335
9704c9766
< #line 306
---
> #line 335
9706c9768
< #line 306
---
> #line 335
9708c9770
< #line 306
---
> #line 335
9711c9773
< #line 307
---
> #line 336
9713c9775
< #line 307
---
> #line 336
9715c9777
< #line 307
---
> #line 336
9717c9779
< #line 307
---
> #line 336
9719c9781
< #line 307
---
> #line 336
9721c9783
< #line 307
---
> #line 336
9724c9786
< #line 308
---
> #line 337
9726c9788
< #line 308
---
> #line 337
9728c9790
< #line 308
---
> #line 337
9730c9792
< #line 308
---
> #line 337
9732c9794
< #line 308
---
> #line 337
9734c9796
< #line 308
---
> #line 337
9737c9799
< #line 309
---
> #line 338
9739c9801
< #line 309
---
> #line 338
9741c9803
< #line 309
---
> #line 338
9743c9805
< #line 309
---
> #line 338
9745c9807
< #line 309
---
> #line 338
9747c9809
< #line 309
---
> #line 338
9750c9812
< #line 310
---
> #line 339
9752c9814
< #line 310
---
> #line 339
9754c9816
< #line 310
---
> #line 339
9756c9818
< #line 310
---
> #line 339
9758c9820
< #line 310
---
> #line 339
9760c9822
< #line 310
---
> #line 339
9763c9825
< #line 311
---
> #line 340
9765c9827
< #line 311
---
> #line 340
9767c9829
< #line 311
---
> #line 340
9769c9831
< #line 311
---
> #line 340
9771c9833
< #line 311
---
> #line 340
9773c9835
< #line 311
---
> #line 340
9776c9838
< #line 312
---
> #line 341
9778c9840
< #line 312
---
> #line 341
9780c9842
< #line 312
---
> #line 341
9782c9844
< #line 312
---
> #line 341
9784c9846
< #line 312
---
> #line 341
9787c9849
< #line 314
---
> #line 343
9791c9853,9944
< #line 317 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 346 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> static void i915_user_irq_get(struct drm_device *dev ) 
> { 
>   drm_i915_private_t *dev_priv ;
> 
>   {
> #line 348
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 350
>   _spin_lock(& dev_priv->user_irq_lock);
> #line 351
>   if (dev->irq_enabled) {
> #line 351
>     dev_priv->user_irq_refcount = dev_priv->user_irq_refcount + 1;
> #line 351
>     if (dev_priv->user_irq_refcount == 1) {
> #line 352
>       i915_enable_irq(dev_priv, 1 << 1);
>     } else {
> 
>     }
>   } else {
> 
>   }
> #line 353
>   _spin_unlock(& dev_priv->user_irq_lock);
> #line 354
>   return;
> }
> }
> #line 356 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> static void i915_user_irq_put(struct drm_device *dev ) 
> { 
>   drm_i915_private_t *dev_priv ;
>   long tmp ;
> 
>   {
> #line 358
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 360
>   _spin_lock(& dev_priv->user_irq_lock);
> #line 361
>   while (1) {
> #line 361
>     tmp = __builtin_expect(! (! (dev->irq_enabled && dev_priv->user_irq_refcount <= 0)),
>                            0);
> #line 361
>     if (tmp) {
> #line 361
>       while (1) {
> #line 361
>         __asm__  volatile   ("1:\tud2\n"
>                              ".pushsection __bug_table,\"a\"\n"
>                              "2:\t.quad 1b, %c0\n"
>                              "\t.word %c1, 0\n"
>                              "\t.org 2b+%c2\n"
>                              ".popsection": : "i" ("/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"),
>                              "i" (361), "i" (sizeof(struct bug_entry )));
> #line 361
>         while (1) {
> 
>         }
> #line 361
>         break;
>       }
>     } else {
> 
>     }
> #line 361
>     break;
>   }
> #line 362
>   if (dev->irq_enabled) {
> #line 362
>     dev_priv->user_irq_refcount = dev_priv->user_irq_refcount - 1;
> #line 362
>     if (dev_priv->user_irq_refcount == 0) {
> #line 363
>       i915_disable_irq(dev_priv, 1 << 1);
>     } else {
> 
>     }
>   } else {
> 
>   }
> #line 364
>   _spin_unlock(& dev_priv->user_irq_lock);
> #line 365
>   return;
> }
> }
> #line 367 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9805c9958
< #line 319
---
> #line 369
9807c9960
< #line 320
---
> #line 370
9809c9962
< #line 322
---
> #line 372
9811c9964
< #line 322
---
> #line 372
9813c9966
< #line 322
---
> #line 372
9818c9971
< #line 322
---
> #line 372
9821c9974
< #line 325
---
> #line 375
9823c9976,9978
< #line 326
---
> #line 376
>     (dev_priv->sarea_priv)->last_dispatch = *((u32 volatile   *)dev_priv->hw_status_page + 5);
> #line 377
9828c9983
< #line 328
---
> #line 380
9830c9985,9987
< #line 330
---
> #line 382
>   i915_user_irq_get(dev);
> #line 383
9832c9989
< #line 330
---
> #line 383
9834c9991
< #line 330
---
> #line 383
9836c9993
< #line 330
---
> #line 383
9838c9995
< #line 330
---
> #line 383
9840c9997
< #line 330
---
> #line 383
9842c9999
< #line 330
---
> #line 383
9844c10001
< #line 330
---
> #line 383
9846c10003
< #line 330
---
> #line 383
9848c10005
< #line 330
---
> #line 383
9850c10007
< #line 330
---
> #line 383
9852c10009
< #line 330
---
> #line 383
9854c10011
< #line 330
---
> #line 383
9856c10013
< #line 330
---
> #line 383
9859c10016
< #line 330
---
> #line 383
9861c10018
< #line 330
---
> #line 383
9866c10023
< #line 330
---
> #line 383
9868c10025
< #line 330
---
> #line 383
9870c10027
< #line 330
---
> #line 383
9875c10032
< #line 330
---
> #line 383
9877c10034
< #line 330
---
> #line 383
9879c10036
< #line 330
---
> #line 383
9881c10038
< #line 330
---
> #line 383
9883c10040
< #line 330
---
> #line 383
9885c10042
< #line 330
---
> #line 383
9891c10048
< #line 330
---
> #line 383
9893c10050
< #line 330
---
> #line 383
9895c10052
< #line 330
---
> #line 383
9897c10054
< #line 330
---
> #line 383
9900c10057
< #line 330
---
> #line 383
9902c10059
< #line 330
---
> #line 383
9905c10062,10064
< #line 333
---
> #line 385
>   i915_user_irq_put(dev);
> #line 387
9907c10066
< #line 334
---
> #line 388
9913c10072
< #line 338
---
> #line 392
9915c10074
< #line 339
---
> #line 393
9919c10078
< #line 342 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 396 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9935c10094
< #line 345
---
> #line 399
9937c10096
< #line 347
---
> #line 401
9939c10098
< #line 349
---
> #line 403
9941c10100
< #line 350
---
> #line 404
9943c10102
< #line 351
---
> #line 405
9948c10107
< #line 354
---
> #line 408
9950c10109
< #line 354
---
> #line 408
9952c10111
< #line 354
---
> #line 408
9954c10113
< #line 354
---
> #line 408
9956c10115
< #line 354
---
> #line 408
9958c10117
< #line 354
---
> #line 408
9960c10119
< #line 354
---
> #line 408
9962c10121
< #line 354
---
> #line 408
9964c10123
< #line 354
---
> #line 408
9966c10125
< #line 354
---
> #line 408
9968c10127
< #line 354
---
> #line 408
9970c10129
< #line 354
---
> #line 408
9972c10131
< #line 354
---
> #line 408
9974c10133
< #line 354
---
> #line 408
9977c10136
< #line 354
---
> #line 408
9979c10138
< #line 354
---
> #line 408
9981c10140
< #line 354
---
> #line 408
9986c10145
< #line 354
---
> #line 408
9988c10147
< #line 354
---
> #line 408
9990c10149
< #line 354
---
> #line 408
9995c10154
< #line 354
---
> #line 408
9997c10156
< #line 354
---
> #line 408
9999c10158
< #line 354
---
> #line 408
10001c10160
< #line 354
---
> #line 408
10003c10162
< #line 354
---
> #line 408
10005c10164
< #line 354
---
> #line 408
10011c10170
< #line 354
---
> #line 408
10013c10172
< #line 354
---
> #line 408
10015c10174
< #line 354
---
> #line 408
10017c10176
< #line 354
---
> #line 408
10020c10179
< #line 354
---
> #line 408
10022c10181
< #line 354
---
> #line 408
10025c10184
< #line 358
---
> #line 412
10027c10186
< #line 360
---
> #line 414
10031c10190
< #line 364 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 418 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10037c10196
< #line 366
---
> #line 420
10039c10198
< #line 366
---
> #line 420
10043c10202
< #line 369 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 423 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10049c10208
< #line 371
---
> #line 425
10051c10210
< #line 371
---
> #line 425
10055c10214
< #line 376 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 430 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10064c10223
< #line 379
---
> #line 433
10066c10225
< #line 380
---
> #line 434
10068c10227
< #line 383
---
> #line 437
10070c10229
< #line 383
---
> #line 437
10072c10231
< #line 383
---
> #line 437
10076c10235
< #line 383
---
> #line 437
10081c10240
< #line 383
---
> #line 437
10084c10243
< #line 385
---
> #line 439
10086c10245
< #line 386
---
> #line 440
10088c10247
< #line 387
---
> #line 441
10093c10252
< #line 390
---
> #line 444
10095c10254
< #line 392
---
> #line 446
10097c10256
< #line 392
---
> #line 446
10099c10258
< #line 393
---
> #line 447
10101c10260
< #line 394
---
> #line 448
10106c10265
< #line 397
---
> #line 451
10110c10269
< #line 402 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 456 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10118c10277
< #line 405
---
> #line 459
10120c10279
< #line 406
---
> #line 460
10122c10281
< #line 408
---
> #line 462
10124c10283
< #line 409
---
> #line 463
10126c10285
< #line 410
---
> #line 464
10131c10290
< #line 413
---
> #line 467
10133c10292
< #line 413
---
> #line 467
10137,10168c10296
< #line 416 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< static void i915_enable_interrupt(struct drm_device *dev ) 
< { 
<   drm_i915_private_t *dev_priv ;
<   u16 flag ;
< 
<   {
< #line 418
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
< #line 421
<   flag = 0;
< #line 422
<   if (dev_priv->vblank_pipe & 1) {
< #line 423
<     flag = (int )flag | (1 << 7);
<   } else {
< 
<   }
< #line 424
<   if (dev_priv->vblank_pipe & 2) {
< #line 425
<     flag = (int )flag | (1 << 5);
<   } else {
< 
<   }
< #line 427
<   writew((1 << 1) | (int )flag, (dev_priv->mmio_map)->handle + 8352);
< #line 428
<   return;
< }
< }
< #line 432 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 472 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10172a10301,10302
>   u32 enable_mask ;
>   u32 disable_mask ;
10175c10305
< #line 435
---
> #line 475
10177c10307
< #line 436
---
> #line 476
10179c10309,10313
< #line 438
---
> #line 477
>   enable_mask = 0;
> #line 477
>   disable_mask = 0;
> #line 479
10181c10315
< #line 439
---
> #line 480
10183c10317
< #line 440
---
> #line 481
10188c10322
< #line 443
---
> #line 484
10190c10324
< #line 444
---
> #line 485
10193c10327
< #line 445
---
> #line 486
10198c10332,10352
< #line 448
---
> #line 489
>   if (pipe->pipe & 1) {
> #line 490
>     enable_mask = enable_mask | (unsigned int )(1 << 7);
>   } else {
> #line 492
>     disable_mask = disable_mask | (unsigned int )(1 << 7);
>   }
> #line 494
>   if (pipe->pipe & 2) {
> #line 495
>     enable_mask = enable_mask | (unsigned int )(1 << 5);
>   } else {
> #line 497
>     disable_mask = disable_mask | (unsigned int )(1 << 5);
>   }
> #line 499
>   i915_enable_irq(dev_priv, enable_mask);
> #line 500
>   i915_disable_irq(dev_priv, disable_mask);
> #line 502
10200,10202c10354
< #line 450
<   i915_enable_interrupt(dev);
< #line 452
---
> #line 504
10206c10358
< #line 455 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 507 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10215c10367
< #line 458
---
> #line 510
10217c10369
< #line 459
---
> #line 511
10219c10371
< #line 462
---
> #line 514
10221c10373
< #line 463
---
> #line 515
10223c10375
< #line 464
---
> #line 516
10228,10230c10380,10382
< #line 467
<   tmp = readl((dev_priv->mmio_map)->handle + 8352);
< #line 467
---
> #line 519
>   tmp = readl((dev_priv->mmio_map)->handle + 8360);
> #line 519
10232c10384
< #line 468
---
> #line 520
10234c10386
< #line 469
---
> #line 521
10236c10388
< #line 470
---
> #line 522
10241c10393
< #line 471
---
> #line 523
10243c10395
< #line 472
---
> #line 524
10248c10400
< #line 474
---
> #line 526
10252c10404
< #line 480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 532 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10268c10420
< #line 483
---
> #line 535
10270c10422
< #line 484
---
> #line 536
10272c10424
< #line 490
---
> #line 542
10274c10426
< #line 491
---
> #line 543
10277c10429
< #line 492
---
> #line 544
10282c10434
< #line 495
---
> #line 547
10284c10436
< #line 496
---
> #line 548
10286c10438
< #line 496
---
> #line 548
10288c10440
< #line 496
---
> #line 548
10293c10445
< #line 496
---
> #line 548
10296c10448
< #line 497
---
> #line 549
10301c10453
< #line 500
---
> #line 552
10303c10455
< #line 502
---
> #line 554
10306c10458
< #line 503
---
> #line 555
10311c10463
< #line 506
---
> #line 558
10313c10465
< #line 508
---
> #line 560
10315c10467
< #line 510
---
> #line 562
10317c10469
< #line 511
---
> #line 563
10319c10471
< #line 512
---
> #line 564
10324c10476
< #line 515
---
> #line 567
10326c10478
< #line 515
---
> #line 567
10328c10480
< #line 515
---
> #line 567
10331c10483
< #line 517
---
> #line 569
10333c10485
< #line 517
---
> #line 569
10337c10489
< #line 518
---
> #line 570
10339c10491
< #line 518
---
> #line 570
10341c10493
< #line 518
---
> #line 570
10344c10496
< #line 519
---
> #line 571
10346c10498
< #line 519
---
> #line 571
10348c10500
< #line 519
---
> #line 571
10353c10505
< #line 519
---
> #line 571
10356c10508
< #line 520
---
> #line 572
10359c10511
< #line 523
---
> #line 575
10361c10513
< #line 523
---
> #line 575
10363c10515
< #line 523
---
> #line 575
10366c10518
< #line 525
---
> #line 577
10368c10520
< #line 527
---
> #line 579
10370c10522
< #line 528
---
> #line 580
10375c10527
< #line 530
---
> #line 582
10377c10529
< #line 531
---
> #line 583
10379c10531
< #line 532
---
> #line 584
10382c10534
< #line 534
---
> #line 586
10384c10536
< #line 534
---
> #line 586
10386c10538
< #line 534
---
> #line 586
10391c10543
< #line 534
---
> #line 586
10394c10546
< #line 535
---
> #line 587
10400c10552
< #line 539
---
> #line 591
10402c10554
< #line 539
---
> #line 591
10404c10556
< #line 539
---
> #line 591
10407c10559
< #line 541
---
> #line 593
10409c10561
< #line 541
---
> #line 593
10411c10563
< #line 541
---
> #line 593
10413c10565
< #line 541
---
> #line 593
10417c10569
< #line 541
---
> #line 593
10420c10572
< #line 542
---
> #line 594
10422c10574
< #line 542
---
> #line 594
10424c10576
< #line 544
---
> #line 596
10426c10578
< #line 547
---
> #line 599
10428c10580
< #line 547
---
> #line 599
10430c10582
< #line 547
---
> #line 599
10433c10585
< #line 548
---
> #line 600
10435c10587
< #line 548
---
> #line 600
10437c10589
< #line 548
---
> #line 600
10442c10594
< #line 548
---
> #line 600
10445c10597
< #line 549
---
> #line 601
10450c10602
< #line 541
---
> #line 593
10453c10605
< #line 553
---
> #line 605
10455c10607
< #line 553
---
> #line 605
10457c10609
< #line 553
---
> #line 605
10460c10612
< #line 555
---
> #line 607
10462c10614
< #line 556
---
> #line 608
10464c10616
< #line 556
---
> #line 608
10466c10618
< #line 556
---
> #line 608
10471c10623
< #line 556
---
> #line 608
10474c10626
< #line 557
---
> #line 609
10479c10631
< #line 560
---
> #line 612
10481c10633
< #line 560
---
> #line 612
10483c10635
< #line 562
---
> #line 614
10485c10637
< #line 563
---
> #line 615
10487c10639
< #line 564
---
> #line 616
10492c10644
< #line 567
---
> #line 619
10494c10646
< #line 567
---
> #line 619
10496c10648
< #line 567
---
> #line 619
10501c10653
< #line 567
---
> #line 619
10504c10656
< #line 569
---
> #line 621
10506c10658
< #line 570
---
> #line 622
10508c10660
< #line 571
---
> #line 623
10510c10662
< #line 573
---
> #line 625
10512c10664
< #line 573
---
> #line 625
10514c10666
< #line 573
---
> #line 625
10517c10669
< #line 575
---
> #line 627
10519c10671
< #line 576
---
> #line 628
10521c10673
< #line 578
---
> #line 630
10523c10675
< #line 578
---
> #line 630
10525c10677
< #line 578
---
> #line 630
10528c10680
< #line 580
---
> #line 632
10532c10684
< #line 585 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 637 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10538c10690
< #line 587
---
> #line 639
10540,10546c10692,10698
< #line 589
<   writew(65534, (dev_priv->mmio_map)->handle + 8344);
< #line 590
<   writew(0, (dev_priv->mmio_map)->handle + 8360);
< #line 591
<   writew(0, (dev_priv->mmio_map)->handle + 8352);
< #line 592
---
> #line 641
>   writel(65534, (dev_priv->mmio_map)->handle + 8344);
> #line 642
>   writel(0, (dev_priv->mmio_map)->handle + 8360);
> #line 643
>   writel(0, (dev_priv->mmio_map)->handle + 8352);
> #line 644
10550,10552c10702,10704
< #line 598 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< static struct lock_class_key __key___1  ;
< #line 594 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 650 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> static struct lock_class_key __key___2  ;
> #line 646 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10558c10710
< #line 596
---
> #line 648
10560c10712
< #line 598
---
> #line 650
10562,10564c10714,10716
< #line 598
<     __spin_lock_init(& dev_priv->swaps_lock, "&dev_priv->swaps_lock", & __key___1);
< #line 598
---
> #line 650
>     __spin_lock_init(& dev_priv->swaps_lock, "&dev_priv->swaps_lock", & __key___2);
> #line 650
10567c10719
< #line 599
---
> #line 651
10569c10721
< #line 600
---
> #line 652
10571c10723
< #line 602
---
> #line 654
10573c10725
< #line 603
---
> #line 655
10578,10580c10730,10752
< #line 604
<   i915_enable_interrupt(dev);
< #line 605
---
> #line 658
>   dev_priv->irq_mask_reg = ~ 0;
> #line 659
>   if (dev_priv->vblank_pipe & 1) {
> #line 660
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 7));
>   } else {
> 
>   }
> #line 661
>   if (dev_priv->vblank_pipe & 2) {
> #line 662
>     dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 5));
>   } else {
> 
>   }
> #line 664
>   writel(dev_priv->irq_mask_reg, (dev_priv->mmio_map)->handle + 8360);
> #line 665
>   writel(((1 << 1) | (1 << 7)) | (1 << 5), (dev_priv->mmio_map)->handle + 8352);
> #line 666
>   readl((dev_priv->mmio_map)->handle + 8352);
> #line 668
10582c10754
< #line 606
---
> #line 669
10586c10758
< #line 608 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 671 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/15/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10590a10763
>   unsigned int tmp ;
10593c10766
< #line 610
---
> #line 673
10595c10768
< #line 613
---
> #line 676
10597c10770
< #line 614
---
> #line 677
10602,10612c10775,10787
< #line 616
<   writew(65535, (dev_priv->mmio_map)->handle + 8344);
< #line 617
<   writew(65535, (dev_priv->mmio_map)->handle + 8360);
< #line 618
<   writew(0, (dev_priv->mmio_map)->handle + 8352);
< #line 620
<   temp = readw((dev_priv->mmio_map)->handle + 8356);
< #line 621
<   writew(temp, (dev_priv->mmio_map)->handle + 8356);
< #line 622
---
> #line 679
>   writel(65535, (dev_priv->mmio_map)->handle + 8344);
> #line 680
>   writel(65535, (dev_priv->mmio_map)->handle + 8360);
> #line 681
>   writel(0, (dev_priv->mmio_map)->handle + 8352);
> #line 683
>   tmp = readl((dev_priv->mmio_map)->handle + 8356);
> #line 683
>   temp = tmp;
> #line 684
>   writel(temp, (dev_priv->mmio_map)->handle + 8356);
> #line 685
