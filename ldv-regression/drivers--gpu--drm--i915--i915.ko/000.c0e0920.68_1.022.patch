4366c4366
< #line 1788 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1789 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13418a13419,13420
> #line 149
>     return (ret);
13422c13424
< #line 151
---
> #line 152
13424c13426
< #line 153
---
> #line 154
13426,13427d13427
< #line 155
<   if ((uint64_t )read != args->size) {
13429c13429
<     drm_gem_object_unreference(obj);
---
>   if ((uint64_t )read != args->size) {
13431c13431
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
13433c13433
<     if (read < (ssize_t )0) {
---
>     mutex_unlock(& dev->struct_mutex);
13434a13435,13436
>     if (read < (ssize_t )0) {
> #line 160
13437c13439
< #line 161
---
> #line 162
13443,13444d13444
< #line 164
<   drm_gem_object_unreference(obj);
13445a13446,13447
>   drm_gem_object_unreference(obj);
> #line 166
13447c13449
< #line 167
---
> #line 168
13451c13453
< #line 170 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 171 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13475c13477
< #line 175
---
> #line 176
13477c13479
< #line 182
---
> #line 183
13479,13480d13480
< #line 186
<   user_data = (char *)((uintptr_t )args->data_ptr);
13482c13482
<   remain = args->size;
---
>   user_data = (char *)((uintptr_t )args->data_ptr);
13483a13484,13485
>   remain = args->size;
> #line 189
13485c13487
< #line 188
---
> #line 189
13488c13490
< #line 188
---
> #line 189
13490c13492
< #line 188
---
> #line 189
13493c13495
< #line 188
---
> #line 189
13496c13498
< #line 188
---
> #line 189
13498c13500
< #line 188
---
> #line 189
13502c13504
< #line 189
---
> #line 190
13505,13506d13506
< #line 192
<   mutex_lock_nested(& dev->struct_mutex, 0);
13508c13508
<   ret = i915_gem_object_pin(obj, 0);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
13510c13510
<   if (ret) {
---
>   ret = i915_gem_object_pin(obj, 0);
13512c13512
<     mutex_unlock(& dev->struct_mutex);
---
>   if (ret) {
13513a13514,13515
>     mutex_unlock(& dev->struct_mutex);
> #line 197
13518c13520
< #line 198
---
> #line 199
13520,13521d13521
< #line 200
<   if (ret) {
13522a13523,13524
>   if (ret) {
> #line 202
13527,13528d13528
< #line 203
<   obj_priv = obj->driver_private;
13530c13530
<   offset = (uint64_t )obj_priv->gtt_offset + args->offset;
---
>   obj_priv = obj->driver_private;
13531a13532,13533
>   offset = (uint64_t )obj_priv->gtt_offset + args->offset;
> #line 206
13533c13535
< #line 207
---
> #line 208
13535c13537
< #line 207
---
> #line 208
13539c13541
< #line 207
---
> #line 208
13542,13543d13543
< #line 214
<     i = offset >> 12;
13545c13545
<     o = offset & (long long )((1UL << 12) - 1UL);
---
>     i = offset >> 12;
13547c13547
<     l = remain;
---
>     o = offset & (long long )((1UL << 12) - 1UL);
13549c13549
<     if ((unsigned long )(o + l) > 1UL << 12) {
---
>     l = remain;
13550a13551,13552
>     if ((unsigned long )(o + l) > 1UL << 12) {
> #line 219
13555c13557
< #line 220
---
> #line 221
13557c13559
< #line 241
---
> #line 242
13559c13561
< #line 241
---
> #line 242
13561,13562d13562
< #line 247
<     if ((unsigned long )vaddr == (unsigned long )((void *)0)) {
13564c13564
<       ret = -14;
---
>     if ((unsigned long )vaddr == (unsigned long )((void *)0)) {
13565a13566,13567
>       ret = -14;
> #line 250
13570c13572
< #line 251
---
> #line 252
13572c13574
< #line 251
---
> #line 252
13574,13575d13575
< #line 255
<     iounmap(vaddr);
13577c13577
<     if (unwritten) {
---
>     iounmap(vaddr);
13579c13579
<       ret = -14;
---
>     if (unwritten) {
13580a13581,13582
>       ret = -14;
> #line 259
13585,13586d13586
< #line 262
<     remain = remain - (ssize_t )l;
13588c13588
<     user_data = user_data + l;
---
>     remain = remain - (ssize_t )l;
13589a13590,13591
>     user_data = user_data + l;
> #line 265
13593,13594d13594
< #line 273
<   i915_gem_object_unpin(obj);
13595a13596,13597
>   i915_gem_object_unpin(obj);
> #line 275
13597c13599
< #line 276
---
> #line 277
13601c13603
< #line 279 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 280 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13610c13612
< #line 288
---
> #line 289
13612c13614
< #line 290
---
> #line 291
13614,13615d13615
< #line 292
<   if (ret) {
13617c13617
<     mutex_unlock(& dev->struct_mutex);
---
>   if (ret) {
13618a13619,13620
>     mutex_unlock(& dev->struct_mutex);
> #line 295
13623c13625
< #line 297
---
> #line 298
13625c13627
< #line 299
---
> #line 300
13628,13629d13629
< #line 302
<   if ((uint64_t )written != args->size) {
13631c13631
<     mutex_unlock(& dev->struct_mutex);
---
>   if ((uint64_t )written != args->size) {
13633c13633
<     if (written < (ssize_t )0) {
---
>     mutex_unlock(& dev->struct_mutex);
13634a13635,13636
>     if (written < (ssize_t )0) {
> #line 306
13637c13639
< #line 307
---
> #line 308
13643c13645
< #line 310
---
> #line 311
13645c13647
< #line 312
---
> #line 313
13649c13651
< #line 320 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 321 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13658c13660
< #line 324
---
> #line 325
13660c13662
< #line 327
---
> #line 328
13662,13663d13663
< #line 329
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13665c13665
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13666a13667,13668
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 332
13671c13673
< #line 332
---
> #line 333
13673c13675
< #line 338
---
> #line 339
13675,13676d13676
< #line 340
<     drm_gem_object_unreference(obj);
13677a13678,13679
>     drm_gem_object_unreference(obj);
> #line 342
13682c13684
< #line 350
---
> #line 351
13684c13686
< #line 352
---
> #line 353
13687c13689
< #line 354
---
> #line 355
13690c13692
< #line 361
---
> #line 362
13692c13694
< #line 363
---
> #line 364
13696c13698
< #line 369 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 370 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13704c13706
< #line 373
---
> #line 374
13706,13707d13707
< #line 377
<   if (! ((dev->driver)->driver_features & 4096U)) {
13708a13709,13710
>   if (! ((dev->driver)->driver_features & 4096U)) {
> #line 379
13713,13714d13714
< #line 380
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13716c13716
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13717a13718,13719
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 383
13722c13724
< #line 384
---
> #line 385
13724c13726
< #line 389
---
> #line 390
13726,13727d13727
< #line 391
<   drm_gem_object_unreference(obj);
13729c13729
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
13730a13731,13732
>   mutex_unlock(& dev->struct_mutex);
> #line 394
13734c13736
< #line 399 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 400 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13743c13745
< #line 403
---
> #line 404
13745c13747
< #line 406
---
> #line 407
13747,13748d13748
< #line 408
<   if (! ((dev->driver)->driver_features & 4096U)) {
13749a13750,13751
>   if (! ((dev->driver)->driver_features & 4096U)) {
> #line 410
13754,13755d13755
< #line 411
<   mutex_lock_nested(& dev->struct_mutex, 0);
13757c13757
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
13759c13759
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13761c13761
<     mutex_unlock(& dev->struct_mutex);
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
13762a13763,13764
>     mutex_unlock(& dev->struct_mutex);
> #line 416
13767c13769
< #line 422
---
> #line 423
13769,13770d13770
< #line 425
<   if (obj->write_domain & 1U && obj_priv->pin_count) {
13772c13772
<     i915_gem_clflush_object(obj);
---
>   if (obj->write_domain & 1U && obj_priv->pin_count) {
13773a13774,13775
>     i915_gem_clflush_object(obj);
> #line 428
13778,13779d13779
< #line 429
<   drm_gem_object_unreference(obj);
13781c13781
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
13782a13783,13784
>   mutex_unlock(& dev->struct_mutex);
> #line 432
13786c13788
< #line 441 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 442 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13798c13800
< #line 445
---
> #line 446
13800,13801d13801
< #line 450
<   if (! ((dev->driver)->driver_features & 4096U)) {
13802a13803,13804
>   if (! ((dev->driver)->driver_features & 4096U)) {
> #line 452
13807,13808d13808
< #line 453
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13810c13810
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
13811a13812,13813
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 456
13816c13818
< #line 457
---
> #line 458
13818c13820
< #line 459
---
> #line 460
13820,13821d13821
< #line 459
<   down_write(& (tmp->mm)->mmap_sem);
13822a13823,13824
>   down_write(& (tmp->mm)->mmap_sem);
> #line 461
13824c13826
< #line 463
---
> #line 464
13826,13827d13827
< #line 463
<   up_write(& (tmp___0->mm)->mmap_sem);
13829c13829
<   mutex_lock_nested(& dev->struct_mutex, 0);
---
>   up_write(& (tmp___0->mm)->mmap_sem);
13831c13831
<   drm_gem_object_unreference(obj);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
13833c13833
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
13834a13835,13836
>   mutex_unlock(& dev->struct_mutex);
> #line 468
13836,13837d13837
< #line 467
<   if (tmp___1) {
13838a13839,13840
>   if (tmp___1) {
> #line 469
13843c13845
< #line 470
---
> #line 471
13845c13847
< #line 472
---
> #line 473
13849c13851
< #line 475 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 476 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13857,13858d13858
< #line 478
<   obj_priv = obj->driver_private;
13859a13860,13861
>   obj_priv = obj->driver_private;
> #line 480
13861,13862d13862
< #line 482
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
13863a13864,13865
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
> #line 484
13868c13870
< #line 486
---
> #line 487
13870c13872
< #line 486
---
> #line 487
13872c13874
< #line 486
---
> #line 487
13876c13878
< #line 486
---
> #line 487
13879,13880d13880
< #line 487
<     if ((unsigned long )*(obj_priv->page_list + i) != (unsigned long )((void *)0)) {
13882c13882
<       if (obj_priv->dirty) {
---
>     if ((unsigned long )*(obj_priv->page_list + i) != (unsigned long )((void *)0)) {
13883a13884,13885
>       if (obj_priv->dirty) {
> #line 490
13888,13889d13889
< #line 490
<       mark_page_accessed(*(obj_priv->page_list + i));
13890a13891,13892
>       mark_page_accessed(*(obj_priv->page_list + i));
> #line 492
13895c13897
< #line 486
---
> #line 487
13898c13900
< #line 493
---
> #line 494
13900c13902
< #line 495
---
> #line 496
13903,13904d13904
< #line 498
<   obj_priv->page_list = (void *)0;
13905a13906,13907
>   obj_priv->page_list = (void *)0;
> #line 500
13909c13911
< #line 501 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 502 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13917,13918d13918
< #line 504
<   dev = obj->dev;
13920c13920
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
13921a13922,13923
>   dev_priv = dev->dev_private;
> #line 507
13923,13924d13924
< #line 509
<   if (! obj_priv->active) {
13926c13926
<     drm_gem_object_reference(obj);
---
>   if (! obj_priv->active) {
13927a13928,13929
>     drm_gem_object_reference(obj);
> #line 512
13932c13934
< #line 514
---
> #line 515
13934c13936
< #line 516
---
> #line 517
13938c13940
< #line 519 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 520 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13946,13947d13947
< #line 522
<   dev = obj->dev;
13949c13949
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
13950a13951,13952
>   dev_priv = dev->dev_private;
> #line 525
13952,13953d13953
< #line 527
<   if (obj_priv->pin_count != 0) {
13954a13955,13956
>   if (obj_priv->pin_count != 0) {
> #line 529
13957c13959
< #line 530
---
> #line 531
13960,13961d13961
< #line 532
<   if (obj_priv->active) {
13963c13963
<     obj_priv->active = 0;
---
>   if (obj_priv->active) {
13964a13965,13966
>     obj_priv->active = 0;
> #line 535
13969c13971
< #line 537
---
> #line 538
13973c13975
< #line 547 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 548 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
13987c13989
< #line 550
---
> #line 551
13989c13991
< #line 556
---
> #line 557
13991,13992d13992
< #line 556
<   request = tmp;
13994c13994
<   if ((unsigned long )request == (unsigned long )((void *)0)) {
---
>   request = tmp;
13995a13996,13997
>   if ((unsigned long )request == (unsigned long )((void *)0)) {
> #line 559
14000,14001d14001
< #line 563
<   seqno = dev_priv->mm.next_gem_seqno;
14003c14003
<   dev_priv->mm.next_gem_seqno = dev_priv->mm.next_gem_seqno + (uint32_t )1;
---
>   seqno = dev_priv->mm.next_gem_seqno;
14005c14005
<   if (dev_priv->mm.next_gem_seqno == (uint32_t )0) {
---
>   dev_priv->mm.next_gem_seqno = dev_priv->mm.next_gem_seqno + (uint32_t )1;
14006a14007,14008
>   if (dev_priv->mm.next_gem_seqno == (uint32_t )0) {
> #line 567
14011c14013
< #line 568
---
> #line 569
14013c14015
< #line 568
---
> #line 569
14015c14017
< #line 568
---
> #line 569
14020,14032d14021
< #line 568
<     outcount = 0;
< #line 568
<     outring = dev_priv->ring.tail;
< #line 568
<     ringmask = dev_priv->ring.tail_mask;
< #line 568
<     virt = dev_priv->ring.virtual_start;
< #line 568
<     break;
<   }
< #line 569
<   while (1) {
14034c14023
<     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
---
>     outcount = 0;
14036c14025
<     outcount = outcount + 1U;
---
>     outring = dev_priv->ring.tail;
14038c14027
<     outring = outring + 4U;
---
>     ringmask = dev_priv->ring.tail_mask;
14040c14029
<     outring = outring & ringmask;
---
>     virt = dev_priv->ring.virtual_start;
14047c14036
<     *((unsigned int volatile   *)(virt + outring)) = 16 << 2;
---
>     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
14060c14049
<     *((unsigned int volatile   *)(virt + outring)) = seqno;
---
>     *((unsigned int volatile   *)(virt + outring)) = 16 << 2;
14070c14059
< #line 573
---
> #line 572
14072,14074c14061,14063
< #line 573
<     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
< #line 573
---
> #line 572
>     *((unsigned int volatile   *)(virt + outring)) = seqno;
> #line 572
14076c14065
< #line 573
---
> #line 572
14078c14067
< #line 573
---
> #line 572
14080c14069
< #line 573
---
> #line 572
14086c14075
<     dev_priv->ring.tail = outring;
---
>     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
14088c14077
<     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>     outcount = outcount + 1U;
14090c14079,14081
<     writel(outring, dev_priv->regs + 8240);
---
>     outring = outring + 4U;
> #line 574
>     outring = outring & ringmask;
14094c14085
< #line 576
---
> #line 575
14096c14087,14098
< #line 576
---
> #line 575
>     dev_priv->ring.tail = outring;
> #line 575
>     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 575
>     writel(outring, dev_priv->regs + 8240);
> #line 575
>     break;
>   }
> #line 577
>   while (1) {
> #line 577
14098c14100
< #line 576
---
> #line 577
14103c14105
< #line 576
---
> #line 577
14106,14107d14107
< #line 578
<   request->seqno = seqno;
14109c14109
<   request->emitted_jiffies = jiffies;
---
>   request->seqno = seqno;
14111c14111
<   request->flush_domains = flush_domains;
---
>   request->emitted_jiffies = jiffies;
14113c14113
<   was_empty = list_empty(& dev_priv->mm.request_list);
---
>   request->flush_domains = flush_domains;
14114a14115,14116
>   was_empty = list_empty(& dev_priv->mm.request_list);
> #line 583
14116,14117d14117
< #line 584
<   if (was_empty) {
14118a14119,14120
>   if (was_empty) {
> #line 586
14123c14125
< #line 586
---
> #line 587
14127c14129
< #line 595 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 596 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14139,14140d14140
< #line 598
<   dev_priv = dev->dev_private;
14142c14142
<   cmd = ((4 << 23) | 0) | (1 << 2);
---
>   dev_priv = dev->dev_private;
14143a14144,14145
>   cmd = ((4 << 23) | 0) | (1 << 2);
> #line 601
14145,14146d14146
< #line 604
<   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
14147a14148,14149
>   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 606
14152c14154
< #line 606
---
> #line 607
14154c14156
< #line 606
---
> #line 607
14156c14158
< #line 606
---
> #line 607
14161,14173d14162
< #line 606
<     outcount = 0;
< #line 606
<     outring = dev_priv->ring.tail;
< #line 606
<     ringmask = dev_priv->ring.tail_mask;
< #line 606
<     virt = dev_priv->ring.virtual_start;
< #line 606
<     break;
<   }
< #line 607
<   while (1) {
14175c14164
<     *((unsigned int volatile   *)(virt + outring)) = cmd;
---
>     outcount = 0;
14177c14166
<     outcount = outcount + 1U;
---
>     outring = dev_priv->ring.tail;
14179c14168
<     outring = outring + 4U;
---
>     ringmask = dev_priv->ring.tail_mask;
14181c14170
<     outring = outring & ringmask;
---
>     virt = dev_priv->ring.virtual_start;
14188c14177
<     *((unsigned int volatile   *)(virt + outring)) = 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = cmd;
14201c14190
<     dev_priv->ring.tail = outring;
---
>     *((unsigned int volatile   *)(virt + outring)) = 0;
14203c14192
<     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>     outcount = outcount + 1U;
14205c14194,14196
<     writel(outring, dev_priv->regs + 8240);
---
>     outring = outring + 4U;
> #line 609
>     outring = outring & ringmask;
14209a14201,14211
>   while (1) {
> #line 610
>     dev_priv->ring.tail = outring;
> #line 610
>     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 610
>     writel(outring, dev_priv->regs + 8240);
> #line 610
>     break;
>   }
> #line 611
14213c14215
< #line 617 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 618 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14229c14231
< #line 621
---
> #line 622
14231c14233
< #line 626
---
> #line 627
14233c14235
< #line 626
---
> #line 627
14235c14237
< #line 626
---
> #line 627
14237c14239
< #line 626
---
> #line 627
14242c14244
< #line 630
---
> #line 631
14244c14246
< #line 630
---
> #line 631
14246c14248
< #line 633
---
> #line 634
14248,14249d14249
< #line 639
<     if (obj_priv->last_rendering_seqno != request->seqno) {
14250a14251,14252
>     if (obj_priv->last_rendering_seqno != request->seqno) {
> #line 641
14255,14256d14256
< #line 646
<     if (obj->write_domain != (uint32_t )0) {
14257a14258,14259
>     if (obj->write_domain != (uint32_t )0) {
> #line 648
14260c14262
< #line 650
---
> #line 651
14264c14266
< #line 654
---
> #line 655
14266c14268
< #line 660
---
> #line 661
14268c14270
< #line 660
---
> #line 661
14270c14272
< #line 660
---
> #line 661
14272c14274
< #line 660
---
> #line 661
14274c14276
< #line 660
---
> #line 661
14276c14278
< #line 660
---
> #line 661
14280c14282
< #line 660
---
> #line 661
14283c14285
< #line 662
---
> #line 663
14285,14286d14286
< #line 664
<       if (obj___0->write_domain & request->flush_domains) {
14288c14288
<         obj___0->write_domain = 0;
---
>       if (obj___0->write_domain & request->flush_domains) {
14289a14290,14291
>         obj___0->write_domain = 0;
> #line 667
14294c14296
< #line 660
---
> #line 661
14296c14298
< #line 660
---
> #line 661
14298c14300
< #line 660
---
> #line 661
14304c14306
< #line 671
---
> #line 672
14308c14310
< #line 676 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 677 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14314c14316
< #line 679
---
> #line 680
14318c14320
< #line 682 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 683 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14324c14326
< #line 685
---
> #line 686
14326c14328
< #line 687
---
> #line 688
14330c14332
< #line 693 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 694 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14342c14344
< #line 696
---
> #line 697
14344c14346
< #line 699
---
> #line 700
14346c14348
< #line 701
---
> #line 702
14348c14350
< #line 701
---
> #line 702
14350c14352
< #line 701
---
> #line 702
14352c14354
< #line 701
---
> #line 702
14357c14359
< #line 705
---
> #line 706
14359c14361
< #line 705
---
> #line 706
14361c14363
< #line 708
---
> #line 709
14363c14365
< #line 710
---
> #line 711
14365c14367
< #line 710
---
> #line 711
14367c14369
< #line 712
---
> #line 713
14369,14370d14370
< #line 714
<       list_del(& request->list);
14371a14372,14373
>       list_del(& request->list);
> #line 716
14374c14376
< #line 717
---
> #line 718
14378c14380
< #line 719
---
> #line 720
14382c14384
< #line 721 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 722 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14391c14393
< #line 727
---
> #line 728
14393c14395
< #line 727
---
> #line 728
14395c14397
< #line 729
---
> #line 730
14397,14398d14398
< #line 731
<   mutex_lock_nested(& dev->struct_mutex, 0);
14400c14400
<   i915_gem_retire_requests(dev);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
14401a14402,14403
>   i915_gem_retire_requests(dev);
> #line 734
14403c14405
< #line 733
---
> #line 734
14407c14409
< #line 734
---
> #line 735
14410,14411d14411
< #line 735
<   mutex_unlock(& dev->struct_mutex);
14412a14413,14414
>   mutex_unlock(& dev->struct_mutex);
> #line 737
14416c14418
< #line 742 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 743 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14436,14437d14437
< #line 745
<   dev_priv = dev->dev_private;
14438a14439,14440
>   dev_priv = dev->dev_private;
> #line 747
14440c14442
< #line 748
---
> #line 749
14442c14444
< #line 748
---
> #line 749
14444c14446
< #line 748
---
> #line 749
14446c14448
< #line 748
---
> #line 749
14448c14450
< #line 748
---
> #line 749
14455,14456c14457,14458
<                              "i" (748), "i" (sizeof(struct bug_entry )));
< #line 748
---
>                              "i" (749), "i" (sizeof(struct bug_entry )));
> #line 749
14460c14462
< #line 748
---
> #line 749
14466c14468
< #line 748
---
> #line 749
14469c14471
< #line 750
---
> #line 751
14471c14473
< #line 750
---
> #line 751
14473c14475
< #line 750
---
> #line 751
14477,14478d14478
< #line 751
<     dev_priv->mm.waiting_gem_seqno = seqno;
14480c14480
<     i915_user_irq_get(dev);
---
>     dev_priv->mm.waiting_gem_seqno = seqno;
14481a14482,14483
>     i915_user_irq_get(dev);
> #line 754
14483c14485
< #line 753
---
> #line 754
14485c14487
< #line 753
---
> #line 754
14487c14489
< #line 753
---
> #line 754
14491c14493
< #line 753
---
> #line 754
14493c14495
< #line 753
---
> #line 754
14495c14497
< #line 753
---
> #line 754
14497c14499
< #line 753
---
> #line 754
14499c14501
< #line 753
---
> #line 754
14501c14503
< #line 753
---
> #line 754
14503c14505
< #line 753
---
> #line 754
14505c14507
< #line 753
---
> #line 754
14507c14509
< #line 753
---
> #line 754
14509c14511
< #line 753
---
> #line 754
14511c14513
< #line 753
---
> #line 754
14513c14515
< #line 753
---
> #line 754
14515c14517
< #line 753
---
> #line 754
14520c14522
< #line 753
---
> #line 754
14522c14524
< #line 753
---
> #line 754
14524c14526
< #line 753
---
> #line 754
14528c14530
< #line 753
---
> #line 754
14530c14532
< #line 753
---
> #line 754
14533c14535
< #line 753
---
> #line 754
14535c14537
< #line 753
---
> #line 754
14539c14541
< #line 753
---
> #line 754
14541c14543
< #line 753
---
> #line 754
14545c14547
< #line 753
---
> #line 754
14547,14548d14548
< #line 757
<     i915_user_irq_put(dev);
14549a14550,14551
>     i915_user_irq_put(dev);
> #line 759
14552,14553d14553
< #line 760
<   if (dev_priv->mm.wedged) {
14554a14555,14556
>   if (dev_priv->mm.wedged) {
> #line 762
14559,14560d14560
< #line 763
<   if (ret && ret != -512) {
14561a14562,14563
>   if (ret && ret != -512) {
> #line 765
14563c14565
< #line 764
---
> #line 765
14569,14570d14570
< #line 772
<   if (ret == 0) {
14571a14572,14573
>   if (ret == 0) {
> #line 774
14576c14578
< #line 775
---
> #line 776
14580c14582
< #line 778 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 779 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14592c14594
< #line 783
---
> #line 784
14594,14595d14595
< #line 792
<   if (flush_domains & 1U) {
14596a14597,14598
>   if (flush_domains & 1U) {
> #line 794
14601c14603
< #line 795
---
> #line 796
14603,14604d14604
< #line 825
<     cmd = ((4 << 23) | 0) | (1 << 2);
14605a14606,14607
>     cmd = ((4 << 23) | 0) | (1 << 2);
> #line 827
14607c14609
< #line 828
---
> #line 829
14612c14614
< #line 829
---
> #line 830
14614,14615d14615
< #line 834
<       if (invalidate_domains & 4U) {
14616a14617,14618
>       if (invalidate_domains & 4U) {
> #line 836
14624,14625d14625
< #line 837
<     if (invalidate_domains & 16U) {
14626a14627,14628
>     if (invalidate_domains & 16U) {
> #line 839
14631c14633
< #line 843
---
> #line 844
14633c14635
< #line 843
---
> #line 844
14635c14637
< #line 843
---
> #line 844
14640,14652d14641
< #line 843
<       outcount = 0;
< #line 843
<       outring = dev_priv->ring.tail;
< #line 843
<       ringmask = dev_priv->ring.tail_mask;
< #line 843
<       virt = dev_priv->ring.virtual_start;
< #line 843
<       break;
<     }
< #line 844
<     while (1) {
14654c14643
<       *((unsigned int volatile   *)(virt + outring)) = cmd;
---
>       outcount = 0;
14656c14645
<       outcount = outcount + 1U;
---
>       outring = dev_priv->ring.tail;
14658c14647
<       outring = outring + 4U;
---
>       ringmask = dev_priv->ring.tail_mask;
14660c14649
<       outring = outring & ringmask;
---
>       virt = dev_priv->ring.virtual_start;
14667c14656
<       *((unsigned int volatile   *)(virt + outring)) = 0;
---
>       *((unsigned int volatile   *)(virt + outring)) = cmd;
14680c14669
<       dev_priv->ring.tail = outring;
---
>       *((unsigned int volatile   *)(virt + outring)) = 0;
14682c14671
<       dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>       outcount = outcount + 1U;
14684c14673,14675
<       writel(outring, dev_priv->regs + 8240);
---
>       outring = outring + 4U;
> #line 846
>       outring = outring & ringmask;
14687a14679,14689
> #line 847
>     while (1) {
> #line 847
>       dev_priv->ring.tail = outring;
> #line 847
>       dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 847
>       writel(outring, dev_priv->regs + 8240);
> #line 847
>       break;
>     }
14691c14693
< #line 848
---
> #line 849
14695c14697
< #line 854 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 855 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14705,14706d14706
< #line 857
<   dev = obj->dev;
14707a14708,14709
>   dev = obj->dev;
> #line 859
14709,14710d14710
< #line 864
<   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
14711a14712,14713
>   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
> #line 866
14713c14715
< #line 870
---
> #line 871
14715,14716d14716
< #line 872
<     i915_gem_object_move_to_active(obj);
14717a14718,14719
>     i915_gem_object_move_to_active(obj);
> #line 874
14719c14721
< #line 875
---
> #line 876
14721c14723
< #line 875
---
> #line 876
14724c14726
< #line 875
---
> #line 876
14726c14728
< #line 875
---
> #line 876
14728c14730
< #line 875
---
> #line 876
14735,14736c14737,14738
<                                "i" (875), "i" (sizeof(struct bug_entry )));
< #line 875
---
>                                "i" (876), "i" (sizeof(struct bug_entry )));
> #line 876
14740c14742
< #line 875
---
> #line 876
14746c14748
< #line 875
---
> #line 876
14752c14754
< #line 884
---
> #line 885
14754,14755d14755
< #line 889
<     ret = i915_wait_request(dev, obj_priv->last_rendering_seqno);
14757c14757
<     if (ret != 0) {
---
>     ret = i915_wait_request(dev, obj_priv->last_rendering_seqno);
14758a14759,14760
>     if (ret != 0) {
> #line 892
14766c14768
< #line 894
---
> #line 895
14770c14772
< #line 900 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 901 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14780,14781d14781
< #line 903
<   dev = obj->dev;
14783c14783
<   obj_priv = obj->driver_private;
---
>   dev = obj->dev;
14784a14785,14786
>   obj_priv = obj->driver_private;
> #line 906
14786,14787d14787
< #line 911
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
14788a14789,14790
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
> #line 913
14793,14794d14794
< #line 914
<   if (obj_priv->pin_count != 0) {
14796c14796
<     printk("<3>[drm:%s] *ERROR* Attempting to unbind pinned buffer\n", "i915_gem_object_unbind");
---
>   if (obj_priv->pin_count != 0) {
14797a14798,14799
>     printk("<3>[drm:%s] *ERROR* Attempting to unbind pinned buffer\n", "i915_gem_object_unbind");
> #line 917
14802,14803d14803
< #line 921
<   ret = i915_gem_object_wait_rendering(obj);
14805c14805
<   if (ret) {
---
>   ret = i915_gem_object_wait_rendering(obj);
14806a14807,14808
>   if (ret) {
> #line 924
14809c14811
< #line 924
---
> #line 925
14814c14816
< #line 933
---
> #line 934
14816,14817d14817
< #line 935
<   if (ret) {
14818a14819,14820
>   if (ret) {
> #line 937
14821c14823
< #line 937
---
> #line 938
14826,14827d14827
< #line 940
<   if ((unsigned long )obj_priv->agp_mem != (unsigned long )((void *)0)) {
14829c14829
<     drm_unbind_agp(obj_priv->agp_mem);
---
>   if ((unsigned long )obj_priv->agp_mem != (unsigned long )((void *)0)) {
14831c14831
<     drm_free_agp(obj_priv->agp_mem, obj->size / (1UL << 12));
---
>     drm_unbind_agp(obj_priv->agp_mem);
14832a14833,14834
>     drm_free_agp(obj_priv->agp_mem, obj->size / (1UL << 12));
> #line 944
14837c14839
< #line 946
---
> #line 947
14839c14841
< #line 946
---
> #line 947
14841c14843
< #line 946
---
> #line 947
14843c14845
< #line 946
---
> #line 947
14845c14847
< #line 946
---
> #line 947
14852,14853c14854,14855
<                              "i" (946), "i" (sizeof(struct bug_entry )));
< #line 946
---
>                              "i" (947), "i" (sizeof(struct bug_entry )));
> #line 947
14857c14859
< #line 946
---
> #line 947
14863c14865
< #line 946
---
> #line 947
14866c14868
< #line 948
---
> #line 949
14868,14869d14869
< #line 950
<   if (obj_priv->gtt_space) {
14871c14871
<     atomic_dec(& dev->gtt_count);
---
>   if (obj_priv->gtt_space) {
14872a14873,14874
>     atomic_dec(& dev->gtt_count);
> #line 953
14874,14875d14875
< #line 954
<     drm_mm_put_block(obj_priv->gtt_space);
14876a14877,14878
>     drm_mm_put_block(obj_priv->gtt_space);
> #line 956
14881c14883
< #line 959
---
> #line 960
14883c14885
< #line 959
---
> #line 960
14887c14889
< #line 960
---
> #line 961
14890c14892
< #line 962
---
> #line 963
14894c14896
< #line 965 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 966 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
14916c14918
< #line 968
---
> #line 969
14918c14920
< #line 971
---
> #line 972
14920c14922
< #line 973
---
> #line 974
14922c14924
< #line 977
---
> #line 978
14924c14926
< #line 977
---
> #line 978
14928c14930
< #line 978
---
> #line 979
14930c14932
< #line 978
---
> #line 979
14932,14933d14933
< #line 981
<       obj = obj_priv->obj;
14934a14935,14936
>       obj = obj_priv->obj;
> #line 983
14936c14938
< #line 982
---
> #line 983
14938c14940
< #line 982
---
> #line 983
14940c14942
< #line 982
---
> #line 983
14942c14944
< #line 982
---
> #line 983
14949,14950c14951,14952
<                                  "i" (982), "i" (sizeof(struct bug_entry )));
< #line 982
---
>                                  "i" (983), "i" (sizeof(struct bug_entry )));
> #line 983
14954c14956
< #line 982
---
> #line 983
14960c14962
< #line 982
---
> #line 983
14963c14965
< #line 986
---
> #line 987
14965c14967
< #line 986
---
> #line 987
14967c14969
< #line 986
---
> #line 987
14969c14971
< #line 986
---
> #line 987
14971c14973
< #line 986
---
> #line 987
14978,14979c14980,14981
<                                  "i" (986), "i" (sizeof(struct bug_entry )));
< #line 986
---
>                                  "i" (987), "i" (sizeof(struct bug_entry )));
> #line 987
14983c14985
< #line 986
---
> #line 987
14989c14991
< #line 986
---
> #line 987
14992,14993d14993
< #line 989
<       ret = i915_gem_object_unbind(obj);
14994a14995,14996
>       ret = i915_gem_object_unbind(obj);
> #line 991
14997c14999
< #line 997
---
> #line 998
14999c15001
< #line 997
---
> #line 998
15003c15005
< #line 1000
---
> #line 1001
15005c15007
< #line 1000
---
> #line 1001
15007,15008d15008
< #line 1004
<       ret = i915_wait_request(dev, request->seqno);
15010c15010
<       if (ret) {
---
>       ret = i915_wait_request(dev, request->seqno);
15011a15012,15013
>       if (ret) {
> #line 1007
15016c15018
< #line 1013
---
> #line 1014
15018c15020
< #line 1013
---
> #line 1014
15022c15024
< #line 1014
---
> #line 1015
15025c15027
< #line 1015
---
> #line 1016
15028c15030
< #line 1023
---
> #line 1024
15030c15032
< #line 1023
---
> #line 1024
15034c15036
< #line 1024
---
> #line 1025
15036c15038
< #line 1024
---
> #line 1025
15038c15040
< #line 1027
---
> #line 1028
15040c15042
< #line 1029
---
> #line 1030
15042c15044
< #line 1032
---
> #line 1033
15044,15045d15045
< #line 1034
<       obj = (void *)0;
15046a15047,15048
>       obj = (void *)0;
> #line 1036
15049c15051
< #line 1038
---
> #line 1039
15051c15053
< #line 1038
---
> #line 1039
15053c15055
< #line 1038
---
> #line 1039
15055c15057
< #line 1038
---
> #line 1039
15058c15060
< #line 1046
---
> #line 1047
15062c15064
< #line 1048
---
> #line 1049
15066c15068
< #line 1051 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1052 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15082c15084
< #line 1054
---
> #line 1055
15084,15085d15085
< #line 1061
<   if (obj_priv->page_list) {
15086a15087,15088
>   if (obj_priv->page_list) {
> #line 1063
15091,15092d15092
< #line 1067
<   page_count___0 = obj->size / (1UL << 12);
15093a15094,15095
>   page_count___0 = obj->size / (1UL << 12);
> #line 1069
15095c15097
< #line 1068
---
> #line 1069
15098c15100
< #line 1068
---
> #line 1069
15100c15102
< #line 1068
---
> #line 1069
15102c15104
< #line 1068
---
> #line 1069
15109,15110c15111,15112
<                              "i" (1068), "i" (sizeof(struct bug_entry )));
< #line 1068
---
>                              "i" (1069), "i" (sizeof(struct bug_entry )));
> #line 1069
15114c15116
< #line 1068
---
> #line 1069
15120c15122
< #line 1068
---
> #line 1069
15123c15125
< #line 1069
---
> #line 1070
15125c15127
< #line 1069
---
> #line 1070
15127,15128d15128
< #line 1071
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
15130c15130
<     printk("<3>[drm:%s] *ERROR* Faled to allocate page list\n", "i915_gem_object_get_page_list");
---
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
15131a15132,15133
>     printk("<3>[drm:%s] *ERROR* Faled to allocate page list\n", "i915_gem_object_get_page_list");
> #line 1074
15136,15137d15137
< #line 1076
<   inode = ((obj->filp)->f_path.dentry)->d_inode;
15139c15139
<   mapping = inode->i_mapping;
---
>   inode = ((obj->filp)->f_path.dentry)->d_inode;
15140a15141,15142
>   mapping = inode->i_mapping;
> #line 1079
15142c15144
< #line 1078
---
> #line 1079
15144c15146
< #line 1078
---
> #line 1079
15148c15150
< #line 1078
---
> #line 1079
15151,15152d15152
< #line 1079
<     page = read_mapping_page(mapping, i, (void *)0);
15153a15154,15155
>     page = read_mapping_page(mapping, i, (void *)0);
> #line 1081
15155,15156d15156
< #line 1080
<     if (tmp___2) {
15157a15158,15159
>     if (tmp___2) {
> #line 1082
15159,15160d15160
< #line 1081
<       ret = tmp___1;
15161a15162,15163
>       ret = tmp___1;
> #line 1083
15164,15165d15165
< #line 1083
<       i915_gem_object_free_page_list(obj);
15166a15167,15168
>       i915_gem_object_free_page_list(obj);
> #line 1085
15171c15173
< #line 1086
---
> #line 1087
15173c15175
< #line 1078
---
> #line 1079
15176c15178
< #line 1088
---
> #line 1089
15180c15182
< #line 1094 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1095 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15196,15197d15197
< #line 1097
<   dev = obj->dev;
15199c15199
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
15200a15201,15202
>   dev_priv = dev->dev_private;
> #line 1100
15202,15203d15203
< #line 1103
<   if (alignment == 0U) {
15204a15205,15206
>   if (alignment == 0U) {
> #line 1105
15209,15210d15210
< #line 1105
<   if ((unsigned long )alignment & ((1UL << 12) - 1UL)) {
15211a15212,15213
>   if ((unsigned long )alignment & ((1UL << 12) - 1UL)) {
> #line 1107
15214c15216
< #line 1107
---
> #line 1108
15220c15222
< #line 1111
---
> #line 1112
15223,15224d15224
< #line 1113
<   if ((unsigned long )free_space != (unsigned long )((void *)0)) {
15225a15226,15227
>   if ((unsigned long )free_space != (unsigned long )((void *)0)) {
> #line 1115
15227,15228d15228
< #line 1116
<     if ((unsigned long )obj_priv->gtt_space != (unsigned long )((void *)0)) {
15230c15230
<       (obj_priv->gtt_space)->private = obj;
---
>     if ((unsigned long )obj_priv->gtt_space != (unsigned long )((void *)0)) {
15231a15232,15233
>       (obj_priv->gtt_space)->private = obj;
> #line 1119
15239c15241
< #line 1121
---
> #line 1122
15241c15243
< #line 1128
---
> #line 1129
15243c15245
< #line 1128
---
> #line 1129
15245c15247
< #line 1128
---
> #line 1129
15247c15249
< #line 1128
---
> #line 1129
15249c15251
< #line 1128
---
> #line 1129
15251c15253
< #line 1128
---
> #line 1129
15253,15254d15254
< #line 1131
<           printk("<3>[drm:%s] *ERROR* GTT full, but LRU list empty\n", "i915_gem_object_bind_to_gtt");
15255a15256,15257
>           printk("<3>[drm:%s] *ERROR* GTT full, but LRU list empty\n", "i915_gem_object_bind_to_gtt");
> #line 1133
15266,15267d15267
< #line 1135
<     ret = i915_gem_evict_something(dev);
15269c15269
<     if (ret != 0) {
---
>     ret = i915_gem_evict_something(dev);
15270a15271,15272
>     if (ret != 0) {
> #line 1138
15273c15275
< #line 1138
---
> #line 1139
15278c15280
< #line 1140
---
> #line 1141
15283,15284d15284
< #line 1147
<   ret = i915_gem_object_get_page_list(obj);
15286c15286
<   if (ret) {
---
>   ret = i915_gem_object_get_page_list(obj);
15288c15288
<     drm_mm_put_block(obj_priv->gtt_space);
---
>   if (ret) {
15290c15290
<     obj_priv->gtt_space = (void *)0;
---
>     drm_mm_put_block(obj_priv->gtt_space);
15291a15292,15293
>     obj_priv->gtt_space = (void *)0;
> #line 1152
15296c15298
< #line 1154
---
> #line 1155
15298c15300
< #line 1158
---
> #line 1159
15301,15302d15302
< #line 1162
<   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
15304c15304
<     i915_gem_object_free_page_list(obj);
---
>   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
15306c15306
<     drm_mm_put_block(obj_priv->gtt_space);
---
>     i915_gem_object_free_page_list(obj);
15308c15308
<     obj_priv->gtt_space = (void *)0;
---
>     drm_mm_put_block(obj_priv->gtt_space);
15309a15310,15311
>     obj_priv->gtt_space = (void *)0;
> #line 1167
15314,15315d15315
< #line 1168
<   atomic_inc(& dev->gtt_count);
15316a15317,15318
>   atomic_inc(& dev->gtt_count);
> #line 1170
15318c15320
< #line 1175
---
> #line 1176
15320c15322
< #line 1175
---
> #line 1176
15323c15325
< #line 1175
---
> #line 1176
15325c15327
< #line 1175
---
> #line 1176
15327c15329
< #line 1175
---
> #line 1176
15334,15335c15336,15337
<                              "i" (1175), "i" (sizeof(struct bug_entry )));
< #line 1175
---
>                              "i" (1176), "i" (sizeof(struct bug_entry )));
> #line 1176
15339c15341
< #line 1175
---
> #line 1176
15345c15347
< #line 1175
---
> #line 1176
15348c15350
< #line 1176
---
> #line 1177
15350c15352
< #line 1176
---
> #line 1177
15353c15355
< #line 1176
---
> #line 1177
15355c15357
< #line 1176
---
> #line 1177
15357c15359
< #line 1176
---
> #line 1177
15364,15365c15366,15367
<                              "i" (1176), "i" (sizeof(struct bug_entry )));
< #line 1176
---
>                              "i" (1177), "i" (sizeof(struct bug_entry )));
> #line 1177
15369c15371
< #line 1176
---
> #line 1177
15375c15377
< #line 1176
---
> #line 1177
15378c15380
< #line 1178
---
> #line 1179
15382c15384
< #line 1181 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1182 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15388c15390
< #line 1184
---
> #line 1185
15390,15391d15391
< #line 1190
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
15392a15393,15394
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
> #line 1192
15397,15398d15398
< #line 1193
<   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
15399a15400,15401
>   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
> #line 1195
15403c15405
< #line 1307 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1308 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15414,15415d15415
< #line 1312
<   dev = obj->dev;
15417c15417
<   obj_priv = obj->driver_private;
---
>   dev = obj->dev;
15419c15419
<   invalidate_domains = 0;
---
>   obj_priv = obj->driver_private;
15420a15421,15422
>   invalidate_domains = 0;
> #line 1316
15422,15423d15423
< #line 1328
<   if (write_domain == (uint32_t )0) {
15424a15425,15426
>   if (write_domain == (uint32_t )0) {
> #line 1330
15427c15429
< #line 1331
---
> #line 1332
15430,15431d15431
< #line 1339
<   if (obj->write_domain && obj->write_domain != read_domains) {
15433c15433
<     flush_domains = flush_domains | obj->write_domain;
---
>   if (obj->write_domain && obj->write_domain != read_domains) {
15434a15435,15436
>     flush_domains = flush_domains | obj->write_domain;
> #line 1342
15439,15440d15440
< #line 1347
<   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
15441a15442,15443
>   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
> #line 1349
15443c15445
< #line 1358
---
> #line 1359
15445,15446d15446
< #line 1361
<       ret = i915_gem_object_wait_rendering(obj);
15448c15448
<       if (ret) {
---
>       ret = i915_gem_object_wait_rendering(obj);
15449a15450,15451
>       if (ret) {
> #line 1364
15457c15459
< #line 1365
---
> #line 1366
15462,15463d15463
< #line 1368
<   if ((write_domain | flush_domains) != 0U) {
15464a15465,15466
>   if ((write_domain | flush_domains) != 0U) {
> #line 1370
15469c15471
< #line 1374
---
> #line 1375
15471c15473
< #line 1377
---
> #line 1378
15473c15475
< #line 1379
---
> #line 1380
15478c15480
< #line 1381
---
> #line 1382
15480,15481d15481
< #line 1383
<   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
15482a15483,15484
>   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
> #line 1385
15484c15486
< #line 1391
---
> #line 1392
15488c15490
< #line 1400 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1401 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15500c15502
< #line 1407
---
> #line 1408
15502,15503d15503
< #line 1410
<   if (obj->read_domains & 1U) {
15504a15505,15506
>   if (obj->read_domains & 1U) {
> #line 1412
15509c15511
< #line 1413
---
> #line 1414
15511c15513
< #line 1415
---
> #line 1416
15513c15515
< #line 1415
---
> #line 1416
15518,15519d15519
< #line 1419
<   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15521c15521
<     ret = i915_gem_object_wait_rendering(obj);
---
>   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15523c15523
<     if (ret) {
---
>     ret = i915_gem_object_wait_rendering(obj);
15524a15525,15526
>     if (ret) {
> #line 1423
15532,15533d15533
< #line 1425
<   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
15534a15535,15536
>   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
> #line 1427
15536c15538
< #line 1426
---
> #line 1427
15541c15543
< #line 1433
---
> #line 1434
15543c15545
< #line 1433
---
> #line 1434
15545c15547
< #line 1433
---
> #line 1434
15549c15551
< #line 1433
---
> #line 1434
15552,15553d15553
< #line 1434
<     if (*(obj_priv->page_cpu_valid + i)) {
15554a15555,15556
>     if (*(obj_priv->page_cpu_valid + i)) {
> #line 1436
15559c15561
< #line 1437
---
> #line 1438
15561c15563
< #line 1439
---
> #line 1440
15564c15566
< #line 1433
---
> #line 1434
15567c15569
< #line 1442
---
> #line 1443
15571c15573
< #line 1451 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1452 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15577c15579
< #line 1454
---
> #line 1455
15579c15581
< #line 1460
---
> #line 1461
15581c15583
< #line 1467
---
> #line 1468
15583,15584d15584
< #line 1470
<     dev->invalidate_domains = 0;
15585a15586,15587
>     dev->invalidate_domains = 0;
> #line 1472
15590c15592
< #line 1474
---
> #line 1475
15594c15596
< #line 1480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15615c15617
< #line 1485
---
> #line 1486
15617c15619
< #line 1488
---
> #line 1489
15619,15620d15620
< #line 1490
<   last_reloc_offset = -1;
15621a15622,15623
>   last_reloc_offset = -1;
> #line 1492
15623,15624d15624
< #line 1494
<   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15626c15626
<   if (ret) {
---
>   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15627a15628,15629
>   if (ret) {
> #line 1497
15632c15634
< #line 1498
---
> #line 1499
15634c15636
< #line 1500
---
> #line 1501
15636c15638
< #line 1505
---
> #line 1506
15638c15640
< #line 1505
---
> #line 1506
15640c15642
< #line 1505
---
> #line 1506
15644c15646
< #line 1505
---
> #line 1506
15647c15649
< #line 1511
---
> #line 1512
15649,15650d15650
< #line 1511
<     ret = tmp;
15652c15652
<     if (ret != 0) {
---
>     ret = tmp;
15654c15654
<       i915_gem_object_unpin(obj);
---
>     if (ret != 0) {
15655a15656,15657
>       i915_gem_object_unpin(obj);
> #line 1515
15660c15662
< #line 1517
---
> #line 1518
15662,15663d15663
< #line 1519
<     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15665c15665
<       i915_gem_object_unpin(obj);
---
>     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15666a15667,15668
>       i915_gem_object_unpin(obj);
> #line 1522
15671c15673
< #line 1523
---
> #line 1524
15673,15674d15674
< #line 1528
<     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
15675a15676,15677
>     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
> #line 1530
15678,15679d15679
< #line 1531
<       drm_gem_object_unreference(target_obj);
15681c15681
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15682a15683,15684
>       i915_gem_object_unpin(obj);
> #line 1534
15687,15688d15688
< #line 1536
<     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
15689a15690,15691
>     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
> #line 1538
15693,15694d15694
< #line 1541
<       drm_gem_object_unreference(target_obj);
15696c15696
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15697a15698,15699
>       i915_gem_object_unpin(obj);
> #line 1544
15702,15703d15703
< #line 1545
<     if (reloc.offset & 3ULL) {
15704a15705,15706
>     if (reloc.offset & 3ULL) {
> #line 1547
15707,15708d15708
< #line 1550
<       drm_gem_object_unreference(target_obj);
15710c15710
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15711a15712,15713
>       i915_gem_object_unpin(obj);
> #line 1553
15716c15718
< #line 1555
---
> #line 1556
15718c15720
< #line 1557
---
> #line 1558
15722,15723d15723
< #line 1564
<       drm_gem_object_unreference(target_obj);
15725c15725
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15726a15727,15728
>       i915_gem_object_unpin(obj);
> #line 1567
15731,15732d15732
< #line 1584
<     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
15733a15734,15735
>     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
> #line 1586
15735,15736d15736
< #line 1590
<     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15738c15738
<       drm_gem_object_unreference(target_obj);
---
>     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15739a15740,15741
>       drm_gem_object_unreference(target_obj);
> #line 1593
15744c15746
< #line 1599
---
> #line 1600
15746,15747d15747
< #line 1604
<     if (obj->write_domain & 1U) {
15749c15749
<       i915_gem_clflush_object(obj);
---
>     if (obj->write_domain & 1U) {
15751c15751
<       drm_agp_chipset_flush(dev);
---
>       i915_gem_clflush_object(obj);
15752a15753,15754
>       drm_agp_chipset_flush(dev);
> #line 1608
15757,15758d15758
< #line 1613
<     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
15759a15760,15761
>     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
> #line 1615
15761,15762d15762
< #line 1617
<       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15763a15764,15765
>       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1619
15768c15770
< #line 1620
---
> #line 1621
15771,15772d15772
< #line 1624
<       last_reloc_offset = reloc_offset;
15774c15774
<       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
---
>       last_reloc_offset = reloc_offset;
15776c15776
<         drm_gem_object_unreference(target_obj);
---
>       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
15778c15778
<         i915_gem_object_unpin(obj);
---
>         drm_gem_object_unreference(target_obj);
15779a15780,15781
>         i915_gem_object_unpin(obj);
> #line 1629
15787c15789
< #line 1632
---
> #line 1633
15789c15791
< #line 1634
---
> #line 1635
15791c15793
< #line 1641
---
> #line 1642
15793,15794d15794
< #line 1646
<     reloc.presumed_offset = target_obj_priv->gtt_offset;
15795a15796,15797
>     reloc.presumed_offset = target_obj_priv->gtt_offset;
> #line 1648
15797,15798d15798
< #line 1647
<     ret = tmp___0;
15800c15800
<     if (ret != 0) {
---
>     ret = tmp___0;
15802c15802
<       drm_gem_object_unreference(target_obj);
---
>     if (ret != 0) {
15804c15804
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15805a15806,15807
>       i915_gem_object_unpin(obj);
> #line 1652
15810c15812
< #line 1654
---
> #line 1655
15813c15815
< #line 1505
---
> #line 1506
15816,15817d15817
< #line 1657
<   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15818a15819,15820
>   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1659
15823c15825
< #line 1664
---
> #line 1665
15827c15829
< #line 1669 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1670 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15846,15847d15847
< #line 1674
<   dev_priv = dev->dev_private;
15848a15849,15850
>   dev_priv = dev->dev_private;
> #line 1676
15850,15851d15851
< #line 1677
<   nbox = exec->num_cliprects;
15852a15853,15854
>   nbox = exec->num_cliprects;
> #line 1679
15854,15855d15855
< #line 1682
<   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
15856a15857,15858
>   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
> #line 1684
15858,15859d15859
< #line 1685
<   if ((exec_start | exec_len) & 7U) {
15861c15861
<     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
---
>   if ((exec_start | exec_len) & 7U) {
15862a15863,15864
>     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
> #line 1688
15867,15868d15868
< #line 1690
<   if (! exec_start) {
15869a15870,15871
>   if (! exec_start) {
> #line 1692
15874c15876
< #line 1693
---
> #line 1694
15876c15878
< #line 1695
---
> #line 1696
15878c15880
< #line 1695
---
> #line 1696
15880c15882
< #line 1695
---
> #line 1696
15884c15886
< #line 1695
---
> #line 1696
15887,15888d15888
< #line 1696
<     if (i < nbox) {
15889a15890,15891
>     if (i < nbox) {
> #line 1698
15891c15893
< #line 1697
---
> #line 1698
15893,15894d15894
< #line 1699
<       if (ret) {
15895a15896,15897
>       if (ret) {
> #line 1701
15903,15904d15904
< #line 1703
<     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
15905a15906,15907
>     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
> #line 1705
15907c15909
< #line 1704
---
> #line 1705
15909c15911
< #line 1704
---
> #line 1705
15914,15926d15915
< #line 1704
<         outcount = 0;
< #line 1704
<         outring = dev_priv->ring.tail;
< #line 1704
<         ringmask = dev_priv->ring.tail_mask;
< #line 1704
<         virt = dev_priv->ring.virtual_start;
< #line 1704
<         break;
<       }
< #line 1705
<       while (1) {
15928c15917
<         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
---
>         outcount = 0;
15930c15919
<         outcount = outcount + 1U;
---
>         outring = dev_priv->ring.tail;
15932c15921
<         outring = outring + 4U;
---
>         ringmask = dev_priv->ring.tail_mask;
15934c15923
<         outring = outring & ringmask;
---
>         virt = dev_priv->ring.virtual_start;
15941c15930
<         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
---
>         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
15954c15943
<         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
---
>         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
15967c15956
<         *((unsigned int volatile   *)(virt + outring)) = 0;
---
>         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
15980c15969
<         dev_priv->ring.tail = outring;
---
>         *((unsigned int volatile   *)(virt + outring)) = 0;
15982c15971
<         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>         outcount = outcount + 1U;
15984c15973,15975
<         writel(outring, dev_priv->regs + 8240);
---
>         outring = outring + 4U;
> #line 1709
>         outring = outring & ringmask;
15987a15979,15989
> #line 1710
>       while (1) {
> #line 1710
>         dev_priv->ring.tail = outring;
> #line 1710
>         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 1710
>         writel(outring, dev_priv->regs + 8240);
> #line 1710
>         break;
>       }
15989c15991
< #line 1711
---
> #line 1712
15991c15993
< #line 1711
---
> #line 1712
15993c15995
< #line 1711
---
> #line 1712
15998c16000
< #line 1711
---
> #line 1712
16000c16002
< #line 1711
---
> #line 1712
16002c16004
< #line 1711
---
> #line 1712
16004c16006
< #line 1711
---
> #line 1712
16006c16008
< #line 1711
---
> #line 1712
16009,16010d16010
< #line 1712
<       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
16011a16012,16013
>       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 1714
16013c16015
< #line 1713
---
> #line 1714
16015c16017
< #line 1713
---
> #line 1714
16017c16019
< #line 1713
---
> #line 1714
16019c16021
< #line 1713
---
> #line 1714
16021c16023
< #line 1713
---
> #line 1714
16024c16026
< #line 1716
---
> #line 1717
16026c16028
< #line 1716
---
> #line 1717
16028c16030
< #line 1716
---
> #line 1717
16030c16032
< #line 1716
---
> #line 1717
16032c16034
< #line 1716
---
> #line 1717
16034c16036
< #line 1716
---
> #line 1717
16038c16040
< #line 1718
---
> #line 1719
16040c16042
< #line 1718
---
> #line 1719
16042c16044
< #line 1718
---
> #line 1719
16044c16046
< #line 1718
---
> #line 1719
16046c16048
< #line 1718
---
> #line 1719
16048c16050
< #line 1718
---
> #line 1719
16051c16053
< #line 1720
---
> #line 1721
16053c16055
< #line 1720
---
> #line 1721
16055c16057
< #line 1720
---
> #line 1721
16057c16059
< #line 1720
---
> #line 1721
16059c16061
< #line 1720
---
> #line 1721
16061c16063
< #line 1720
---
> #line 1721
16065c16067
< #line 1722
---
> #line 1723
16067c16069
< #line 1722
---
> #line 1723
16069c16071
< #line 1722
---
> #line 1723
16071c16073
< #line 1722
---
> #line 1723
16073c16075
< #line 1722
---
> #line 1723
16077c16079
< #line 1695
---
> #line 1696
16080c16082
< #line 1727
---
> #line 1728
16084c16086
< #line 1736 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1737 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16092,16093d16093
< #line 1739
<   i915_file_priv = file_priv->driver_priv;
16094a16095,16096
>   i915_file_priv = file_priv->driver_priv;
> #line 1741
16096,16097d16097
< #line 1743
<   mutex_lock_nested(& dev->struct_mutex, 0);
16099c16099
<   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
16100a16101,16102
>   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
> #line 1746
16102,16103d16103
< #line 1747
<   if (seqno) {
16104a16105,16106
>   if (seqno) {
> #line 1749
16109,16110d16110
< #line 1749
<   mutex_unlock(& dev->struct_mutex);
16111a16112,16113
>   mutex_unlock(& dev->struct_mutex);
> #line 1751
16115c16117
< #line 1753 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1754 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16141,16142d16142
< #line 1757
<   dev_priv = dev->dev_private;
16144c16144
<   i915_file_priv = file_priv->driver_priv;
---
>   dev_priv = dev->dev_private;
16146c16146
<   args = data;
---
>   i915_file_priv = file_priv->driver_priv;
16148c16148
<   exec_list = (void *)0;
---
>   args = data;
16149a16150,16151
>   exec_list = (void *)0;
> #line 1762
16151c16153
< #line 1763
---
> #line 1764
16153,16154d16154
< #line 1772
<   if (args->buffer_count < (uint32_t )1) {
16155a16156,16157
>   if (args->buffer_count < (uint32_t )1) {
> #line 1774
16158c16160
< #line 1774
---
> #line 1775
16163c16165
< #line 1777
---
> #line 1778
16165c16167
< #line 1777
---
> #line 1778
16167c16169
< #line 1779
---
> #line 1780
16169c16171
< #line 1779
---
> #line 1780
16171,16172d16172
< #line 1781
<   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
16173a16174,16175
>   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
> #line 1783
16176,16177d16177
< #line 1785
<     ret = -12;
16178a16179,16180
>     ret = -12;
> #line 1787
16183c16185
< #line 1788
---
> #line 1789
16186c16188
< #line 1788
---
> #line 1789
16188,16189d16189
< #line 1792
<   if (ret != 0) {
16190a16191,16192
>   if (ret != 0) {
> #line 1794
16193c16195
< #line 1795
---
> #line 1796
16198c16200
< #line 1798
---
> #line 1799
16200,16201d16201
< #line 1802
<   if (dev_priv->mm.wedged) {
16203c16203
<     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.wedged) {
16205c16205
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
16206a16207,16208
>     mutex_unlock(& dev->struct_mutex);
> #line 1806
16211,16212d16212
< #line 1808
<   if (dev_priv->mm.suspended) {
16214c16214
<     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.suspended) {
16216c16216
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
16217a16218,16219
>     mutex_unlock(& dev->struct_mutex);
> #line 1812
16222,16223d16223
< #line 1818
<   dev->invalidate_domains = 0;
16224a16225,16226
>   dev->invalidate_domains = 0;
> #line 1820
16226c16228
< #line 1822
---
> #line 1823
16228c16230
< #line 1822
---
> #line 1823
16230c16232
< #line 1822
---
> #line 1823
16234c16236
< #line 1822
---
> #line 1823
16237c16239
< #line 1823
---
> #line 1824
16239,16240d16240
< #line 1825
<     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
16241a16242,16243
>     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
> #line 1827
16244,16245d16245
< #line 1828
<       ret = -9;
16246a16247,16248
>       ret = -9;
> #line 1830
16251,16252d16252
< #line 1832
<     (*(object_list + i))->pending_read_domains = 0;
16254c16254
<     (*(object_list + i))->pending_write_domain = 0;
---
>     (*(object_list + i))->pending_read_domains = 0;
16255a16256,16257
>     (*(object_list + i))->pending_write_domain = 0;
> #line 1835
16257,16258d16258
< #line 1837
<     if (ret) {
16259a16260,16261
>     if (ret) {
> #line 1839
16262c16264
< #line 1839
---
> #line 1840
16267c16269
< #line 1841
---
> #line 1842
16269c16271
< #line 1822
---
> #line 1823
16272,16273d16273
< #line 1845
<   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
16275c16275
<   batch_obj->pending_read_domains = 8;
---
>   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
16276a16277,16278
>   batch_obj->pending_read_domains = 8;
> #line 1848
16278c16280
< #line 1851
---
> #line 1852
16280c16282
< #line 1851
---
> #line 1852
16282c16284
< #line 1851
---
> #line 1852
16286c16288
< #line 1851
---
> #line 1852
16289,16290d16290
< #line 1852
<     obj = *(object_list + i);
16291a16292,16293
>     obj = *(object_list + i);
> #line 1854
16293c16295
< #line 1855
---
> #line 1856
16295,16296d16296
< #line 1861
<       ret = -12;
16297a16298,16299
>       ret = -12;
> #line 1863
16302c16304
< #line 1866
---
> #line 1867
16304,16305d16305
< #line 1869
<     if (ret) {
16306a16307,16308
>     if (ret) {
> #line 1871
16311c16313
< #line 1851
---
> #line 1852
16314c16316
< #line 1876
---
> #line 1877
16316c16318
< #line 1887
---
> #line 1888
16318c16320
< #line 1896
---
> #line 1897
16320,16321d16321
< #line 1899
<   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
16323c16323
<   if (ret) {
---
>   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
16325c16325
<     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
---
>   if (ret) {
16326a16327,16328
>     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
> #line 1903
16331c16333
< #line 1909
---
> #line 1910
16333,16334d16334
< #line 1920
<   seqno = i915_add_request(dev, flush_domains);
16335a16336,16337
>   seqno = i915_add_request(dev, flush_domains);
> #line 1922
16337c16339
< #line 1921
---
> #line 1922
16339c16341
< #line 1921
---
> #line 1922
16341c16343
< #line 1921
---
> #line 1922
16343c16345
< #line 1921
---
> #line 1922
16350,16351c16352,16353
<                              "i" (1921), "i" (sizeof(struct bug_entry )));
< #line 1921
---
>                              "i" (1922), "i" (sizeof(struct bug_entry )));
> #line 1922
16355c16357
< #line 1921
---
> #line 1922
16361c16363
< #line 1921
---
> #line 1922
16364,16365d16365
< #line 1922
<   i915_file_priv->mm.last_gem_seqno = seqno;
16366a16367,16368
>   i915_file_priv->mm.last_gem_seqno = seqno;
> #line 1924
16368c16370
< #line 1923
---
> #line 1924
16370c16372
< #line 1923
---
> #line 1924
16374c16376
< #line 1923
---
> #line 1924
16377,16378d16378
< #line 1924
<     obj___0 = *(object_list + i);
16379a16380,16381
>     obj___0 = *(object_list + i);
> #line 1926
16381,16382d16382
< #line 1927
<     i915_gem_object_move_to_active(obj___0);
16383a16384,16385
>     i915_gem_object_move_to_active(obj___0);
> #line 1929
16385c16387
< #line 1923
---
> #line 1924
16388c16390
< #line 1940
---
> #line 1941
16391c16393
< #line 1940
---
> #line 1941
16393,16394d16394
< #line 1944
<   if (ret) {
16395a16396,16397
>   if (ret) {
> #line 1946
16402,16403d16403
< #line 1949
<   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
16404a16405,16406
>   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
> #line 1951
16406c16408
< #line 1950
---
> #line 1951
16408c16410
< #line 1950
---
> #line 1951
16412c16414
< #line 1950
---
> #line 1951
16415c16417
< #line 1951
---
> #line 1952
16417c16419
< #line 1950
---
> #line 1951
16420c16422
< #line 1953
---
> #line 1954
16422c16424
< #line 1953
---
> #line 1954
16424c16426
< #line 1953
---
> #line 1954
16428c16430
< #line 1953
---
> #line 1954
16431c16433
< #line 1954
---
> #line 1955
16433c16435
< #line 1953
---
> #line 1954
16439c16441
< #line 1956
---
> #line 1957
16442c16444
< #line 1959
---
> #line 1960
16445c16447
< #line 1961
---
> #line 1962
16447c16449
< #line 1964
---
> #line 1965
16451c16453
< #line 1967 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1968 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16460,16461d16461
< #line 1970
<   dev = obj->dev;
16462a16463,16464
>   dev = obj->dev;
> #line 1972
16464,16465d16465
< #line 1975
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16467c16467
<     ret = i915_gem_object_bind_to_gtt(obj, alignment);
---
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16469c16469
<     if (ret != 0) {
---
>     ret = i915_gem_object_bind_to_gtt(obj, alignment);
16471c16471
<       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
---
>     if (ret != 0) {
16472a16473,16474
>       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
> #line 1980
16480c16482
< #line 1982
---
> #line 1983
16482,16483d16483
< #line 1987
<   if (obj_priv->pin_count == 1) {
16485c16485
<     atomic_inc(& dev->pin_count);
---
>   if (obj_priv->pin_count == 1) {
16487c16487
<     atomic_add(obj->size, & dev->pin_memory);
---
>     atomic_inc(& dev->pin_count);
16488a16489,16490
>     atomic_add(obj->size, & dev->pin_memory);
> #line 1991
16490c16492
< #line 1990
---
> #line 1991
16492c16494
< #line 1990
---
> #line 1991
16496c16498
< #line 1994
---
> #line 1995
16505c16507
< #line 1998
---
> #line 1999
16509c16511
< #line 2001 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2002 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16519,16520d16520
< #line 2004
<   dev = obj->dev;
16522c16522
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
16523a16524,16525
>   dev_priv = dev->dev_private;
> #line 2007
16525,16526d16526
< #line 2009
<   obj_priv->pin_count = obj_priv->pin_count - 1;
16527a16528,16529
>   obj_priv->pin_count = obj_priv->pin_count - 1;
> #line 2011
16529c16531
< #line 2010
---
> #line 2011
16531c16533
< #line 2010
---
> #line 2011
16533c16535
< #line 2010
---
> #line 2011
16535c16537
< #line 2010
---
> #line 2011
16542,16543c16544,16545
<                              "i" (2010), "i" (sizeof(struct bug_entry )));
< #line 2010
---
>                              "i" (2011), "i" (sizeof(struct bug_entry )));
> #line 2011
16547c16549
< #line 2010
---
> #line 2011
16553c16555
< #line 2010
---
> #line 2011
16556c16558
< #line 2011
---
> #line 2012
16558c16560
< #line 2011
---
> #line 2012
16561c16563
< #line 2011
---
> #line 2012
16563c16565
< #line 2011
---
> #line 2012
16565c16567
< #line 2011
---
> #line 2012
16572,16573c16574,16575
<                              "i" (2011), "i" (sizeof(struct bug_entry )));
< #line 2011
---
>                              "i" (2012), "i" (sizeof(struct bug_entry )));
> #line 2012
16577c16579
< #line 2011
---
> #line 2012
16583c16585
< #line 2011
---
> #line 2012
16586,16587d16587
< #line 2017
<   if (obj_priv->pin_count == 0) {
16588a16589,16590
>   if (obj_priv->pin_count == 0) {
> #line 2019
16590c16592
< #line 2021
---
> #line 2022
16595,16596d16596
< #line 2023
<     atomic_dec(& dev->pin_count);
16597a16598,16599
>     atomic_dec(& dev->pin_count);
> #line 2025
16602c16604
< #line 2027
---
> #line 2028
16606c16608
< #line 2029 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2030 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16615c16617
< #line 2033
---
> #line 2034
16617c16619
< #line 2038
---
> #line 2039
16619,16620d16620
< #line 2040
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16622c16622
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16623a16624,16625
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2043
16626,16627d16627
< #line 2044
<     mutex_unlock(& dev->struct_mutex);
16628a16629,16630
>     mutex_unlock(& dev->struct_mutex);
> #line 2046
16633c16635
< #line 2047
---
> #line 2048
16635,16636d16636
< #line 2049
<   ret = i915_gem_object_pin(obj, args->alignment);
16638c16638
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, args->alignment);
16640c16640
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
16642c16642
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
16643a16644,16645
>     mutex_unlock(& dev->struct_mutex);
> #line 2054
16648,16649d16649
< #line 2059
<   if (obj->write_domain & 1U) {
16651c16651
<     i915_gem_clflush_object(obj);
---
>   if (obj->write_domain & 1U) {
16653c16653
<     drm_agp_chipset_flush(dev);
---
>     i915_gem_clflush_object(obj);
16654a16655,16656
>     drm_agp_chipset_flush(dev);
> #line 2063
16659,16660d16660
< #line 2064
<   args->offset = obj_priv->gtt_offset;
16662c16662
<   drm_gem_object_unreference(obj);
---
>   args->offset = obj_priv->gtt_offset;
16663a16664,16665
>   drm_gem_object_unreference(obj);
> #line 2067
16665c16667
< #line 2068
---
> #line 2069
16669c16671
< #line 2071 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2072 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16676c16678
< #line 2075
---
> #line 2076
16678c16680
< #line 2078
---
> #line 2079
16680,16681d16681
< #line 2080
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16683c16683
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16684a16685,16686
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2083
16687,16688d16688
< #line 2084
<     mutex_unlock(& dev->struct_mutex);
16689a16690,16691
>     mutex_unlock(& dev->struct_mutex);
> #line 2086
16694c16696
< #line 2088
---
> #line 2089
16696,16697d16697
< #line 2090
<   drm_gem_object_unreference(obj);
16699c16699
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16700a16701,16702
>   mutex_unlock(& dev->struct_mutex);
> #line 2093
16704c16706
< #line 2095 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2096 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16712c16714
< #line 2099
---
> #line 2100
16714,16715d16715
< #line 2103
<   mutex_lock_nested(& dev->struct_mutex, 0);
16717c16717
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
16719c16719
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16720a16721,16722
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2107
16723,16724d16724
< #line 2108
<     mutex_unlock(& dev->struct_mutex);
16725a16726,16727
>     mutex_unlock(& dev->struct_mutex);
> #line 2110
16730,16731d16731
< #line 2112
<   obj_priv = obj->driver_private;
16732a16733,16734
>   obj_priv = obj->driver_private;
> #line 2114
16734,16735d16735
< #line 2115
<   drm_gem_object_unreference(obj);
16737c16737
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16738a16739,16740
>   mutex_unlock(& dev->struct_mutex);
> #line 2118
16742c16744
< #line 2120 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2121 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16748c16750
< #line 2124
---
> #line 2125
16750c16752
< #line 2124
---
> #line 2125
16754c16756
< #line 2127 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2128 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16761c16763
< #line 2131
---
> #line 2132
16763,16764d16764
< #line 2131
<   obj_priv = tmp;
16766c16766
<   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
---
>   obj_priv = tmp;
16767a16768,16769
>   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
> #line 2134
16772,16773d16773
< #line 2141
<   obj->write_domain = 1;
16774a16775,16776
>   obj->write_domain = 1;
> #line 2143
16776,16777d16777
< #line 2144
<   obj->driver_private = obj_priv;
16779c16779
<   obj_priv->obj = obj;
---
>   obj->driver_private = obj_priv;
16781c16781
<   INIT_LIST_HEAD(& obj_priv->list);
---
>   obj_priv->obj = obj;
16782a16783,16784
>   INIT_LIST_HEAD(& obj_priv->list);
> #line 2148
16786c16788
< #line 2150 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2151 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16792c16794
< #line 2152
---
> #line 2153
16794c16796
< #line 2154
---
> #line 2155
16796c16798
< #line 2154
---
> #line 2155
16800c16802
< #line 2154
---
> #line 2155
16803c16805
< #line 2155
---
> #line 2156
16806c16808
< #line 2157
---
> #line 2158
16808,16809d16809
< #line 2159
<   drm_free(obj_priv->page_cpu_valid, 1, 2);
16811c16811
<   drm_free(obj->driver_private, 1, 2);
---
>   drm_free(obj_priv->page_cpu_valid, 1, 2);
16812a16813,16814
>   drm_free(obj->driver_private, 1, 2);
> #line 2162
16816c16818
< #line 2163 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2164 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16828c16830
< #line 2169
---
> #line 2170
16830c16832
< #line 2173
---
> #line 2174
16832c16834
< #line 2173
---
> #line 2174
16834c16836
< #line 2173
---
> #line 2174
16836c16838
< #line 2173
---
> #line 2174
16839c16841
< #line 2173
---
> #line 2174
16842c16844
< #line 2173
---
> #line 2174
16844c16846
< #line 2173
---
> #line 2174
16846c16848
< #line 2173
---
> #line 2174
16848c16850
< #line 2173
---
> #line 2174
16855,16856c16857,16858
<                              "i" (2173), "i" (sizeof(struct bug_entry )));
< #line 2173
---
>                              "i" (2174), "i" (sizeof(struct bug_entry )));
> #line 2174
16860c16862
< #line 2173
---
> #line 2174
16866c16868
< #line 2173
---
> #line 2174
16869,16870d16870
< #line 2175
<   ret = i915_gem_object_set_domain(obj, read_domains, write_domain);
16872c16872
<   if (ret) {
---
>   ret = i915_gem_object_set_domain(obj, read_domains, write_domain);
16873a16874,16875
>   if (ret) {
> #line 2178
16878c16880
< #line 2178
---
> #line 2179
16880,16881d16881
< #line 2180
<   if (flush_domains & (unsigned int )(~ (1 | 64))) {
16882a16883,16884
>   if (flush_domains & (unsigned int )(~ (1 | 64))) {
> #line 2182
16887c16889
< #line 2183
---
> #line 2184
16891c16893
< #line 2187 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2188 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16901c16903
< #line 2194
---
> #line 2195
16903c16905
< #line 2194
---
> #line 2195
16905c16907
< #line 2194
---
> #line 2195
16907c16909
< #line 2194
---
> #line 2195
16912c16914
< #line 2195
---
> #line 2196
16914c16916
< #line 2195
---
> #line 2196
16916c16918
< #line 2198
---
> #line 2199
16918,16919d16919
< #line 2200
<     if (obj_priv->pin_count != 0) {
16921c16921
<       printk("<3>[drm:%s] *ERROR* Pinned object in unbind list\n", "i915_gem_evict_from_list");
---
>     if (obj_priv->pin_count != 0) {
16923c16923
<       mutex_unlock(& dev->struct_mutex);
---
>       printk("<3>[drm:%s] *ERROR* Pinned object in unbind list\n", "i915_gem_evict_from_list");
16924a16925,16926
>       mutex_unlock(& dev->struct_mutex);
> #line 2204
16929,16930d16930
< #line 2206
<     ret = i915_gem_object_unbind(obj);
16932c16932
<     if (ret != 0) {
---
>     ret = i915_gem_object_unbind(obj);
16933a16934,16935
>     if (ret != 0) {
> #line 2209
16936,16937d16937
< #line 2210
<       mutex_unlock(& dev->struct_mutex);
16938a16939,16940
>       mutex_unlock(& dev->struct_mutex);
> #line 2212
16944c16946
< #line 2216
---
> #line 2217
16948c16950
< #line 2219 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2220 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16982c16984
< #line 2222
---
> #line 2223
16984,16985d16985
< #line 2226
<   if (dev_priv->mm.suspended) {
16986a16987,16988
>   if (dev_priv->mm.suspended) {
> #line 2228
16991c16993
< #line 2232
---
> #line 2233
16993c16995
< #line 2234
---
> #line 2235
16995c16997
< #line 2238
---
> #line 2239
16997c16999
< #line 2240
---
> #line 2241
16999,17000d17000
< #line 2243
<   if (seqno == (uint32_t )0) {
17002c17002
<     mutex_unlock(& dev->struct_mutex);
---
>   if (seqno == (uint32_t )0) {
17003a17004,17005
>     mutex_unlock(& dev->struct_mutex);
> #line 2246
17008,17009d17009
< #line 2248
<   dev_priv->mm.waiting_gem_seqno = seqno;
17011c17011
<   last_seqno = 0;
---
>   dev_priv->mm.waiting_gem_seqno = seqno;
17013c17013
<   stuck = 0;
---
>   last_seqno = 0;
17015c17015
<   while (1) {
---
>   stuck = 0;
17017c17017
<     cur_seqno = i915_get_gem_seqno(dev);
---
>   while (1) {
17018a17019,17020
>     cur_seqno = i915_get_gem_seqno(dev);
> #line 2254
17020,17021d17021
< #line 2253
<     if (tmp) {
17022a17023,17024
>     if (tmp) {
> #line 2255
17027,17028d17028
< #line 2255
<     if (last_seqno == cur_seqno) {
17029a17030,17031
>     if (last_seqno == cur_seqno) {
> #line 2257
17031c17033
< #line 2256
---
> #line 2257
17033,17034d17034
< #line 2256
<       if (tmp___0 > 100) {
17036c17036
<         printk("<3>[drm:%s] *ERROR* hardware wedged\n", "i915_gem_idle");
---
>       if (tmp___0 > 100) {
17038c17038
<         dev_priv->mm.wedged = 1;
---
>         printk("<3>[drm:%s] *ERROR* hardware wedged\n", "i915_gem_idle");
17040c17040
<         __wake_up(& dev_priv->irq_queue, 1, 1, (void *)0);
---
>         dev_priv->mm.wedged = 1;
17041a17042,17043
>         __wake_up(& dev_priv->irq_queue, 1, 1, (void *)0);
> #line 2261
17049,17050d17050
< #line 2263
<     msleep(10);
17051a17052,17053
>     msleep(10);
> #line 2265
17054c17056
< #line 2266
---
> #line 2267
17056c17058
< #line 2268
---
> #line 2269
17058c17060
< #line 2273
---
> #line 2274
17060c17062
< #line 2273
---
> #line 2274
17062c17064
< #line 2273
---
> #line 2274
17064c17066
< #line 2273
---
> #line 2274
17067c17069
< #line 2273
---
> #line 2274
17070c17072
< #line 2273
---
> #line 2274
17072c17074
< #line 2273
---
> #line 2274
17074c17076
< #line 2273
---
> #line 2274
17076c17078
< #line 2273
---
> #line 2274
17083,17084c17085,17086
<                              "i" (2273), "i" (sizeof(struct bug_entry )));
< #line 2273
---
>                              "i" (2274), "i" (sizeof(struct bug_entry )));
> #line 2274
17088c17090
< #line 2273
---
> #line 2274
17094c17096
< #line 2273
---
> #line 2274
17097c17099
< #line 2274
---
> #line 2275
17099c17101
< #line 2274
---
> #line 2275
17101c17103
< #line 2274
---
> #line 2275
17103c17105
< #line 2274
---
> #line 2275
17106c17108
< #line 2274
---
> #line 2275
17109c17111
< #line 2274
---
> #line 2275
17111c17113
< #line 2274
---
> #line 2275
17113c17115
< #line 2274
---
> #line 2275
17115c17117
< #line 2274
---
> #line 2275
17122,17123c17124,17125
<                              "i" (2274), "i" (sizeof(struct bug_entry )));
< #line 2274
---
>                              "i" (2275), "i" (sizeof(struct bug_entry )));
> #line 2275
17127c17129
< #line 2274
---
> #line 2275
17133c17135
< #line 2274
---
> #line 2275
17136c17138
< #line 2279
---
> #line 2280
17138c17140
< #line 2279
---
> #line 2280
17140c17142
< #line 2279
---
> #line 2280
17142c17144
< #line 2279
---
> #line 2280
17145c17147
< #line 2279
---
> #line 2280
17148c17150
< #line 2279
---
> #line 2280
17150c17152
< #line 2279
---
> #line 2280
17152c17154
< #line 2279
---
> #line 2280
17154c17156
< #line 2279
---
> #line 2280
17161,17162c17163,17164
<                              "i" (2279), "i" (sizeof(struct bug_entry )));
< #line 2279
---
>                              "i" (2280), "i" (sizeof(struct bug_entry )));
> #line 2280
17166c17168
< #line 2279
---
> #line 2280
17172c17174
< #line 2279
---
> #line 2280
17175,17176d17176
< #line 2282
<   ret = i915_gem_evict_from_list(dev, & dev_priv->mm.inactive_list);
17178c17178
<   if (ret) {
---
>   ret = i915_gem_evict_from_list(dev, & dev_priv->mm.inactive_list);
17179a17180,17181
>   if (ret) {
> #line 2285
17184c17186
< #line 2286
---
> #line 2287
17186c17188
< #line 2286
---
> #line 2287
17188c17190
< #line 2286
---
> #line 2287
17190c17192
< #line 2286
---
> #line 2287
17193c17195
< #line 2286
---
> #line 2287
17196c17198
< #line 2286
---
> #line 2287
17198c17200
< #line 2286
---
> #line 2287
17200c17202
< #line 2286
---
> #line 2287
17202c17204
< #line 2286
---
> #line 2287
17209,17210c17211,17212
<                              "i" (2286), "i" (sizeof(struct bug_entry )));
< #line 2286
---
>                              "i" (2287), "i" (sizeof(struct bug_entry )));
> #line 2287
17214c17216
< #line 2286
---
> #line 2287
17220c17222
< #line 2286
---
> #line 2287
17223c17225
< #line 2287
---
> #line 2288
17225c17227
< #line 2287
---
> #line 2288
17227c17229
< #line 2287
---
> #line 2288
17229c17231
< #line 2287
---
> #line 2288
17232c17234
< #line 2287
---
> #line 2288
17235c17237
< #line 2287
---
> #line 2288
17237c17239
< #line 2287
---
> #line 2288
17239c17241
< #line 2287
---
> #line 2288
17241c17243
< #line 2287
---
> #line 2288
17248,17249c17250,17251
<                              "i" (2287), "i" (sizeof(struct bug_entry )));
< #line 2287
---
>                              "i" (2288), "i" (sizeof(struct bug_entry )));
> #line 2288
17253c17255
< #line 2287
---
> #line 2288
17259c17261
< #line 2287
---
> #line 2288
17262c17264
< #line 2288
---
> #line 2289
17264c17266
< #line 2288
---
> #line 2289
17266c17268
< #line 2288
---
> #line 2289
17268c17270
< #line 2288
---
> #line 2289
17271c17273
< #line 2288
---
> #line 2289
17274c17276
< #line 2288
---
> #line 2289
17276c17278
< #line 2288
---
> #line 2289
17278c17280
< #line 2288
---
> #line 2289
17280c17282
< #line 2288
---
> #line 2289
17287,17288c17289,17290
<                              "i" (2288), "i" (sizeof(struct bug_entry )));
< #line 2288
---
>                              "i" (2289), "i" (sizeof(struct bug_entry )));
> #line 2289
17292c17294
< #line 2288
---
> #line 2289
17298c17300
< #line 2288
---
> #line 2289
17301c17303
< #line 2289
---
> #line 2290
17303c17305
< #line 2289
---
> #line 2290
17305c17307
< #line 2289
---
> #line 2290
17307c17309
< #line 2289
---
> #line 2290
17310c17312
< #line 2289
---
> #line 2290
17313c17315
< #line 2289
---
> #line 2290
17315c17317
< #line 2289
---
> #line 2290
17317c17319
< #line 2289
---
> #line 2290
17319c17321
< #line 2289
---
> #line 2290
17326,17327c17328,17329
<                              "i" (2289), "i" (sizeof(struct bug_entry )));
< #line 2289
---
>                              "i" (2290), "i" (sizeof(struct bug_entry )));
> #line 2290
17331c17333
< #line 2289
---
> #line 2290
17337c17339
< #line 2289
---
> #line 2290
17340c17342
< #line 2290
---
> #line 2291
17344c17346
< #line 2293 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2294 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17353c17355
< #line 2296
---
> #line 2297
17355,17356d17356
< #line 2304
<   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
17357a17358,17359
>   if (! ((((dev->pci_device == 10690 || dev->pci_device == 10674) || dev->pci_device == 10706) || dev->pci_device == 10818) || ((dev->pci_device == 11778 || dev->pci_device == 11794) || dev->pci_device == 11810))) {
> #line 2306
17362,17363d17363
< #line 2307
<   obj = drm_gem_object_alloc(dev, 4096);
17365c17365
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_alloc(dev, 4096);
17367c17367
<     printk("<3>[drm:%s] *ERROR* Failed to allocate status page\n", "i915_gem_init_hws");
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
17368a17369,17370
>     printk("<3>[drm:%s] *ERROR* Failed to allocate status page\n", "i915_gem_init_hws");
> #line 2311
17373c17375
< #line 2312
---
> #line 2313
17375,17376d17376
< #line 2314
<   ret = i915_gem_object_pin(obj, 4096);
17378c17378
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, 4096);
17380c17380
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
17381a17382,17383
>     drm_gem_object_unreference(obj);
> #line 2318
17386,17387d17387
< #line 2320
<   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
17389c17389
<   dev_priv->hws_map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
---
>   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
17391c17391
<   dev_priv->hws_map.size = 4096;
---
>   dev_priv->hws_map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
17393c17393
<   dev_priv->hws_map.type = 0;
---
>   dev_priv->hws_map.size = 4096;
17395c17395
<   dev_priv->hws_map.flags = 0;
---
>   dev_priv->hws_map.type = 0;
17396a17397,17398
>   dev_priv->hws_map.flags = 0;
> #line 2326
17398,17399d17399
< #line 2329
<   drm_core_ioremap_wc(& dev_priv->hws_map, dev);
17401c17401
<   if ((unsigned long )dev_priv->hws_map.handle == (unsigned long )((void *)0)) {
---
>   drm_core_ioremap_wc(& dev_priv->hws_map, dev);
17403c17403
<     printk("<3>[drm:%s] *ERROR* Failed to map status page.\n", "i915_gem_init_hws");
---
>   if ((unsigned long )dev_priv->hws_map.handle == (unsigned long )((void *)0)) {
17405c17405
<     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
---
>     printk("<3>[drm:%s] *ERROR* Failed to map status page.\n", "i915_gem_init_hws");
17407c17407
<     drm_gem_object_unreference(obj);
---
>     memset(& dev_priv->hws_map, 0, sizeof(dev_priv->hws_map));
17408a17409,17410
>     drm_gem_object_unreference(obj);
> #line 2335
17413,17414d17414
< #line 2336
<   dev_priv->hws_obj = obj;
17416c17416
<   dev_priv->hw_status_page = dev_priv->hws_map.handle;
---
>   dev_priv->hws_obj = obj;
17418c17418
<   memset(dev_priv->hw_status_page, 0, 1UL << 12);
---
>   dev_priv->hw_status_page = dev_priv->hws_map.handle;
17420c17420
<   writel(dev_priv->status_gfx_addr, dev_priv->regs + 8320);
---
>   memset(dev_priv->hw_status_page, 0, 1UL << 12);
17421a17422,17423
>   writel(dev_priv->status_gfx_addr, dev_priv->regs + 8320);
> #line 2341
17423c17425
< #line 2340
---
> #line 2341
17425c17427
< #line 2340
---
> #line 2341
17430c17432
< #line 2340
---
> #line 2341
17433c17435
< #line 2342
---
> #line 2343
17437c17439
< #line 2345 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2346 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17446c17448
< #line 2348
---
> #line 2349
17448,17449d17449
< #line 2353
<   ret = i915_gem_init_hws(dev);
17451c17451
<   if (ret != 0) {
---
>   ret = i915_gem_init_hws(dev);
17452a17453,17454
>   if (ret != 0) {
> #line 2356
17457,17458d17458
< #line 2357
<   obj = drm_gem_object_alloc(dev, 128 * 1024);
17460c17460
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_alloc(dev, 128 * 1024);
17462c17462
<     printk("<3>[drm:%s] *ERROR* Failed to allocate ringbuffer\n", "i915_gem_init_ringbuffer");
---
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
17463a17464,17465
>     printk("<3>[drm:%s] *ERROR* Failed to allocate ringbuffer\n", "i915_gem_init_ringbuffer");
> #line 2361
17468c17470
< #line 2362
---
> #line 2363
17470,17471d17471
< #line 2364
<   ret = i915_gem_object_pin(obj, 4096);
17473c17473
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, 4096);
17475c17475
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
17476a17477,17478
>     drm_gem_object_unreference(obj);
> #line 2368
17481,17482d17482
< #line 2371
<   dev_priv->ring.Size = obj->size;
17483a17484,17485
>   dev_priv->ring.Size = obj->size;
> #line 2373
17485,17486d17486
< #line 2374
<   dev_priv->ring.map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
17488c17488
<   dev_priv->ring.map.size = obj->size;
---
>   dev_priv->ring.map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
17490c17490
<   dev_priv->ring.map.type = 0;
---
>   dev_priv->ring.map.size = obj->size;
17492c17492
<   dev_priv->ring.map.flags = 0;
---
>   dev_priv->ring.map.type = 0;
17493a17494,17495
>   dev_priv->ring.map.flags = 0;
> #line 2379
17495,17496d17496
< #line 2380
<   drm_core_ioremap_wc(& dev_priv->ring.map, dev);
17498c17498
<   if ((unsigned long )dev_priv->ring.map.handle == (unsigned long )((void *)0)) {
---
>   drm_core_ioremap_wc(& dev_priv->ring.map, dev);
17500c17500
<     printk("<3>[drm:%s] *ERROR* Failed to map ringbuffer.\n", "i915_gem_init_ringbuffer");
---
>   if ((unsigned long )dev_priv->ring.map.handle == (unsigned long )((void *)0)) {
17502c17502
<     memset(& dev_priv->ring, 0, sizeof(dev_priv->ring));
---
>     printk("<3>[drm:%s] *ERROR* Failed to map ringbuffer.\n", "i915_gem_init_ringbuffer");
17504c17504
<     drm_gem_object_unreference(obj);
---
>     memset(& dev_priv->ring, 0, sizeof(dev_priv->ring));
17505a17506,17507
>     drm_gem_object_unreference(obj);
> #line 2386
17510,17511d17511
< #line 2387
<   dev_priv->ring.ring_obj = obj;
17512a17513,17514
>   dev_priv->ring.ring_obj = obj;
> #line 2389
17514,17515d17515
< #line 2391
<   writel(0, dev_priv->regs + 8252);
17517c17517
<   writel(0, dev_priv->regs + 8244);
---
>   writel(0, dev_priv->regs + 8252);
17519c17519
<   writel(0, dev_priv->regs + 8240);
---
>   writel(0, dev_priv->regs + 8244);
17520a17521,17522
>   writel(0, dev_priv->regs + 8240);
> #line 2395
17522,17523d17523
< #line 2397
<   writel(obj_priv->gtt_offset, dev_priv->regs + 8248);
17524a17525,17526
>   writel(obj_priv->gtt_offset, dev_priv->regs + 8248);
> #line 2399
17526c17528
< #line 2404
---
> #line 2405
17528c17530
< #line 2406
---
> #line 2407
17532c17534
< #line 2409 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2410 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17538c17540
< #line 2412
---
> #line 2413
17540,17541d17541
< #line 2414
<   if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
17542a17543,17544
>   if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
> #line 2416
17547c17549
< #line 2417
---
> #line 2418
17549,17550d17550
< #line 2419
<   i915_gem_object_unpin(dev_priv->ring.ring_obj);
17552c17552
<   drm_gem_object_unreference(dev_priv->ring.ring_obj);
---
>   i915_gem_object_unpin(dev_priv->ring.ring_obj);
17554c17554
<   dev_priv->ring.ring_obj = (void *)0;
---
>   drm_gem_object_unreference(dev_priv->ring.ring_obj);
17555a17556,17557
>   dev_priv->ring.ring_obj = (void *)0;
> #line 2423
17557,17558d17558
< #line 2424
<   if ((unsigned long )dev_priv->hws_obj != (unsigned long )((void *)0)) {
17560c17560
<     i915_gem_object_unpin(dev_priv->hws_obj);
---
>   if ((unsigned long )dev_priv->hws_obj != (unsigned long )((void *)0)) {
17562c17562
<     drm_gem_object_unreference(dev_priv->hws_obj);
---
>     i915_gem_object_unpin(dev_priv->hws_obj);
17564c17564
<     dev_priv->hws_obj = (void *)0;
---
>     drm_gem_object_unreference(dev_priv->hws_obj);
17565a17566,17567
>     dev_priv->hws_obj = (void *)0;
> #line 2429
17567c17569
< #line 2431
---
> #line 2432
17572c17574
< #line 2433
---
> #line 2434
17576c17578
< #line 2435 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2436 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17595c17597
< #line 2439
---
> #line 2440
17597,17598d17598
< #line 2442
<   if (dev_priv->mm.wedged) {
17600c17600
<     printk("<3>[drm:%s] *ERROR* Reenabling wedged hardware, good luck\n", "i915_gem_entervt_ioctl");
---
>   if (dev_priv->mm.wedged) {
17601a17602,17603
>     printk("<3>[drm:%s] *ERROR* Reenabling wedged hardware, good luck\n", "i915_gem_entervt_ioctl");
> #line 2445
17606,17607d17607
< #line 2447
<   ret = i915_gem_init_ringbuffer(dev);
17609c17609
<   if (ret != 0) {
---
>   ret = i915_gem_init_ringbuffer(dev);
17610a17611,17612
>   if (ret != 0) {
> #line 2450
17615,17616d17616
< #line 2451
<   mutex_lock_nested(& dev->struct_mutex, 0);
17617a17618,17619
>   mutex_lock_nested(& dev->struct_mutex, 0);
> #line 2453
17619c17621
< #line 2452
---
> #line 2453
17621c17623
< #line 2452
---
> #line 2453
17623c17625
< #line 2452
---
> #line 2453
17626c17628
< #line 2452
---
> #line 2453
17629c17631
< #line 2452
---
> #line 2453
17631c17633
< #line 2452
---
> #line 2453
17633c17635
< #line 2452
---
> #line 2453
17635c17637
< #line 2452
---
> #line 2453
17642,17643c17644,17645
<                              "i" (2452), "i" (sizeof(struct bug_entry )));
< #line 2452
---
>                              "i" (2453), "i" (sizeof(struct bug_entry )));
> #line 2453
17647c17649
< #line 2452
---
> #line 2453
17653c17655
< #line 2452
---
> #line 2453
17656c17658
< #line 2453
---
> #line 2454
17658c17660
< #line 2453
---
> #line 2454
17660c17662
< #line 2453
---
> #line 2454
17662c17664
< #line 2453
---
> #line 2454
17665c17667
< #line 2453
---
> #line 2454
17668c17670
< #line 2453
---
> #line 2454
17670c17672
< #line 2453
---
> #line 2454
17672c17674
< #line 2453
---
> #line 2454
17674c17676
< #line 2453
---
> #line 2454
17681,17682c17683,17684
<                              "i" (2453), "i" (sizeof(struct bug_entry )));
< #line 2453
---
>                              "i" (2454), "i" (sizeof(struct bug_entry )));
> #line 2454
17686c17688
< #line 2453
---
> #line 2454
17692c17694
< #line 2453
---
> #line 2454
17695c17697
< #line 2454
---
> #line 2455
17697c17699
< #line 2454
---
> #line 2455
17699c17701
< #line 2454
---
> #line 2455
17701c17703
< #line 2454
---
> #line 2455
17704c17706
< #line 2454
---
> #line 2455
17707c17709
< #line 2454
---
> #line 2455
17709c17711
< #line 2454
---
> #line 2455
17711c17713
< #line 2454
---
> #line 2455
17713c17715
< #line 2454
---
> #line 2455
17720,17721c17722,17723
<                              "i" (2454), "i" (sizeof(struct bug_entry )));
< #line 2454
---
>                              "i" (2455), "i" (sizeof(struct bug_entry )));
> #line 2455
17725c17727
< #line 2454
---
> #line 2455
17731c17733
< #line 2454
---
> #line 2455
17734c17736
< #line 2455
---
> #line 2456
17736c17738
< #line 2455
---
> #line 2456
17738c17740
< #line 2455
---
> #line 2456
17740c17742
< #line 2455
---
> #line 2456
17743c17745
< #line 2455
---
> #line 2456
17746c17748
< #line 2455
---
> #line 2456
17748c17750
< #line 2455
---
> #line 2456
17750c17752
< #line 2455
---
> #line 2456
17752c17754
< #line 2455
---
> #line 2456
17759,17760c17761,17762
<                              "i" (2455), "i" (sizeof(struct bug_entry )));
< #line 2455
---
>                              "i" (2456), "i" (sizeof(struct bug_entry )));
> #line 2456
17764c17766
< #line 2455
---
> #line 2456
17770c17772
< #line 2455
---
> #line 2456
17773,17774d17774
< #line 2456
<   dev_priv->mm.suspended = 0;
17775a17776,17777
>   dev_priv->mm.suspended = 0;
> #line 2458
17777c17779
< #line 2459
---
> #line 2460
17779c17781
< #line 2461
---
> #line 2462
17783c17785
< #line 2464 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2465 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17789,17790d17790
< #line 2470
<   mutex_lock_nested(& dev->struct_mutex, 0);
17792c17792
<   ret = i915_gem_idle(dev);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
17794c17794
<   if (ret == 0) {
---
>   ret = i915_gem_idle(dev);
17795a17796,17797
>   if (ret == 0) {
> #line 2474
17800c17802
< #line 2474
---
> #line 2475
17802c17804
< #line 2476
---
> #line 2477
17804c17806
< #line 2478
---
> #line 2479
17808c17810
< #line 2481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2482 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17815c17817
< #line 2485
---
> #line 2486
17817c17819
< #line 2487
---
> #line 2488
17819,17820d17820
< #line 2489
<   if ((unsigned long )dev_priv->ring.ring_obj != (unsigned long )((void *)0)) {
17822c17822
<     ret = i915_gem_idle(dev);
---
>   if ((unsigned long )dev_priv->ring.ring_obj != (unsigned long )((void *)0)) {
17824c17824
<     if (ret) {
---
>     ret = i915_gem_idle(dev);
17825a17826,17827
>     if (ret) {
> #line 2493
17831c17833
< #line 2494
---
> #line 2495
17836,17837d17837
< #line 2497
<   mutex_unlock(& dev->struct_mutex);
17838a17839,17840
>   mutex_unlock(& dev->struct_mutex);
> #line 2499
17842c17844
< #line 2509 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2510 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17844c17846
< #line 2511 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2512 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17846c17848
< #line 2500 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2501 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17854c17856
< #line 2503
---
> #line 2504
17856,17857d17857
< #line 2505
<   INIT_LIST_HEAD(& dev_priv->mm.active_list);
17859c17859
<   INIT_LIST_HEAD(& dev_priv->mm.flushing_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.active_list);
17861c17861
<   INIT_LIST_HEAD(& dev_priv->mm.inactive_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.flushing_list);
17863c17863
<   INIT_LIST_HEAD(& dev_priv->mm.request_list);
---
>   INIT_LIST_HEAD(& dev_priv->mm.inactive_list);
17864a17865,17866
>   INIT_LIST_HEAD(& dev_priv->mm.request_list);
> #line 2510
17866c17868
< #line 2509
---
> #line 2510
17868c17870
< #line 2509
---
> #line 2510
17870c17872
< #line 2509
---
> #line 2510
17872c17874
< #line 2509
---
> #line 2510
17875c17877
< #line 2509
---
> #line 2510
17877c17879
< #line 2509
---
> #line 2510
17879c17881
< #line 2509
---
> #line 2510
17881c17883
< #line 2509
---
> #line 2510
17884c17886
< #line 2509
---
> #line 2510
17887c17889
< #line 2509
---
> #line 2510
17889c17891
< #line 2509
---
> #line 2510
17892c17894
< #line 2511
---
> #line 2512
17894c17896
< #line 2511
---
> #line 2512
17896c17898
< #line 2511
---
> #line 2512
17898c17900
< #line 2511
---
> #line 2512
17901c17903
< #line 2511
---
> #line 2512
17903c17905
< #line 2511
---
> #line 2512
17905c17907
< #line 2511
---
> #line 2512
17907c17909
< #line 2511
---
> #line 2512
17910c17912
< #line 2511
---
> #line 2512
17913c17915
< #line 2513
---
> #line 2514
17915,17916d17916
< #line 2515
<   i915_gem_detect_bit_6_swizzle(dev);
17917a17918,17919
>   i915_gem_detect_bit_6_swizzle(dev);
> #line 2517
