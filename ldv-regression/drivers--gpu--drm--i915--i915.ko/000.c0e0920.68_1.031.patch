976a977,978
> #line 58
> struct module_param_attrs;
981a984
>    struct module_param_attrs *mp ;
983c986
< #line 70
---
> #line 71
985c988
< #line 221 "include/linux/module.h"
---
> #line 222 "include/linux/module.h"
989c992
< #line 226
---
> #line 227
995,997c998
< #line 233
< struct module_param_attrs;
< #line 233
---
> #line 234
999c1000
< #line 233
---
> #line 234
1001c1002
< #line 233 "include/linux/module.h"
---
> #line 234 "include/linux/module.h"
1007d1007
<    struct module_param_attrs *param_attrs ;
1028c1028
<    struct exception_table_entry  const  *extable ;
---
>    struct exception_table_entry *extable ;
2062c2062
< #line 59 "include/linux/pci.h"
---
> #line 60 "include/linux/pci.h"
2064c2064
< #line 59 "include/linux/pci.h"
---
> #line 60 "include/linux/pci.h"
2072c2072
< #line 81 "include/linux/pci.h"
---
> #line 87 "include/linux/pci.h"
2074c2074
< #line 95 "include/linux/pci.h"
---
> #line 101 "include/linux/pci.h"
2076c2076
< #line 97
---
> #line 103
2082c2082
< #line 121 "include/linux/pci.h"
---
> #line 127 "include/linux/pci.h"
2084c2084
< #line 131 "include/linux/pci.h"
---
> #line 137 "include/linux/pci.h"
2086c2086
< #line 143
---
> #line 149
2088c2088
< #line 144
---
> #line 150
2090c2090
< #line 149
---
> #line 155
2092c2092
< #line 149 "include/linux/pci.h"
---
> #line 155 "include/linux/pci.h"
2149c2149
< #line 283
---
> #line 289
2151c2151
< #line 283 "include/linux/pci.h"
---
> #line 289 "include/linux/pci.h"
2176c2176
< #line 329 "include/linux/pci.h"
---
> #line 335 "include/linux/pci.h"
2182c2182
< #line 348 "include/linux/pci.h"
---
> #line 354 "include/linux/pci.h"
2187c2187
< #line 360 "include/linux/pci.h"
---
> #line 366 "include/linux/pci.h"
2189c2189
< #line 380 "include/linux/pci.h"
---
> #line 386 "include/linux/pci.h"
2197c2197
< #line 401 "include/linux/pci.h"
---
> #line 407 "include/linux/pci.h"
2644c2644
< #line 335
---
> #line 334
2717c2717
< #line 422 "include/linux/sched.h"
---
> #line 421 "include/linux/sched.h"
2724c2724
< #line 429 "include/linux/sched.h"
---
> #line 428 "include/linux/sched.h"
2734c2734
< #line 448 "include/linux/sched.h"
---
> #line 447 "include/linux/sched.h"
2740c2740
< #line 466 "include/linux/sched.h"
---
> #line 465 "include/linux/sched.h"
2744c2744
< #line 477 "include/linux/sched.h"
---
> #line 476 "include/linux/sched.h"
2749c2749
< #line 477 "include/linux/sched.h"
---
> #line 476 "include/linux/sched.h"
2754c2754
< #line 477
---
> #line 476
2756c2756
< #line 477
---
> #line 476
2758c2758
< #line 477
---
> #line 476
2760c2760
< #line 477 "include/linux/sched.h"
---
> #line 476 "include/linux/sched.h"
2813c2813
< #line 624 "include/linux/sched.h"
---
> #line 623 "include/linux/sched.h"
2831c2831
< #line 665
---
> #line 664
2833c2833
< #line 668 "include/linux/sched.h"
---
> #line 667 "include/linux/sched.h"
2842c2842
< #line 689 "include/linux/sched.h"
---
> #line 688 "include/linux/sched.h"
2857c2857
< #line 734
---
> #line 733
2864c2864
< #line 778 "include/linux/sched.h"
---
> #line 777 "include/linux/sched.h"
2871c2871
< #line 795
---
> #line 794
2881c2881
< #line 813 "include/linux/sched.h"
---
> #line 812 "include/linux/sched.h"
2925c2925
< #line 890
---
> #line 889
2927c2927
< #line 893 "include/linux/sched.h"
---
> #line 892 "include/linux/sched.h"
2935c2935
< #line 930
---
> #line 929
2937c2937
< #line 935
---
> #line 934
2939c2939
< #line 938 "include/linux/sched.h"
---
> #line 937 "include/linux/sched.h"
2969c2969
< #line 986 "include/linux/sched.h"
---
> #line 985 "include/linux/sched.h"
2974c2974
< #line 1000 "include/linux/sched.h"
---
> #line 999 "include/linux/sched.h"
3017c3017
< #line 1057
---
> #line 1056
3019c3019
< #line 1057 "include/linux/sched.h"
---
> #line 1056 "include/linux/sched.h"
3030c3030
< #line 1073
---
> #line 1072
3032c3032
< #line 1073
---
> #line 1072
3034c3034
< #line 1073
---
> #line 1072
3036c3036
< #line 1073 "include/linux/sched.h"
---
> #line 1072 "include/linux/sched.h"
3782c3782
<    unsigned int plane ;
---
>    unsigned int pipe ;
3811d3810
<    struct work_struct vblank_work ;
3944a3944
>    struct work_struct vblank_work ;
4384c4384
< #line 245 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 254 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
4733c4733
< #line 66 "include/linux/module.h"
---
> #line 67 "include/linux/module.h"
4735c4735
< #line 67
---
> #line 68
4737c4737
< #line 85
---
> #line 86
4739c4739
< #line 599 "include/linux/pci.h"
---
> #line 606 "include/linux/pci.h"
4741c4741
< #line 611
---
> #line 618
4743c4743
< #line 612
---
> #line 619
4745c4745
< #line 641
---
> #line 650
4747c4747
< #line 642
---
> #line 651
4749c4749
< #line 643
---
> #line 652
4803c4803
< int i915_enable_vblank(struct drm_device *dev , int plane ) ;
---
> int i915_enable_vblank(struct drm_device *dev , int pipe ) ;
4805c4805
< void i915_disable_vblank(struct drm_device *dev , int plane ) ;
---
> void i915_disable_vblank(struct drm_device *dev , int pipe ) ;
4807c4807
< u32 i915_get_vblank_counter(struct drm_device *dev , int plane ) ;
---
> u32 i915_get_vblank_counter(struct drm_device *dev , int pipe ) ;
5236c5236
< #line 762 "include/linux/pci.h"
---
> #line 771 "include/linux/pci.h"
5238c5238
< #line 764
---
> #line 773
7969c7969
< #line 854 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 857 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8038,8040c8038,8040
< #line 848
<   if (! (dev->pci_device == 10098) && ! (dev->pci_device == 10146 || dev->pci_device == 10158)) {
< #line 849
---
> #line 851
>   if ((! (dev->pci_device == 10098) && ! (dev->pci_device == 10146 || dev->pci_device == 10158)) && ! (dev->pci_device == 10754)) {
> #line 852
8042c8042
< #line 849
---
> #line 852
8044c8044
< #line 850
---
> #line 853
8052c8052
< #line 852
---
> #line 855
8054c8054
< #line 854
---
> #line 857
8056c8056
< #line 854
---
> #line 857
8058c8058
< #line 854
---
> #line 857
8061c8061
< #line 856
---
> #line 859
8065c8065
< #line 859 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 862 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8071c8071
< #line 861
---
> #line 864
8073c8073
< #line 863
---
> #line 866
8075c8075
< #line 864
---
> #line 867
8080c8080
< #line 866
---
> #line 869
8082c8082
< #line 868
---
> #line 871
8084c8084
< #line 869
---
> #line 872
8089c8089
< #line 871
---
> #line 874
8091,8092d8090
< #line 873
<   drm_free(dev->dev_private, sizeof(drm_i915_private_t ), 2);
8093a8092,8093
>   drm_free(dev->dev_private, sizeof(drm_i915_private_t ), 2);
> #line 879
8097c8097
< #line 879 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 882 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8104c8104
< #line 883
---
> #line 886
8106c8106
< #line 883
---
> #line 886
8108c8108
< #line 883
---
> #line 886
8113c8113
< #line 883
---
> #line 886
8116c8116
< #line 884
---
> #line 887
8118,8119d8117
< #line 884
<   i915_file_priv = (struct drm_i915_file_private *)tmp;
8120a8119,8120
>   i915_file_priv = (struct drm_i915_file_private *)tmp;
> #line 890
8122c8122
< #line 888
---
> #line 891
8127c8127
< #line 890
---
> #line 893
8129c8129
< #line 892
---
> #line 895
8131c8131
< #line 893
---
> #line 896
8133c8133
< #line 895
---
> #line 898
8137c8137
< #line 898 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 901 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8143c8143
< #line 900
---
> #line 903
8145c8145
< #line 902
---
> #line 905
8147c8147
< #line 903
---
> #line 906
8152c8152
< #line 905
---
> #line 908
8154c8154
< #line 907
---
> #line 910
8156c8156
< #line 908
---
> #line 911
8161c8161
< #line 910
---
> #line 913
8163c8163
< #line 911
---
> #line 914
8167c8167
< #line 913 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 916 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8173c8173
< #line 915
---
> #line 918
8175c8175
< #line 916
---
> #line 919
8177c8177
< #line 917
---
> #line 920
8181c8181
< #line 919 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 922 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8187c8187
< #line 921
---
> #line 924
8189c8189
< #line 923
---
> #line 926
8191c8191
< #line 924
---
> #line 927
8195c8195
< #line 926 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 929 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8197c8197
< #line 926
---
> #line 929
8233c8233
< #line 962 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 965 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8235c8235
< #line 975 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
---
> #line 978 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_dma.c"
8241c8241
< #line 977
---
> #line 980
8339a8340,8342
> #line 264 "include/linux/lockdep.h"
> extern void lockdep_init_map(struct lockdep_map *lock , char const   *name , struct lock_class_key *key ,
>                              int subclass ) ;
8384c8387
< #line 192 "include/linux/workqueue.h"
---
> #line 194 "include/linux/workqueue.h"
8405c8408
< #line 329 "include/linux/sched.h"
---
> #line 328 "include/linux/sched.h"
8444a8448,8451
> #line 1091
> extern int drm_lock_take(struct drm_lock_data *lock_data , unsigned int context ) ;
> #line 1092
> extern int drm_lock_free(struct drm_lock_data *lock_data , unsigned int context ) ;
8447,8448d8453
< #line 1152
< extern void drm_locked_tasklet(struct drm_device *dev , void (*func)(struct drm_device * ) ) ;
8474c8479
< void i915_gem_vblank_work_handler(struct work_struct *work ) ;
---
> void i915_vblank_work_handler(struct work_struct *work ) ;
8526,8571d8530
< static int i915_get_pipe(struct drm_device *dev , int plane ) 
< { 
<   drm_i915_private_t *dev_priv ;
<   u32 dspcntr ;
<   unsigned int tmp ;
<   unsigned int tmp___0 ;
< 
<   {
< #line 74
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
< #line 77
<   if (plane) {
< #line 77
<     tmp = readl(dev_priv->regs + 463232);
< #line 77
<     dspcntr = tmp;
<   } else {
< #line 77
<     tmp___0 = readl(dev_priv->regs + 459136);
< #line 77
<     dspcntr = tmp___0;
<   }
< #line 79
<   return (dspcntr & (unsigned int )(1 << 24) ? 1 : 0);
< }
< }
< #line 91 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< static int i915_get_plane(struct drm_device *dev , int pipe ) 
< { 
<   int tmp ;
< 
<   {
< #line 94
<   tmp = i915_get_pipe(dev, 0);
< #line 94
<   if (tmp == pipe) {
< #line 95
<     return (0);
<   } else {
< 
<   }
< #line 96
<   return (1);
< }
< }
< #line 108 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
8579c8538
< #line 111
---
> #line 74
8581c8540
< #line 112
---
> #line 75
8583c8542
< #line 114
---
> #line 77
8585c8544
< #line 114
---
> #line 77
8587c8546
< #line 115
---
> #line 78
8592c8551
< #line 117
---
> #line 80
8596c8555
< #line 125 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 91 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
8626d8584
<   int tmp___0 ;
8630c8588
<   struct drm_drawable_info *tmp___1 ;
---
>   struct drm_drawable_info *tmp___0 ;
8639c8597
<   int plane ;
---
>   int pipe___0 ;
8647a8606
>   int tmp___1 ;
8649d8607
<   int tmp___3 ;
8654c8612
< #line 127
---
> #line 93
8656c8614
< #line 133
---
> #line 99
8658c8616
< #line 134
---
> #line 100
8660c8618
< #line 135
---
> #line 101
8662c8620
< #line 139
---
> #line 105
8664c8622
< #line 140
---
> #line 106
8666c8624
< #line 141
---
> #line 107
8668c8626,8628
< #line 144
---
> #line 110
>   mutex_lock_nested(& dev->struct_mutex, 0);
> #line 112
8670c8630
< #line 145
---
> #line 113
8672c8632
< #line 146
---
> #line 114
8677c8637
< #line 148
---
> #line 116
8679c8639
< #line 149
---
> #line 117
8681c8641
< #line 150
---
> #line 118
8686c8646
< #line 153
---
> #line 121
8688c8648
< #line 154
---
> #line 122
8690c8650
< #line 156
---
> #line 124
8692c8652
< #line 156
---
> #line 124
8694c8654
< #line 156
---
> #line 124
8699c8659
< #line 156
---
> #line 124
8702c8662
< #line 158
---
> #line 126
8704c8664
< #line 160
---
> #line 128
8706c8666
< #line 160
---
> #line 128
8708c8668
< #line 162
---
> #line 130
8710c8670
< #line 162
---
> #line 130
8712c8672
< #line 162
---
> #line 130
8715c8675
< #line 165
---
> #line 133
8717c8677
< #line 165
---
> #line 133
8719c8679
< #line 165
---
> #line 133
8721c8681
< #line 165
---
> #line 133
8725c8685
< #line 165
---
> #line 133
8728c8688
< #line 167
---
> #line 135
8730c8690
< #line 167
---
> #line 135
8732,8736c8692,8694
< #line 168
<     tmp___0 = i915_get_pipe(dev, vbl_swap->plane);
< #line 168
<     pipe = tmp___0;
< #line 170
---
> #line 136
>     pipe = vbl_swap->pipe;
> #line 138
8738c8696
< #line 171
---
> #line 139
8743c8701
< #line 173
---
> #line 141
8745c8703
< #line 174
---
> #line 142
8747c8705
< #line 175
---
> #line 143
8749c8707
< #line 177
---
> #line 145
8751c8709
< #line 178
---
> #line 146
8753c8711
< #line 180
---
> #line 148
8755,8768c8713
< #line 182
<     if (! drw) {
< #line 183
<       _spin_unlock(& dev->drw_lock);
< #line 184
<       drm_free(vbl_swap, sizeof(*vbl_swap), 2);
< #line 185
<       _spin_lock(& dev_priv->swaps_lock);
< #line 186
<       goto __Cont;
<     } else {
< 
<     }
< #line 189
---
> #line 150
8770c8715
< #line 189
---
> #line 150
8772c8717
< #line 189
---
> #line 150
8774c8719
< #line 189
---
> #line 150
8778c8723
< #line 189
---
> #line 150
8781c8726
< #line 191
---
> #line 152
8783c8728
< #line 191
---
> #line 152
8785,8791c8730,8736
< #line 192
<       tmp___1 = drm_get_drawable_info(dev, swap_cmp->drw_id);
< #line 192
<       drw_cmp = tmp___1;
< #line 195
<       if (drw_cmp && (int )(drw_cmp->rects + 0)->y1 > (int )(drw->rects + 0)->y1) {
< #line 197
---
> #line 153
>       tmp___0 = drm_get_drawable_info(dev, swap_cmp->drw_id);
> #line 153
>       drw_cmp = tmp___0;
> #line 161
>       if ((((drw_cmp && drw_cmp->num_rects > 0U) && drw) && drw->num_rects > 0U) && (int )(drw_cmp->rects + 0)->y1 > (int )(drw->rects + 0)->y1) {
> #line 164
8793c8738
< #line 198
---
> #line 165
8798c8743
< #line 189
---
> #line 150
8801c8746
< #line 202
---
> #line 169
8803c8748
< #line 205
---
> #line 172
8805c8750
< #line 206
---
> #line 173
8810c8755
< #line 208
---
> #line 175
8812c8757
< #line 210
---
> #line 177
8815c8760
< #line 165
---
> #line 133
8817c8762
< #line 165
---
> #line 133
8820c8765
< #line 213
---
> #line 180
8822c8767
< #line 214
---
> #line 181
8824c8769
< #line 214
---
> #line 181
8826c8771
< #line 214
---
> #line 181
8829c8774,8776
< #line 215
---
> #line 182
>     mutex_unlock(& dev->struct_mutex);
> #line 183
8834c8781
< #line 218
---
> #line 186
8836c8783
< #line 220
---
> #line 188
8838c8785
< #line 222
---
> #line 190
8840c8787
< #line 223
---
> #line 191
8842c8789
< #line 223
---
> #line 191
8844c8791
< #line 223
---
> #line 191
8849c8796
< #line 223
---
> #line 191
8851c8798
< #line 223
---
> #line 191
8853c8800
< #line 223
---
> #line 191
8855c8802
< #line 223
---
> #line 191
8857c8804
< #line 223
---
> #line 191
8860c8807
< #line 225
---
> #line 193
8862c8809
< #line 225
---
> #line 193
8864c8811
< #line 225
---
> #line 193
8866c8813
< #line 225
---
> #line 193
8868c8815
< #line 225
---
> #line 193
8870c8817
< #line 225
---
> #line 193
8873c8820
< #line 226
---
> #line 194
8875c8822
< #line 226
---
> #line 194
8877c8824
< #line 226
---
> #line 194
8879c8826
< #line 226
---
> #line 194
8881c8828
< #line 226
---
> #line 194
8883c8830
< #line 226
---
> #line 194
8886c8833
< #line 227
---
> #line 195
8888c8835
< #line 227
---
> #line 195
8890c8837
< #line 227
---
> #line 195
8892c8839
< #line 227
---
> #line 195
8894c8841
< #line 227
---
> #line 195
8896c8843
< #line 227
---
> #line 195
8899c8846
< #line 228
---
> #line 196
8901c8848
< #line 228
---
> #line 196
8903c8850
< #line 228
---
> #line 196
8905c8852
< #line 228
---
> #line 196
8907c8854
< #line 228
---
> #line 196
8909c8856
< #line 228
---
> #line 196
8912c8859
< #line 229
---
> #line 197
8914c8861
< #line 229
---
> #line 197
8916c8863
< #line 229
---
> #line 197
8918c8865
< #line 229
---
> #line 197
8920c8867
< #line 229
---
> #line 197
8924c8871
< #line 231
---
> #line 199
8926c8873
< #line 231
---
> #line 199
8928c8875
< #line 231
---
> #line 199
8933c8880
< #line 231
---
> #line 199
8935c8882
< #line 231
---
> #line 199
8937c8884
< #line 231
---
> #line 199
8939c8886
< #line 231
---
> #line 199
8941c8888
< #line 231
---
> #line 199
8944c8891
< #line 233
---
> #line 201
8946c8893
< #line 233
---
> #line 201
8948c8895
< #line 233
---
> #line 201
8950c8897
< #line 233
---
> #line 201
8952c8899
< #line 233
---
> #line 201
8954c8901
< #line 233
---
> #line 201
8957c8904
< #line 234
---
> #line 202
8959c8906
< #line 234
---
> #line 202
8961c8908
< #line 234
---
> #line 202
8963c8910
< #line 234
---
> #line 202
8965c8912
< #line 234
---
> #line 202
8967c8914
< #line 234
---
> #line 202
8970c8917
< #line 235
---
> #line 203
8972c8919
< #line 235
---
> #line 203
8974c8921
< #line 235
---
> #line 203
8976c8923
< #line 235
---
> #line 203
8978c8925
< #line 235
---
> #line 203
8980c8927
< #line 235
---
> #line 203
8983c8930
< #line 236
---
> #line 204
8985c8932
< #line 236
---
> #line 204
8987c8934
< #line 236
---
> #line 204
8989c8936
< #line 236
---
> #line 204
8991c8938
< #line 236
---
> #line 204
8993c8940
< #line 236
---
> #line 204
8996c8943
< #line 237
---
> #line 205
8998c8945
< #line 237
---
> #line 205
9000c8947
< #line 237
---
> #line 205
9002c8949
< #line 237
---
> #line 205
9004c8951
< #line 237
---
> #line 205
9006c8953
< #line 237
---
> #line 205
9009c8956
< #line 238
---
> #line 206
9011c8958
< #line 238
---
> #line 206
9013c8960
< #line 238
---
> #line 206
9015c8962
< #line 238
---
> #line 206
9017c8964
< #line 238
---
> #line 206
9019c8966
< #line 238
---
> #line 206
9022c8969
< #line 240
---
> #line 208
9024c8971
< #line 240
---
> #line 208
9026c8973
< #line 240
---
> #line 208
9028c8975
< #line 240
---
> #line 208
9030c8977
< #line 240
---
> #line 208
9034c8981
< #line 243
---
> #line 211
9036c8983
< #line 245
---
> #line 213
9038c8985
< #line 245
---
> #line 213
9040c8987
< #line 246
---
> #line 214
9042c8989
< #line 246
---
> #line 214
9044c8991
< #line 246
---
> #line 214
9046c8993
< #line 247
---
> #line 215
9048c8995
< #line 247
---
> #line 215
9050c8997
< #line 247
---
> #line 215
9052c8999
< #line 248
---
> #line 216
9054c9001
< #line 249
---
> #line 217
9056c9003
< #line 251
---
> #line 219
9058c9005
< #line 258
---
> #line 226
9060c9007
< #line 258
---
> #line 226
9062,9064c9009,9011
< #line 258
<     tmp___3 = i;
< #line 258
---
> #line 226
>     tmp___2 = i;
> #line 226
9066,9067c9013,9014
< #line 258
<     if (tmp___3 < nhits) {
---
> #line 226
>     if (tmp___2 < nhits) {
9070c9017
< #line 258
---
> #line 226
9073c9020
< #line 261
---
> #line 229
9075c9022
< #line 262
---
> #line 230
9077c9024
< #line 262
---
> #line 230
9082c9029
< #line 264
---
> #line 232
9084c9031
< #line 264
---
> #line 232
9086c9033
< #line 264
---
> #line 232
9088c9035
< #line 264
---
> #line 232
9092c9039
< #line 264
---
> #line 232
9095c9042
< #line 266
---
> #line 234
9097c9044
< #line 266
---
> #line 234
9099c9046
< #line 271
---
> #line 239
9101c9048
< #line 273
---
> #line 244
9103c9050
< #line 274
---
> #line 245
9108c9055
< #line 276
---
> #line 247
9110,9116c9057,9063
< #line 277
<       plane = swap_hit->plane;
< #line 278
<       top = upper[plane];
< #line 279
<       bottom = lower[plane];
< #line 281
---
> #line 248
>       pipe___0 = swap_hit->pipe;
> #line 249
>       top = upper[pipe___0];
> #line 250
>       bottom = lower[pipe___0];
> #line 252
9118c9065
< #line 281
---
> #line 252
9120,9122c9067,9069
< #line 281
<         tmp___2 = num_rects;
< #line 281
---
> #line 252
>         tmp___1 = num_rects;
> #line 252
9124,9125c9071,9072
< #line 281
<         if (tmp___2) {
---
> #line 252
>         if (tmp___1) {
9128c9075
< #line 281
---
> #line 252
9131c9078
< #line 282
---
> #line 253
9133c9080
< #line 282
---
> #line 253
9135c9082
< #line 282
---
> #line 253
9137c9084
< #line 283
---
> #line 254
9139c9086
< #line 283
---
> #line 254
9141c9088
< #line 283
---
> #line 254
9143c9090
< #line 285
---
> #line 256
9145c9092
< #line 286
---
> #line 257
9150c9097
< #line 288
---
> #line 259
9152c9099
< #line 288
---
> #line 259
9154c9101
< #line 288
---
> #line 259
9159c9106
< #line 288
---
> #line 259
9161c9108
< #line 288
---
> #line 259
9163c9110
< #line 288
---
> #line 259
9165c9112
< #line 288
---
> #line 259
9167c9114
< #line 288
---
> #line 259
9170c9117
< #line 290
---
> #line 261
9172c9119
< #line 290
---
> #line 261
9174c9121
< #line 290
---
> #line 261
9176c9123
< #line 290
---
> #line 261
9178c9125
< #line 290
---
> #line 261
9180c9127
< #line 290
---
> #line 261
9183c9130
< #line 291
---
> #line 262
9185c9132
< #line 291
---
> #line 262
9187c9134
< #line 291
---
> #line 262
9189c9136
< #line 291
---
> #line 262
9191c9138
< #line 291
---
> #line 262
9193c9140
< #line 291
---
> #line 262
9196c9143
< #line 292
---
> #line 263
9198c9145
< #line 292
---
> #line 263
9200c9147
< #line 292
---
> #line 263
9202c9149
< #line 292
---
> #line 263
9204c9151
< #line 292
---
> #line 263
9206c9153
< #line 292
---
> #line 263
9209c9156
< #line 293
---
> #line 264
9211c9158
< #line 293
---
> #line 264
9213c9160
< #line 293
---
> #line 264
9215c9162
< #line 293
---
> #line 264
9217c9164
< #line 293
---
> #line 264
9219c9166
< #line 293
---
> #line 264
9222c9169
< #line 294
---
> #line 265
9224c9171
< #line 294
---
> #line 265
9226c9173
< #line 294
---
> #line 265
9228c9175
< #line 294
---
> #line 265
9230c9177
< #line 294
---
> #line 265
9232c9179
< #line 294
---
> #line 265
9235c9182
< #line 295
---
> #line 266
9237c9184
< #line 295
---
> #line 266
9239c9186
< #line 295
---
> #line 266
9241c9188
< #line 295
---
> #line 266
9243c9190
< #line 295
---
> #line 266
9245c9192
< #line 295
---
> #line 266
9248c9195
< #line 296
---
> #line 267
9250c9197
< #line 296
---
> #line 267
9252c9199
< #line 296
---
> #line 267
9254c9201
< #line 296
---
> #line 267
9256c9203
< #line 296
---
> #line 267
9258c9205
< #line 296
---
> #line 267
9261c9208
< #line 297
---
> #line 268
9263c9210
< #line 297
---
> #line 268
9265c9212
< #line 297
---
> #line 268
9267c9214
< #line 297
---
> #line 268
9269c9216
< #line 297
---
> #line 268
9271c9218
< #line 297
---
> #line 268
9274c9221
< #line 299
---
> #line 270
9276c9223
< #line 299
---
> #line 270
9278c9225
< #line 299
---
> #line 270
9280c9227
< #line 299
---
> #line 270
9282c9229
< #line 299
---
> #line 270
9286c9233
< #line 281
---
> #line 252
9290c9237
< #line 264
---
> #line 232
9293c9240
< #line 258
---
> #line 226
9295c9242
< #line 258
---
> #line 226
9297c9244
< #line 258
---
> #line 226
9299c9246
< #line 258
---
> #line 226
9302c9249
< #line 304
---
> #line 275
9304c9251
< #line 304
---
> #line 275
9306c9253
< #line 304
---
> #line 275
9309c9256,9258
< #line 306
---
> #line 276
>   mutex_unlock(& dev->struct_mutex);
> #line 278
9311c9260
< #line 306
---
> #line 278
9313c9262
< #line 306
---
> #line 278
9315c9264
< #line 306
---
> #line 278
9319c9268
< #line 306
---
> #line 278
9322c9271
< #line 308
---
> #line 280
9324c9273
< #line 308
---
> #line 280
9326c9275
< #line 310
---
> #line 282
9328c9277
< #line 312
---
> #line 284
9330c9279
< #line 306
---
> #line 278
9332c9281
< #line 306
---
> #line 278
9335c9284
< #line 314
---
> #line 286
9339,9340c9288,9289
< #line 316 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< u32 i915_get_vblank_counter(struct drm_device *dev , int plane ) 
---
> #line 291 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> u32 i915_get_vblank_counter(struct drm_device *dev , int pipe ) 
9349d9297
<   int pipe ;
9356c9304
< #line 318
---
> #line 293
9358,9360c9306
< #line 324
<   pipe = i915_get_pipe(dev, plane);
< #line 325
---
> #line 298
9362c9308
< #line 326
---
> #line 299
9364c9310
< #line 328
---
> #line 301
9366c9312
< #line 328
---
> #line 301
9370c9316
< #line 329
---
> #line 302
9373c9319
< #line 330
---
> #line 303
9376c9322
< #line 338
---
> #line 311
9378c9324
< #line 339
---
> #line 312
9380c9326
< #line 339
---
> #line 312
9382c9328
< #line 341
---
> #line 314
9384c9330
< #line 341
---
> #line 314
9386c9332
< #line 343
---
> #line 316
9388c9334
< #line 343
---
> #line 316
9390c9336
< #line 338
---
> #line 311
9394c9340
< #line 338
---
> #line 311
9398c9344
< #line 347
---
> #line 320
9400c9346
< #line 349
---
> #line 322
9404,9405c9350,9351
< #line 352 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< void i915_gem_vblank_work_handler(struct work_struct *work ) 
---
> #line 325 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> void i915_vblank_work_handler(struct work_struct *work ) 
9408d9353
<   struct drm_device *dev ;
9409a9355,9357
>   struct drm_device *dev ;
>   unsigned long irqflags ;
>   int tmp ;
9412c9360
< #line 358
---
> #line 328
9414,9416c9362,9364
< #line 358
<   dev_priv = (drm_i915_private_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_private_t *)0)->mm.vblank_work));
< #line 360
---
> #line 328
>   dev_priv = (drm_i915_private_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_private_t *)0)->vblank_work));
> #line 330
9418,9420c9366,9420
< #line 362
<   mutex_lock_nested(& dev->struct_mutex, 0);
< #line 363
---
> #line 333
>   if ((unsigned long )dev->lock.hw_lock == (unsigned long )((void *)0)) {
> #line 334
>     i915_vblank_tasklet(dev);
> #line 335
>     return;
>   } else {
> 
>   }
> #line 338
>   while (1) {
> #line 338
>     irqflags = _spin_lock_irqsave(& dev->tasklet_lock);
> #line 338
>     break;
>   }
> #line 339
>   dev->locked_tasklet_func = & i915_vblank_tasklet;
> #line 340
>   while (1) {
> #line 340
>     _spin_unlock_irqrestore(& dev->tasklet_lock, irqflags);
> #line 340
>     break;
>   }
> #line 345
>   tmp = drm_lock_take(& dev->lock, 0);
> #line 345
>   if (tmp) {
> 
>   } else {
> #line 346
>     return;
>   }
> #line 348
>   dev->lock.lock_time = jiffies;
> #line 349
>   atomic_inc(& dev->counts[_DRM_STAT_LOCKS]);
> #line 351
>   while (1) {
> #line 351
>     irqflags = _spin_lock_irqsave(& dev->tasklet_lock);
> #line 351
>     break;
>   }
> #line 352
>   dev->locked_tasklet_func = (void *)0;
> #line 353
>   while (1) {
> #line 353
>     _spin_unlock_irqrestore(& dev->tasklet_lock, irqflags);
> #line 353
>     break;
>   }
> #line 355
9422,9424c9422,9424
< #line 364
<   mutex_unlock(& dev->struct_mutex);
< #line 365
---
> #line 356
>   drm_lock_free(& dev->lock, 0);
> #line 357
9428c9428
< #line 367 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 359 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9437,9438d9436
<   int tmp ;
<   int tmp___0 ;
9441c9439
< #line 369
---
> #line 361
9443c9441
< #line 370
---
> #line 362
9445c9443
< #line 373
---
> #line 365
9447c9445
< #line 375
---
> #line 367
9449c9447
< #line 377
---
> #line 369
9451c9449
< #line 378
---
> #line 370
9456c9454
< #line 379
---
> #line 371
9458c9456
< #line 381
---
> #line 373
9460c9458
< #line 382
---
> #line 374
9462c9460
< #line 383
---
> #line 375
9464c9462
< #line 384
---
> #line 376
9469c9467
< #line 386
---
> #line 378
9474c9472
< #line 393
---
> #line 385
9476c9474
< #line 394
---
> #line 386
9478c9476
< #line 395
---
> #line 387
9480c9478
< #line 396
---
> #line 388
9483c9481
< #line 398
---
> #line 390
9485c9483
< #line 400
---
> #line 392
9487,9490c9485,9486
< #line 401
<       tmp = i915_get_plane(dev, 0);
< #line 401
<       drm_handle_vblank(dev, tmp);
---
> #line 393
>       drm_handle_vblank(dev, 0);
9494c9490
< #line 404
---
> #line 396
9499c9495
< #line 406
---
> #line 398
9501c9497
< #line 407
---
> #line 399
9503c9499
< #line 409
---
> #line 401
9505c9501
< #line 413
---
> #line 405
9507c9503
< #line 414
---
> #line 406
9510c9506
< #line 416
---
> #line 408
9512c9508
< #line 418
---
> #line 410
9514,9517c9510,9511
< #line 419
<       tmp___0 = i915_get_plane(dev, 1);
< #line 419
<       drm_handle_vblank(dev, tmp___0);
---
> #line 411
>       drm_handle_vblank(dev, 1);
9521c9515
< #line 422
---
> #line 414
9523c9517
< #line 423
---
> #line 415
9528c9522
< #line 424
---
> #line 416
9533c9527
< #line 427
---
> #line 419
9535c9529
< #line 428
---
> #line 420
9537c9531
< #line 429
---
> #line 421
9542c9536
< #line 430
---
> #line 422
9544c9538
< #line 432
---
> #line 424
9546c9540
< #line 433
---
> #line 425
9551c9545
< #line 436
---
> #line 428
9553c9547
< #line 437
---
> #line 429
9555c9549
< #line 438
---
> #line 430
9560c9554
< #line 441
---
> #line 433
9562c9556
< #line 442
---
> #line 434
9567c9561
< #line 444
---
> #line 436
9569,9576c9563,9564
< #line 445
<     if ((unsigned long )dev_priv->ring.ring_obj == (unsigned long )((void *)0)) {
< #line 446
<       drm_locked_tasklet(dev, & i915_vblank_tasklet);
<     } else {
< #line 448
<       schedule_work(& dev_priv->mm.vblank_work);
<     }
---
> #line 437
>     schedule_work(& dev_priv->vblank_work);
9580c9568
< #line 451
---
> #line 439
9584c9572
< #line 454 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 442 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9594c9582
< #line 456
---
> #line 444
9596c9584
< #line 459
---
> #line 447
9598c9586
< #line 461
---
> #line 449
9600c9588
< #line 461
---
> #line 449
9602c9590
< #line 461
---
> #line 449
9607c9595
< #line 461
---
> #line 449
9610c9598
< #line 463
---
> #line 451
9612c9600
< #line 464
---
> #line 452
9614c9602
< #line 465
---
> #line 453
9619c9607
< #line 466
---
> #line 454
9621c9609
< #line 467
---
> #line 455
9626c9614
< #line 469
---
> #line 457
9628c9616
< #line 469
---
> #line 457
9630c9618
< #line 469
---
> #line 457
9635c9623
< #line 469
---
> #line 457
9637c9625
< #line 469
---
> #line 457
9639c9627
< #line 469
---
> #line 457
9641c9629
< #line 469
---
> #line 457
9643c9631
< #line 469
---
> #line 457
9646c9634
< #line 470
---
> #line 458
9648c9636
< #line 470
---
> #line 458
9650c9638
< #line 470
---
> #line 458
9652c9640
< #line 470
---
> #line 458
9654c9642
< #line 470
---
> #line 458
9656c9644
< #line 470
---
> #line 458
9659c9647
< #line 471
---
> #line 459
9661c9649
< #line 471
---
> #line 459
9663c9651
< #line 471
---
> #line 459
9665c9653
< #line 471
---
> #line 459
9667c9655
< #line 471
---
> #line 459
9669c9657
< #line 471
---
> #line 459
9672c9660
< #line 472
---
> #line 460
9674c9662
< #line 472
---
> #line 460
9676c9664
< #line 472
---
> #line 460
9678c9666
< #line 472
---
> #line 460
9680c9668
< #line 472
---
> #line 460
9682c9670
< #line 472
---
> #line 460
9685c9673
< #line 473
---
> #line 461
9687c9675
< #line 473
---
> #line 461
9689c9677
< #line 473
---
> #line 461
9691c9679
< #line 473
---
> #line 461
9693c9681
< #line 473
---
> #line 461
9695c9683
< #line 473
---
> #line 461
9698c9686
< #line 474
---
> #line 462
9700c9688
< #line 474
---
> #line 462
9702c9690
< #line 474
---
> #line 462
9704c9692
< #line 474
---
> #line 462
9706c9694
< #line 474
---
> #line 462
9708c9696
< #line 474
---
> #line 462
9711c9699
< #line 475
---
> #line 463
9713c9701
< #line 475
---
> #line 463
9715c9703
< #line 475
---
> #line 463
9717c9705
< #line 475
---
> #line 463
9719c9707
< #line 475
---
> #line 463
9721c9709
< #line 475
---
> #line 463
9724c9712
< #line 476
---
> #line 464
9726c9714
< #line 476
---
> #line 464
9728c9716
< #line 476
---
> #line 464
9730c9718
< #line 476
---
> #line 464
9732c9720
< #line 476
---
> #line 464
9735c9723
< #line 478
---
> #line 466
9739c9727
< #line 481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 469 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9742a9731
>   unsigned long irqflags ;
9745c9734
< #line 483
---
> #line 471
9747,9749c9736,9743
< #line 485
<   _spin_lock(& dev_priv->user_irq_lock);
< #line 486
---
> #line 474
>   while (1) {
> #line 474
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 474
>     break;
>   }
> #line 475
9751c9745
< #line 486
---
> #line 475
9753c9747
< #line 486
---
> #line 475
9755c9749
< #line 487
---
> #line 476
9763,9765c9757,9764
< #line 488
<   _spin_unlock(& dev_priv->user_irq_lock);
< #line 489
---
> #line 477
>   while (1) {
> #line 477
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 477
>     break;
>   }
> #line 478
9769c9768
< #line 491 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 480 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9772a9772
>   unsigned long irqflags ;
9776c9776
< #line 493
---
> #line 482
9778,9780c9778
< #line 495
<   _spin_lock(& dev_priv->user_irq_lock);
< #line 496
---
> #line 485
9782c9780,9787
< #line 496
---
> #line 485
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 485
>     break;
>   }
> #line 486
>   while (1) {
> #line 486
9785c9790
< #line 496
---
> #line 486
9787c9792
< #line 496
---
> #line 486
9789c9794
< #line 496
---
> #line 486
9796,9797c9801,9802
<                              "i" (496), "i" (sizeof(struct bug_entry )));
< #line 496
---
>                              "i" (486), "i" (sizeof(struct bug_entry )));
> #line 486
9801c9806
< #line 496
---
> #line 486
9807c9812
< #line 496
---
> #line 486
9810c9815
< #line 497
---
> #line 487
9812c9817
< #line 497
---
> #line 487
9814c9819
< #line 497
---
> #line 487
9816c9821
< #line 498
---
> #line 488
9824,9826c9829,9836
< #line 499
<   _spin_unlock(& dev_priv->user_irq_lock);
< #line 500
---
> #line 489
>   while (1) {
> #line 489
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 489
>     break;
>   }
> #line 490
9830c9840
< #line 502 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 492 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9844c9854
< #line 504
---
> #line 494
9846c9856
< #line 505
---
> #line 495
9848c9858
< #line 507
---
> #line 497
9850c9860
< #line 507
---
> #line 497
9852c9862
< #line 507
---
> #line 497
9857c9867
< #line 507
---
> #line 497
9860c9870
< #line 510
---
> #line 500
9862c9872
< #line 511
---
> #line 501
9864c9874
< #line 512
---
> #line 502
9869c9879
< #line 515
---
> #line 505
9874c9884
< #line 518
---
> #line 508
9876c9886
< #line 519
---
> #line 509
9881c9891
< #line 521
---
> #line 511
9883c9893
< #line 522
---
> #line 512
9885c9895
< #line 522
---
> #line 512
9887c9897
< #line 522
---
> #line 512
9889c9899
< #line 522
---
> #line 512
9891c9901
< #line 522
---
> #line 512
9893c9903
< #line 522
---
> #line 512
9895c9905
< #line 522
---
> #line 512
9897c9907
< #line 522
---
> #line 512
9899c9909
< #line 522
---
> #line 512
9901c9911
< #line 522
---
> #line 512
9903c9913
< #line 522
---
> #line 512
9905c9915
< #line 522
---
> #line 512
9907c9917
< #line 522
---
> #line 512
9909c9919
< #line 522
---
> #line 512
9912c9922
< #line 522
---
> #line 512
9914c9924
< #line 522
---
> #line 512
9919c9929
< #line 522
---
> #line 512
9921c9931
< #line 522
---
> #line 512
9923c9933
< #line 522
---
> #line 512
9928c9938
< #line 522
---
> #line 512
9930c9940
< #line 522
---
> #line 512
9932c9942
< #line 522
---
> #line 512
9934c9944
< #line 522
---
> #line 512
9936c9946
< #line 522
---
> #line 512
9938c9948
< #line 522
---
> #line 512
9944c9954
< #line 522
---
> #line 512
9946c9956
< #line 522
---
> #line 512
9948c9958
< #line 522
---
> #line 512
9950c9960
< #line 522
---
> #line 512
9953c9963
< #line 522
---
> #line 512
9955c9965
< #line 522
---
> #line 512
9958c9968
< #line 524
---
> #line 514
9960c9970
< #line 526
---
> #line 516
9962c9972
< #line 527
---
> #line 517
9968c9978
< #line 531
---
> #line 521
9970c9980
< #line 532
---
> #line 522
9975c9985
< #line 535
---
> #line 525
9979c9989
< #line 540 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 530 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9988c9998
< #line 543
---
> #line 533
9990c10000
< #line 544
---
> #line 534
9992c10002
< #line 547
---
> #line 537
9994c10004
< #line 547
---
> #line 537
9996c10006
< #line 547
---
> #line 537
9998c10008
< #line 547
---
> #line 537
10000c10010
< #line 547
---
> #line 537
10004c10014
< #line 547
---
> #line 537
10009c10019
< #line 547
---
> #line 537
10015c10025
< #line 547
---
> #line 537
10018c10028
< #line 549
---
> #line 539
10020c10030
< #line 550
---
> #line 540
10022c10032
< #line 551
---
> #line 541
10027c10037
< #line 553
---
> #line 543
10029c10039
< #line 554
---
> #line 544
10031c10041
< #line 555
---
> #line 545
10033c10043
< #line 557
---
> #line 547
10035c10045
< #line 557
---
> #line 547
10037c10047
< #line 558
---
> #line 548
10039c10049
< #line 559
---
> #line 549
10044c10054
< #line 562
---
> #line 552
10048c10058
< #line 567 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 557 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10056c10066
< #line 570
---
> #line 560
10058c10068
< #line 571
---
> #line 561
10060c10070
< #line 573
---
> #line 563
10062c10072
< #line 574
---
> #line 564
10064c10074
< #line 575
---
> #line 565
10069c10079
< #line 578
---
> #line 568
10071c10081
< #line 578
---
> #line 568
10075,10076c10085,10086
< #line 581 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< int i915_enable_vblank(struct drm_device *dev , int plane ) 
---
> #line 574 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> int i915_enable_vblank(struct drm_device *dev , int pipe ) 
10079,10080d10088
<   int pipe ;
<   int tmp ;
10082a10091,10092
>   u32 interrupt ;
>   unsigned long irqflags ;
10085c10095
< #line 583
---
> #line 576
10087,10091c10097
< #line 584
<   tmp = i915_get_pipe(dev, plane);
< #line 584
<   pipe = tmp;
< #line 585
---
> #line 577
10093c10099,10101
< #line 588
---
> #line 579
>   interrupt = 0;
> #line 582
10096c10104
< #line 590
---
> #line 584
10098,10100c10106,10108
< #line 591
<   i915_enable_irq(dev_priv, 1 << 6);
< #line 592
---
> #line 585
>   interrupt = 1 << 6;
> #line 586
10103c10111
< #line 594
---
> #line 588
10105,10107c10113,10115
< #line 595
<   i915_enable_irq(dev_priv, 1 << 4);
< #line 596
---
> #line 589
>   interrupt = 1 << 4;
> #line 590
10110c10118
< #line 598
---
> #line 592
10113,10114c10121,10129
< #line 600
<   break;
---
> #line 594
>   return (0);
>   }
> #line 597
>   while (1) {
> #line 597
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 597
>     break;
10116,10121d10130
< #line 603
<   if (pipestat_reg) {
< #line 604
<     pipestat = readl(dev_priv->regs + pipestat_reg);
< #line 605
<     if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
10123,10124c10132,10134
<       pipestat = (unsigned long )pipestat | (1UL << 18);
<     } else {
---
>   i915_enable_irq(dev_priv, interrupt);
> #line 607
>   pipestat = readl(dev_priv->regs + pipestat_reg);
10126,10131c10136,10138
<       pipestat = (unsigned long )pipestat | (1UL << 17);
<     }
< #line 610
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
< #line 612
<     writel(pipestat, dev_priv->regs + pipestat_reg);
---
>   if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 609
>     pipestat = (unsigned long )pipestat | (1UL << 18);
10133c10140,10141
< 
---
> #line 611
>     pipestat = (unsigned long )pipestat | (1UL << 17);
10134a10143,10144
> #line 613
>   pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
10135a10146,10156
>   writel(pipestat, dev_priv->regs + pipestat_reg);
> #line 616
>   readl(dev_priv->regs + pipestat_reg);
> #line 617
>   while (1) {
> #line 617
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 617
>     break;
>   }
> #line 619
10139,10140c10160,10161
< #line 618 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
< void i915_disable_vblank(struct drm_device *dev , int plane ) 
---
> #line 625 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> void i915_disable_vblank(struct drm_device *dev , int pipe ) 
10143,10144d10163
<   int pipe ;
<   int tmp ;
10146a10166,10167
>   u32 interrupt ;
>   unsigned long irqflags ;
10149c10170
< #line 620
---
> #line 627
10151,10155c10172
< #line 621
<   tmp = i915_get_pipe(dev, plane);
< #line 621
<   pipe = tmp;
< #line 622
---
> #line 628
10157c10174,10176
< #line 625
---
> #line 630
>   interrupt = 0;
> #line 633
10160c10179
< #line 627
---
> #line 635
10162,10164c10181,10183
< #line 628
<   i915_disable_irq(dev_priv, 1 << 6);
< #line 629
---
> #line 636
>   interrupt = 1 << 6;
> #line 637
10167c10186
< #line 631
---
> #line 639
10169,10171c10188,10190
< #line 632
<   i915_disable_irq(dev_priv, 1 << 4);
< #line 633
---
> #line 640
>   interrupt = 1 << 4;
> #line 641
10174c10193
< #line 635
---
> #line 643
10177,10185d10195
< #line 637
<   break;
<   }
< #line 640
<   if (pipestat_reg) {
< #line 641
<     pipestat = readl(dev_priv->regs + pipestat_reg);
< #line 642
<     pipestat = (unsigned long )pipestat & ~ ((1UL << 18) | (1UL << 17));
10187,10191c10197,10199
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
< #line 647
<     writel(pipestat, dev_priv->regs + pipestat_reg);
<   } else {
< 
---
>   return;
> #line 646
>   break;
10193a10202,10227
>   while (1) {
> #line 649
>     irqflags = _spin_lock_irqsave(& dev_priv->user_irq_lock);
> #line 649
>     break;
>   }
> #line 650
>   i915_disable_irq(dev_priv, interrupt);
> #line 651
>   pipestat = readl(dev_priv->regs + pipestat_reg);
> #line 652
>   pipestat = (unsigned long )pipestat & ~ ((1UL << 18) | (1UL << 17));
> #line 655
>   pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
> #line 657
>   writel(pipestat, dev_priv->regs + pipestat_reg);
> #line 658
>   readl(dev_priv->regs + pipestat_reg);
> #line 659
>   while (1) {
> #line 659
>     _spin_unlock_irqrestore(& dev_priv->user_irq_lock, irqflags);
> #line 659
>     break;
>   }
> #line 660
10197c10231
< #line 653 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 664 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10203c10237
< #line 656
---
> #line 667
10205c10239
< #line 658
---
> #line 669
10207c10241
< #line 659
---
> #line 670
10209c10243
< #line 660
---
> #line 671
10214c10248
< #line 663
---
> #line 674
10218c10252
< #line 666 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 677 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10225c10259
< #line 669
---
> #line 680
10227c10261
< #line 670
---
> #line 681
10229c10263
< #line 672
---
> #line 683
10231c10265
< #line 673
---
> #line 684
10233c10267
< #line 674
---
> #line 685
10238c10272
< #line 677
---
> #line 688
10240c10274
< #line 679
---
> #line 690
10244c10278
< #line 685 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 696 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10249a10284
>   drm_i915_vbl_swap_t *vbl_old ;
10253d10287
<   unsigned int plane ;
10257,10258c10291,10292
<   int tmp ;
<   struct drm_drawable_info *tmp___0 ;
---
>   struct drm_drawable_info *tmp ;
>   void *tmp___0 ;
10260c10294,10296
<   void *tmp___1 ;
---
>   u32 tmp___1 ;
>   u32 tmp___2 ;
>   struct list_head  const  *__mptr___0 ;
10263c10299
< #line 688
---
> #line 699
10265c10301
< #line 689
---
> #line 700
10267c10303
< #line 696
---
> #line 707
10269c10305
< #line 697
---
> #line 708
10272c10308
< #line 698
---
> #line 709
10277c10313
< #line 701
---
> #line 712
10279c10315
< #line 702
---
> #line 713
10281c10317
< #line 702
---
> #line 713
10283c10319
< #line 702
---
> #line 713
10288c10324
< #line 702
---
> #line 713
10291c10327
< #line 703
---
> #line 714
10296c10332
< #line 706
---
> #line 717
10298c10334
< #line 708
---
> #line 719
10301c10337
< #line 709
---
> #line 720
10306,10312c10342,10344
< #line 712
<   plane = (unsigned int )swap->seqtype & (unsigned int )_DRM_VBLANK_SECONDARY ? 1 : 0;
< #line 713
<   tmp = i915_get_pipe(dev, plane);
< #line 713
<   pipe = tmp;
< #line 715
---
> #line 723
>   pipe = (unsigned int )swap->seqtype & (unsigned int )_DRM_VBLANK_SECONDARY ? 1 : 0;
> #line 725
10314c10346
< #line 717
---
> #line 727
10316c10348
< #line 718
---
> #line 728
10318c10350
< #line 719
---
> #line 729
10323c10355
< #line 722
---
> #line 732
10325c10357
< #line 722
---
> #line 732
10327c10359
< #line 722
---
> #line 732
10330,10333c10362,10365
< #line 724
<   tmp___0 = drm_get_drawable_info(dev, swap->drawable);
< #line 724
<   if (tmp___0) {
---
> #line 734
>   tmp = drm_get_drawable_info(dev, swap->drawable);
> #line 734
>   if (tmp) {
10336c10368
< #line 725
---
> #line 735
10338c10370
< #line 725
---
> #line 735
10340c10372
< #line 725
---
> #line 735
10343c10375
< #line 726
---
> #line 736
10345c10377
< #line 726
---
> #line 736
10347c10379
< #line 726
---
> #line 736
10352c10384
< #line 726
---
> #line 736
10355c10387
< #line 727
---
> #line 737
10358c10390
< #line 730
---
> #line 740
10360c10392
< #line 730
---
> #line 740
10362c10394
< #line 730
---
> #line 740
10365c10397
< #line 736
---
> #line 746
10367c10399
< #line 737
---
> #line 747
10369c10401
< #line 738
---
> #line 748
10374c10406
< #line 739
---
> #line 749
10376c10408
< #line 741
---
> #line 751
10378c10410
< #line 742
---
> #line 752
10383c10415
< #line 744
---
> #line 754
10385c10417
< #line 745
---
> #line 755
10387c10419
< #line 746
---
> #line 756
10390c10422
< #line 748
---
> #line 758
10392c10424
< #line 748
---
> #line 758
10394c10426
< #line 748
---
> #line 758
10399c10431
< #line 748
---
> #line 758
10402c10434
< #line 749
---
> #line 759
10404c10436
< #line 750
---
> #line 760
10410c10442,10463
< #line 754
---
> #line 764
>   tmp___0 = drm_calloc(1, sizeof(*vbl_swap), 2);
> #line 764
>   vbl_swap = tmp___0;
> #line 766
>   if (! vbl_swap) {
> #line 767
>     printk("<3>[drm:%s] *ERROR* Failed to allocate memory to queue swap\n", "i915_vblank_swap");
> #line 768
>     drm_vblank_put(dev, pipe);
> #line 769
>     return (-12);
>   } else {
> 
>   }
> #line 772
>   vbl_swap->drw_id = swap->drawable;
> #line 773
>   vbl_swap->pipe = pipe;
> #line 774
>   vbl_swap->sequence = swap->sequence;
> #line 776
10412c10465
< #line 754
---
> #line 776
10414c10467
< #line 754
---
> #line 776
10417c10470
< #line 756
---
> #line 778
10419c10472
< #line 756
---
> #line 778
10421c10474
< #line 756
---
> #line 778
10423c10476
< #line 756
---
> #line 778
10427c10480
< #line 756
---
> #line 778
10430c10483
< #line 757
---
> #line 779
10432,10436c10485,10489
< #line 757
<     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
< #line 759
<     if ((vbl_swap->drw_id == swap->drawable && vbl_swap->plane == plane) && vbl_swap->sequence == swap->sequence) {
< #line 762
---
> #line 779
>     vbl_old = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
> #line 781
>     if ((vbl_old->drw_id == swap->drawable && vbl_old->pipe == pipe) && vbl_old->sequence == swap->sequence) {
> #line 784
10438c10491
< #line 762
---
> #line 784
10440c10493
< #line 762
---
> #line 784
10443c10496,10500
< #line 763
---
> #line 785
>       drm_vblank_put(dev, pipe);
> #line 786
>       drm_free(vbl_swap, sizeof(*vbl_swap), 2);
> #line 787
10445c10502
< #line 763
---
> #line 787
10447c10504
< #line 763
---
> #line 787
10452c10509
< #line 763
---
> #line 787
10455c10512
< #line 764
---
> #line 788
10460c10517
< #line 756
---
> #line 778
10463,10472c10520,10522
< #line 768
<   while (1) {
< #line 768
<     _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
< #line 768
<     break;
<   }
< #line 770
<   if (dev_priv->swaps_pending >= 100U) {
< #line 771
---
> #line 792
>   if (dev_priv->swaps_pending >= 10U) {
> #line 793
10474c10524
< #line 771
---
> #line 793
10476c10526
< #line 771
---
> #line 793
10481c10531
< #line 771
---
> #line 793
10484,10488c10534,10545
< #line 772
<     drm_vblank_put(dev, pipe);
< #line 773
<     return (-16);
<   } else {
---
> #line 794
>     while (1) {
> #line 794
>       if (drm_debug) {
> #line 794
>         tmp___1 = drm_vblank_count(dev, 1);
> #line 794
>         tmp___2 = drm_vblank_count(dev, 0);
> #line 794
>         printk("<7>[drm:%s]  pipe 0: %d pipe 1: %d\n", "i915_vblank_swap", tmp___2,
>                tmp___1);
>       } else {
10490,10503c10547,10558
<   }
< #line 776
<   tmp___1 = drm_calloc(1, sizeof(*vbl_swap), 2);
< #line 776
<   vbl_swap = tmp___1;
< #line 778
<   if (! vbl_swap) {
< #line 779
<     printk("<3>[drm:%s] *ERROR* Failed to allocate memory to queue swap\n", "i915_vblank_swap");
< #line 780
<     drm_vblank_put(dev, pipe);
< #line 781
<     return (-12);
<   } else {
---
>       }
> #line 794
>       break;
>     }
> #line 798
>     list = dev_priv->vbl_swaps.head.next;
> #line 798
>     while (1) {
> #line 798
>       __builtin_prefetch(list->next);
> #line 798
>       if ((unsigned long )list != (unsigned long )(& dev_priv->vbl_swaps.head)) {
10505,10512c10560,10575
<   }
< #line 784
<   while (1) {
< #line 784
<     if (drm_debug) {
< #line 784
<       printk("<7>[drm:%s] \n", "i915_vblank_swap");
<     } else {
---
>       } else {
> #line 798
>         break;
>       }
> #line 799
>       __mptr___0 = list;
> #line 799
>       vbl_old = (drm_i915_vbl_swap_t *)((char *)__mptr___0 - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
> #line 800
>       while (1) {
> #line 800
>         if (drm_debug) {
> #line 800
>           printk("<7>[drm:%s] \tdrw %x pipe %d seq %x\n", "i915_vblank_swap", vbl_old->drw_id,
>                  vbl_old->pipe, vbl_old->sequence);
>         } else {
10513a10577,10582
>         }
> #line 800
>         break;
>       }
> #line 798
>       list = list->next;
10515,10529c10584,10598
< #line 784
<     break;
<   }
< #line 786
<   vbl_swap->drw_id = swap->drawable;
< #line 787
<   vbl_swap->plane = plane;
< #line 788
<   vbl_swap->sequence = swap->sequence;
< #line 790
<   while (1) {
< #line 790
<     irqflags = _spin_lock_irqsave(& dev_priv->swaps_lock);
< #line 790
<     break;
---
> #line 804
>     while (1) {
> #line 804
>       _spin_unlock_irqrestore(& dev_priv->swaps_lock, irqflags);
> #line 804
>       break;
>     }
> #line 805
>     drm_vblank_put(dev, pipe);
> #line 806
>     drm_free(vbl_swap, sizeof(*vbl_swap), 2);
> #line 807
>     return (-16);
>   } else {
> 
10531c10600
< #line 792
---
> #line 810
10533c10602
< #line 793
---
> #line 811
10535c10604
< #line 795
---
> #line 813
10537c10606
< #line 795
---
> #line 813
10539c10608
< #line 795
---
> #line 813
10542c10611
< #line 797
---
> #line 815
10546c10615
< #line 802 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 820 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10552c10621
< #line 804
---
> #line 822
10554c10623
< #line 806
---
> #line 824
10556c10625
< #line 807
---
> #line 825
10558c10627
< #line 808
---
> #line 826
10560c10629
< #line 809
---
> #line 827
10564c10633
< #line 816 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 834 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10566c10635,10637
< #line 811 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 836 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
> static struct lock_class_key __key___3  ;
> #line 829 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10571a10643
>   atomic_long_t __constr_expr_0 ;
10574c10646
< #line 813
---
> #line 831
10576c10648
< #line 814
---
> #line 832
10578c10650
< #line 816
---
> #line 834
10580c10652
< #line 816
---
> #line 834
10582c10654
< #line 816
---
> #line 834
10585c10657
< #line 817
---
> #line 835
10587c10659,10680
< #line 818
---
> #line 836
>   while (1) {
> #line 836
>     __constr_expr_0.counter = 0;
> #line 836
>     dev_priv->vblank_work.data = __constr_expr_0;
> #line 836
>     lockdep_init_map(& dev_priv->vblank_work.lockdep_map, "&dev_priv->vblank_work",
>                      & __key___3, 0);
> #line 836
>     INIT_LIST_HEAD(& dev_priv->vblank_work.entry);
> #line 836
>     while (1) {
> #line 836
>       dev_priv->vblank_work.func = & i915_vblank_work_handler;
> #line 836
>       break;
>     }
> #line 836
>     break;
>   }
> #line 837
10589c10682
< #line 821
---
> #line 840
10591c10684
< #line 823
---
> #line 842
10593c10686
< #line 824
---
> #line 843
10595c10688
< #line 825
---
> #line 844
10600c10693
< #line 827
---
> #line 846
10602c10695
< #line 828
---
> #line 847
10604c10697
< #line 829
---
> #line 848
10606c10699
< #line 831
---
> #line 850
10608c10701
< #line 833
---
> #line 852
10610c10703
< #line 835
---
> #line 854
10612c10705
< #line 836
---
> #line 855
10614c10707
< #line 837
---
> #line 856
10616c10709
< #line 839
---
> #line 858
10618c10711
< #line 840
---
> #line 859
10620c10713
< #line 842
---
> #line 861
10624c10717
< #line 845 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 864 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10631c10724
< #line 847
---
> #line 866
10633c10726
< #line 850
---
> #line 869
10635c10728
< #line 851
---
> #line 870
10640c10733
< #line 853
---
> #line 872
10642c10735
< #line 855
---
> #line 874
10644c10737
< #line 856
---
> #line 875
10646c10739
< #line 857
---
> #line 876
10648c10741
< #line 859
---
> #line 878
10650c10743
< #line 860
---
> #line 879
10652c10745
< #line 861
---
> #line 880
10654c10747
< #line 862
---
> #line 881
10656c10749
< #line 863
---
> #line 882
10658c10751
< #line 864
---
> #line 883
10660c10753
< #line 865
---
> #line 884
11339c11432
< #line 563 "include/linux/pci.h"
---
> #line 570 "include/linux/pci.h"
11342c11435
< #line 569
---
> #line 576
11345c11438
< #line 580 "include/linux/pci.h"
---
> #line 587 "include/linux/pci.h"
11351c11444
< #line 583
---
> #line 590
11353c11446
< #line 583
---
> #line 590
11357c11450
< #line 593 "include/linux/pci.h"
---
> #line 600 "include/linux/pci.h"
11363c11456
< #line 596
---
> #line 603
11365c11458
< #line 596
---
> #line 603
11903,11932d11995
< #line 559 "include/linux/pci.h"
< extern int pci_bus_read_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
<                                     u8 *val ) ;
< #line 565
< extern int pci_bus_write_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
<                                      u8 val ) ;
< #line 572 "include/linux/pci.h"
< __inline static int pci_read_config_byte(struct pci_dev *dev , int where , u8 *val ) 
< { 
<   int tmp ;
< 
<   {
< #line 574
<   tmp = pci_bus_read_config_byte(dev->bus, dev->devfn, where, val);
< #line 574
<   return (tmp);
< }
< }
< #line 585 "include/linux/pci.h"
< __inline static int pci_write_config_byte(struct pci_dev *dev , int where , u8 val ) 
< { 
<   int tmp ;
< 
<   {
< #line 587
<   tmp = pci_bus_write_config_byte(dev->bus, dev->devfn, where, val);
< #line 587
<   return (tmp);
< }
< }
11960a12024,12053
> #line 566 "include/linux/pci.h"
> extern int pci_bus_read_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
>                                     u8 *val ) ;
> #line 572
> extern int pci_bus_write_config_byte(struct pci_bus *bus , unsigned int devfn , int where ,
>                                      u8 val ) ;
> #line 579 "include/linux/pci.h"
> __inline static int pci_read_config_byte(struct pci_dev *dev , int where , u8 *val ) 
> { 
>   int tmp ;
> 
>   {
> #line 581
>   tmp = pci_bus_read_config_byte(dev->bus, dev->devfn, where, val);
> #line 581
>   return (tmp);
> }
> }
> #line 592 "include/linux/pci.h"
> __inline static int pci_write_config_byte(struct pci_dev *dev , int where , u8 val ) 
> { 
>   int tmp ;
> 
>   {
> #line 594
>   tmp = pci_bus_write_config_byte(dev->bus, dev->devfn, where, val);
> #line 594
>   return (tmp);
> }
> }
13010,13012d13102
< #line 264 "include/linux/lockdep.h"
< extern void lockdep_init_map(struct lockdep_map *lock , char const   *name , struct lock_class_key *key ,
<                              int subclass ) ;
13111c13201
< #line 194 "include/linux/workqueue.h"
---
> #line 196 "include/linux/workqueue.h"
13113c13203
< #line 224
---
> #line 226
13188c13278
< #line 333 "include/linux/sched.h"
---
> #line 332 "include/linux/sched.h"
17993,17994d18082
< static struct lock_class_key __key___3  ;
< #line 2567 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
18001d18088
<   atomic_long_t __constr_expr_1 ;
18024c18111
<                        & __key___3, 0);
---
>                        & __key___4, 0);
18043,18063d18129
<   while (1) {
< #line 2567
<     __constr_expr_1.counter = 0;
< #line 2567
<     dev_priv->mm.vblank_work.data = __constr_expr_1;
< #line 2567
<     lockdep_init_map(& dev_priv->mm.vblank_work.lockdep_map, "&dev_priv->mm.vblank_work",
<                      & __key___4, 0);
< #line 2567
<     INIT_LIST_HEAD(& dev_priv->mm.vblank_work.entry);
< #line 2567
<     while (1) {
< #line 2567
<       dev_priv->mm.vblank_work.func = & i915_gem_vblank_work_handler;
< #line 2567
<       break;
<     }
< #line 2567
<     break;
<   }
< #line 2569
18065c18131
< #line 2571
---
> #line 2569
18067c18133
< #line 2572
---
> #line 2570
18539a18606
>   int tmp___3 ;
18564,18577c18631
<   tmp = i915_get_gem_seqno(dev);
< #line 195
<   tmp___0 = sprintf(buf + len, "Current sequence: %d\n", tmp);
< #line 195
<   len = len + tmp___0;
< #line 195
<   if ((unsigned long )len > (1UL << 12) - 80UL) {
< #line 195
<     *eof = 1;
< #line 195
<     return ((off_t )len - offset);
<   } else {
< 
<   }
---
>   if ((unsigned long )dev_priv->hw_status_page != (unsigned long )((void *)0)) {
18579c18633
<   tmp___1 = sprintf(buf + len, "Waiter sequence:  %d\n", dev_priv->mm.waiting_gem_seqno);
---
>     tmp = i915_get_gem_seqno(dev);
18581c18635
<   len = len + tmp___1;
---
>     tmp___0 = sprintf(buf + len, "Current sequence: %d\n", tmp);
18583c18637
<   if ((unsigned long )len > (1UL << 12) - 80UL) {
---
>     len = len + tmp___0;
18585c18639
<     *eof = 1;
---
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
18587c18641,18646
<     return ((off_t )len - offset);
---
>       *eof = 1;
> #line 196
>       return ((off_t )len - offset);
>     } else {
> 
>     }
18588a18648,18658
> #line 199
>     tmp___1 = sprintf(buf + len, "Current sequence: hws uninitialized\n");
> #line 199
>     len = len + tmp___1;
> #line 199
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 199
>       *eof = 1;
> #line 199
>       return ((off_t )len - offset);
>     } else {
18589a18660
>     }
18591,18593c18662,18664
< #line 198
<   tmp___2 = sprintf(buf + len, "IRQ sequence:     %d\n", dev_priv->mm.irq_gem_seqno);
< #line 198
---
> #line 201
>   tmp___2 = sprintf(buf + len, "Waiter sequence:  %d\n", dev_priv->mm.waiting_gem_seqno);
> #line 201
18595c18666
< #line 198
---
> #line 201
18597c18668
< #line 198
---
> #line 201
18599c18670
< #line 198
---
> #line 201
18604c18675,18688
< #line 199
---
> #line 203
>   tmp___3 = sprintf(buf + len, "IRQ sequence:     %d\n", dev_priv->mm.irq_gem_seqno);
> #line 203
>   len = len + tmp___3;
> #line 203
>   if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 203
>     *eof = 1;
> #line 203
>     return ((off_t )len - offset);
>   } else {
> 
>   }
> #line 204
18606c18690
< #line 200
---
> #line 205
18611c18695
< #line 201
---
> #line 206
18613c18697
< #line 202
---
> #line 207
18617c18701
< #line 206 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 211 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18639a18724
>   int tmp___14 ;
18642c18727
< #line 209
---
> #line 214
18644c18729
< #line 210
---
> #line 215
18646c18731
< #line 211
---
> #line 216
18648c18733
< #line 212
---
> #line 217
18650c18735
< #line 214
---
> #line 219
18652c18737
< #line 215
---
> #line 220
18654c18739
< #line 216
---
> #line 221
18659c18744
< #line 219
---
> #line 224
18661c18746
< #line 220
---
> #line 225
18663c18748
< #line 221
---
> #line 226
18665c18750
< #line 221
---
> #line 226
18667c18752
< #line 221
---
> #line 226
18669c18754
< #line 221
---
> #line 226
18671c18756
< #line 221
---
> #line 226
18673c18758
< #line 221
---
> #line 226
18678c18763
< #line 223
---
> #line 228
18680c18765
< #line 223
---
> #line 228
18682c18767
< #line 223
---
> #line 228
18684c18769
< #line 223
---
> #line 228
18686c18771
< #line 223
---
> #line 228
18688c18773
< #line 223
---
> #line 228
18693c18778
< #line 225
---
> #line 230
18695c18780
< #line 225
---
> #line 230
18697c18782
< #line 225
---
> #line 230
18699c18784
< #line 225
---
> #line 230
18701c18786
< #line 225
---
> #line 230
18703c18788
< #line 225
---
> #line 230
18708c18793
< #line 227
---
> #line 232
18710c18795
< #line 227
---
> #line 232
18712c18797
< #line 227
---
> #line 232
18714c18799
< #line 227
---
> #line 232
18716c18801
< #line 227
---
> #line 232
18718c18803
< #line 227
---
> #line 232
18723c18808
< #line 229
---
> #line 234
18725c18810
< #line 229
---
> #line 234
18727c18812
< #line 229
---
> #line 234
18729c18814
< #line 229
---
> #line 234
18731c18816
< #line 229
---
> #line 234
18733c18818
< #line 229
---
> #line 234
18738c18823
< #line 231
---
> #line 236
18740c18825
< #line 231
---
> #line 236
18742c18827
< #line 231
---
> #line 236
18744c18829
< #line 231
---
> #line 236
18746c18831
< #line 231
---
> #line 236
18751,18762c18836,18852
< #line 233
<   tmp___10 = i915_get_gem_seqno(dev);
< #line 233
<   tmp___11 = sprintf(buf + len, "Current sequence:    %d\n", tmp___10);
< #line 233
<   len = len + tmp___11;
< #line 233
<   if ((unsigned long )len > (1UL << 12) - 80UL) {
< #line 233
<     *eof = 1;
< #line 233
<     return ((off_t )len - offset);
---
> #line 238
>   if ((unsigned long )dev_priv->hw_status_page != (unsigned long )((void *)0)) {
> #line 239
>     tmp___10 = i915_get_gem_seqno(dev);
> #line 239
>     tmp___11 = sprintf(buf + len, "Current sequence:    %d\n", tmp___10);
> #line 239
>     len = len + tmp___11;
> #line 239
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 239
>       *eof = 1;
> #line 239
>       return ((off_t )len - offset);
>     } else {
> 
>     }
18763a18854,18864
> #line 242
>     tmp___12 = sprintf(buf + len, "Current sequence:    hws uninitialized\n");
> #line 242
>     len = len + tmp___12;
> #line 242
>     if ((unsigned long )len > (1UL << 12) - 80UL) {
> #line 242
>       *eof = 1;
> #line 242
>       return ((off_t )len - offset);
>     } else {
18764a18866
>     }
18766,18770c18868,18872
< #line 235
<   tmp___12 = sprintf(buf + len, "Waiter sequence:     %d\n", dev_priv->mm.waiting_gem_seqno);
< #line 235
<   len = len + tmp___12;
< #line 235
---
> #line 244
>   tmp___13 = sprintf(buf + len, "Waiter sequence:     %d\n", dev_priv->mm.waiting_gem_seqno);
> #line 244
>   len = len + tmp___13;
> #line 244
18772c18874
< #line 235
---
> #line 244
18774c18876
< #line 235
---
> #line 244
18779,18783c18881,18885
< #line 237
<   tmp___13 = sprintf(buf + len, "IRQ sequence:        %d\n", dev_priv->mm.irq_gem_seqno);
< #line 237
<   len = len + tmp___13;
< #line 237
---
> #line 246
>   tmp___14 = sprintf(buf + len, "IRQ sequence:        %d\n", dev_priv->mm.irq_gem_seqno);
> #line 246
>   len = len + tmp___14;
> #line 246
18785c18887
< #line 237
---
> #line 246
18787c18889
< #line 237
---
> #line 246
18792c18894
< #line 239
---
> #line 248
18794c18896
< #line 240
---
> #line 249
18799c18901
< #line 241
---
> #line 250
18801c18903
< #line 242
---
> #line 251
18805c18907
< #line 245 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 254 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18812c18914
< #line 261 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 270 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18820c18922
< #line 266
---
> #line 275
18822c18924
< #line 266
---
> #line 275
18824c18926
< #line 266
---
> #line 275
18828c18930
< #line 266
---
> #line 275
18831c18933
< #line 267
---
> #line 276
18834c18936
< #line 269
---
> #line 278
18836c18938
< #line 270
---
> #line 279
18839c18941
< #line 272
---
> #line 281
18841c18943
< #line 272
---
> #line 281
18843c18945
< #line 272
---
> #line 281
18847c18949
< #line 272
---
> #line 281
18850c18952
< #line 273
---
> #line 282
18852c18954
< #line 272
---
> #line 281
18855c18957
< #line 275
---
> #line 284
18860c18962
< #line 277
---
> #line 286
18862c18964
< #line 278
---
> #line 287
18864c18966
< #line 266
---
> #line 275
18867c18969
< #line 280
---
> #line 289
18871c18973
< #line 283 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
---
> #line 292 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem_proc.c"
18877c18979
< #line 287
---
> #line 296
18879c18981
< #line 288
---
> #line 297
18884c18986
< #line 290
---
> #line 299
18886c18988
< #line 290
---
> #line 299
18888c18990
< #line 290
---
> #line 299
18892c18994
< #line 290
---
> #line 299
18895c18997
< #line 291
---
> #line 300
18897c18999
< #line 290
---
> #line 299
18900c19002
< #line 292
---
> #line 301
