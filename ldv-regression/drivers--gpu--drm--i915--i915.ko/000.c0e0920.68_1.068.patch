4296a4297,4304
>    drm_handle_t unused_handle ;
>    uint32_t unused1 ;
>    uint32_t unused2 ;
>    uint32_t unused3 ;
>    uint32_t front_bo_handle ;
>    uint32_t back_bo_handle ;
>    uint32_t unused_bo_handle ;
>    uint32_t depth_bo_handle ;
4300c4308
< #line 201 "include/drm/i915_drm.h"
---
> #line 226 "include/drm/i915_drm.h"
4309c4317
< #line 201 "include/drm/i915_drm.h"
---
> #line 226 "include/drm/i915_drm.h"
4311c4319
< #line 213 "include/drm/i915_drm.h"
---
> #line 238 "include/drm/i915_drm.h"
4320c4328
< #line 213 "include/drm/i915_drm.h"
---
> #line 238 "include/drm/i915_drm.h"
4322c4330
< #line 240 "include/drm/i915_drm.h"
---
> #line 265 "include/drm/i915_drm.h"
4327c4335
< #line 240 "include/drm/i915_drm.h"
---
> #line 265 "include/drm/i915_drm.h"
4329c4337
< #line 251 "include/drm/i915_drm.h"
---
> #line 276 "include/drm/i915_drm.h"
4334c4342
< #line 251 "include/drm/i915_drm.h"
---
> #line 276 "include/drm/i915_drm.h"
4336c4344
< #line 302 "include/drm/i915_drm.h"
---
> #line 327 "include/drm/i915_drm.h"
4340c4348
< #line 302 "include/drm/i915_drm.h"
---
> #line 327 "include/drm/i915_drm.h"
4360c4368
< #line 224 "include/drm/i915_drm.h"
---
> #line 249 "include/drm/i915_drm.h"
4364c4372
< #line 224 "include/drm/i915_drm.h"
---
> #line 249 "include/drm/i915_drm.h"
4366c4374
< #line 228 "include/drm/i915_drm.h"
---
> #line 253 "include/drm/i915_drm.h"
4370c4378
< #line 228 "include/drm/i915_drm.h"
---
> #line 253 "include/drm/i915_drm.h"
4372c4380
< #line 290 "include/drm/i915_drm.h"
---
> #line 315 "include/drm/i915_drm.h"
4376c4384
< #line 290 "include/drm/i915_drm.h"
---
> #line 315 "include/drm/i915_drm.h"
4380c4388
< #line 260 "include/drm/i915_drm.h"
---
> #line 285 "include/drm/i915_drm.h"
4387c4395
< #line 260 "include/drm/i915_drm.h"
---
> #line 285 "include/drm/i915_drm.h"
4389c4397
< #line 267 "include/drm/i915_drm.h"
---
> #line 292 "include/drm/i915_drm.h"
4394c4402
< #line 267 "include/drm/i915_drm.h"
---
> #line 292 "include/drm/i915_drm.h"
4396c4404
< #line 272 "include/drm/i915_drm.h"
---
> #line 297 "include/drm/i915_drm.h"
4402c4410
< #line 272 "include/drm/i915_drm.h"
---
> #line 297 "include/drm/i915_drm.h"
4404c4412
< #line 281 "include/drm/i915_drm.h"
---
> #line 306 "include/drm/i915_drm.h"
4408c4416
< #line 281 "include/drm/i915_drm.h"
---
> #line 306 "include/drm/i915_drm.h"
4451c4459
< #line 306 "include/drm/i915_drm.h"
---
> #line 331 "include/drm/i915_drm.h"
4456c4464
< #line 319 "include/drm/i915_drm.h"
---
> #line 344 "include/drm/i915_drm.h"
4462c4470
< #line 335 "include/drm/i915_drm.h"
---
> #line 360 "include/drm/i915_drm.h"
4470c4478
< #line 351 "include/drm/i915_drm.h"
---
> #line 376 "include/drm/i915_drm.h"
4478c4486
< #line 367 "include/drm/i915_drm.h"
---
> #line 392 "include/drm/i915_drm.h"
4486c4494
< #line 387 "include/drm/i915_drm.h"
---
> #line 412 "include/drm/i915_drm.h"
4492c4500
< #line 399 "include/drm/i915_drm.h"
---
> #line 424 "include/drm/i915_drm.h"
4498c4506
< #line 410 "include/drm/i915_drm.h"
---
> #line 435 "include/drm/i915_drm.h"
4502c4510
< #line 415 "include/drm/i915_drm.h"
---
> #line 440 "include/drm/i915_drm.h"
4511c4519
< #line 483 "include/drm/i915_drm.h"
---
> #line 508 "include/drm/i915_drm.h"
4519c4527
< #line 508 "include/drm/i915_drm.h"
---
> #line 533 "include/drm/i915_drm.h"
4530c4538
< #line 533 "include/drm/i915_drm.h"
---
> #line 558 "include/drm/i915_drm.h"
4537c4545
< #line 551 "include/drm/i915_drm.h"
---
> #line 576 "include/drm/i915_drm.h"
4542c4550
< #line 619 "include/drm/i915_drm.h"
---
> #line 644 "include/drm/i915_drm.h"
4591c4599
< #line 571 "include/drm/i915_drm.h"
---
> #line 596 "include/drm/i915_drm.h"
4598c4606
< #line 602 "include/drm/i915_drm.h"
---
> #line 627 "include/drm/i915_drm.h"
29125c29133
<   mode_cmd.pitch = mode_cmd.width * ((mode_cmd.bpp + (uint32_t )1) / (uint32_t )8);
---
>   mode_cmd.pitch = (mode_cmd.width * ((mode_cmd.bpp + (uint32_t )1) / (uint32_t )8) + ((uint32_t )64 - (uint32_t )1)) & ~ ((uint32_t )64 - (uint32_t )1);
