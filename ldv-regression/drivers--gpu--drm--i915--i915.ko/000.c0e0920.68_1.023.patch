3637d3636
<    int irq ;
4736c4735
< #line 982 "include/drm/drmP.h"
---
> #line 986 "include/drm/drmP.h"
4738c4737
< #line 983
---
> #line 987
4740c4739
< #line 984
---
> #line 988
4743c4742
< #line 991
---
> #line 995
4745c4744
< #line 993
---
> #line 997
4747c4746
< #line 994
---
> #line 998
4749c4748
< #line 997
---
> #line 1001
4751c4750
< #line 998
---
> #line 1002
4753c4752
< #line 999
---
> #line 1003
4755c4754
< #line 1000
---
> #line 1004
4757c4756
< #line 1130
---
> #line 1134
5553c5552
< #line 1121 "include/drm/drmP.h"
---
> #line 1125 "include/drm/drmP.h"
5555c5554
< #line 1123
---
> #line 1127
5557c5556
< #line 1138
---
> #line 1142
5559c5558
< #line 1195
---
> #line 1199
5561c5560
< #line 1202
---
> #line 1206
5563c5562
< #line 1223
---
> #line 1227
5566c5565
< #line 1226
---
> #line 1230
5568c5567
< #line 1311
---
> #line 1315
5570c5569
< #line 1313
---
> #line 1317
5572c5571
< #line 1349 "include/drm/drmP.h"
---
> #line 1353 "include/drm/drmP.h"
5578c5577
< #line 1351
---
> #line 1355
5580c5579
< #line 1351
---
> #line 1355
5584c5583
< #line 1355 "include/drm/drmP.h"
---
> #line 1359 "include/drm/drmP.h"
5590c5589
< #line 1357
---
> #line 1361
5592c5591
< #line 1358
---
> #line 1362
8324a8324,8346
> #line 95 "include/asm/atomic_64.h"
> __inline static void atomic_inc(atomic_t *v ) 
> { 
> 
> 
>   {
> #line 97
>   __asm__  volatile   (".section .smp_locks,\"a\"\n"
>                        " "
>                        ".balign 8"
>                        " "
>                        "\n"
>                        " "
>                        ".quad"
>                        " "
>                        "661f\n"
>                        ".previous\n"
>                        "661:\n\tlock; "
>                        "incl %0": "=m" (v->counter): "m" (v->counter));
> #line 100
>   return;
> }
> }
8405c8427
< #line 1068 "include/drm/drmP.h"
---
> #line 1072 "include/drm/drmP.h"
8407,8408d8428
< #line 1143
< extern int drm_vblank_init(struct drm_device *dev , int num_crtcs ) ;
8409a8430,8431
> extern int drm_vblank_init(struct drm_device *dev , int num_crtcs ) ;
> #line 1151
8411c8433
< #line 1149
---
> #line 1153
8413c8435
< #line 1150
---
> #line 1154
8415c8437
< #line 1151
---
> #line 1155
8417c8439
< #line 1152
---
> #line 1156
8419c8441
< #line 1361 "include/drm/drmP.h"
---
> #line 1365 "include/drm/drmP.h"
8425c8447
< #line 1363
---
> #line 1367
8427c8449
< #line 1363
---
> #line 1367
9409a9432,9433
>   atomic_inc(& dev_priv->irq_received);
> #line 377
9411c9435
< #line 376
---
> #line 378
9416,9417d9439
< #line 377
<   iir = readl(dev_priv->regs + 8356);
9418a9441,9442
>   iir = readl(dev_priv->regs + 8356);
> #line 381
9420c9444
< #line 380
---
> #line 382
9422c9446
< #line 381
---
> #line 383
9424c9448
< #line 382
---
> #line 384
9429c9453
< #line 384
---
> #line 386
9434c9458
< #line 391
---
> #line 393
9436c9460
< #line 392
---
> #line 394
9438c9462
< #line 393
---
> #line 395
9440c9464
< #line 394
---
> #line 396
9443,9444d9466
< #line 396
<     if ((unsigned long )pipea_stats & ((1UL << 2) | (1UL << 1))) {
9445a9468,9469
>     if ((unsigned long )pipea_stats & ((1UL << 2) | (1UL << 1))) {
> #line 400
9447c9471
< #line 399
---
> #line 401
9449c9473
< #line 399
---
> #line 401
9454c9478
< #line 402
---
> #line 404
9459c9483
< #line 404
---
> #line 406
9461,9462d9484
< #line 405
<     pipeb_stats = readl(dev_priv->regs + 462884);
9463a9486,9487
>     pipeb_stats = readl(dev_priv->regs + 462884);
> #line 409
9465c9489
< #line 411
---
> #line 413
9467c9491
< #line 412
---
> #line 414
9470,9471d9493
< #line 414
<     if ((unsigned long )pipeb_stats & ((1UL << 2) | (1UL << 1))) {
9472a9495,9496
>     if ((unsigned long )pipeb_stats & ((1UL << 2) | (1UL << 1))) {
> #line 418
9474c9498
< #line 417
---
> #line 419
9476c9500
< #line 417
---
> #line 419
9481c9505
< #line 420
---
> #line 422
9483c9507
< #line 421
---
> #line 423
9488c9512
< #line 422
---
> #line 424
9493c9517
< #line 425
---
> #line 427
9495c9519
< #line 426
---
> #line 428
9497c9521
< #line 427
---
> #line 429
9502,9503d9525
< #line 428
<   readl(dev_priv->regs + 8356);
9504a9527,9528
>   readl(dev_priv->regs + 8356);
> #line 432
9506c9530
< #line 431
---
> #line 433
9511c9535
< #line 434
---
> #line 436
9513c9537
< #line 435
---
> #line 437
9515c9539
< #line 436
---
> #line 438
9520c9544
< #line 439
---
> #line 441
9522c9546
< #line 440
---
> #line 442
9527c9551
< #line 442
---
> #line 444
9529c9553
< #line 443
---
> #line 445
9531c9555
< #line 444
---
> #line 446
9534c9558
< #line 446
---
> #line 448
9540c9564
< #line 449
---
> #line 451
9544c9568
< #line 452 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 454 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9554c9578
< #line 454
---
> #line 456
9556,9557d9579
< #line 457
<   i915_kernel_lost_context(dev);
9558a9581,9582
>   i915_kernel_lost_context(dev);
> #line 461
9560c9584
< #line 459
---
> #line 461
9562c9586
< #line 459
---
> #line 461
9567c9591
< #line 459
---
> #line 461
9570c9594
< #line 461
---
> #line 463
9572c9596
< #line 462
---
> #line 464
9574c9598
< #line 463
---
> #line 465
9579c9603
< #line 464
---
> #line 466
9581c9605
< #line 465
---
> #line 467
9586c9610
< #line 467
---
> #line 469
9588c9612
< #line 467
---
> #line 469
9590c9614
< #line 467
---
> #line 469
9595,9620d9618
< #line 467
<     outcount = 0;
< #line 467
<     outring = dev_priv->ring.tail;
< #line 467
<     ringmask = dev_priv->ring.tail_mask;
< #line 467
<     virt = dev_priv->ring.virtual_start;
< #line 467
<     break;
<   }
< #line 468
<   while (1) {
< #line 468
<     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
< #line 468
<     outcount = outcount + 1U;
< #line 468
<     outring = outring + 4U;
< #line 468
<     outring = outring & ringmask;
< #line 468
<     break;
<   }
< #line 469
<   while (1) {
9622c9620
<     *((unsigned int volatile   *)(virt + outring)) = 5 << 2;
---
>     outcount = 0;
9624c9622
<     outcount = outcount + 1U;
---
>     outring = dev_priv->ring.tail;
9626c9624
<     outring = outring + 4U;
---
>     ringmask = dev_priv->ring.tail_mask;
9628c9626
<     outring = outring & ringmask;
---
>     virt = dev_priv->ring.virtual_start;
9635c9633
<     *((unsigned int volatile   *)(virt + outring)) = dev_priv->counter;
---
>     *((unsigned int volatile   *)(virt + outring)) = (33 << 23) | 1;
9648c9646
<     *((unsigned int volatile   *)(virt + outring)) = 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = 5 << 2;
9661c9659
<     *((unsigned int volatile   *)(virt + outring)) = 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = dev_priv->counter;
9674c9672
<     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
---
>     *((unsigned int volatile   *)(virt + outring)) = 0;
9687c9685
<     dev_priv->ring.tail = outring;
---
>     *((unsigned int volatile   *)(virt + outring)) = 0;
9689c9687
<     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>     outcount = outcount + 1U;
9691c9689
<     writel(outring, dev_priv->regs + 8240);
---
>     outring = outring + 4U;
9692a9691,9705
>     outring = outring & ringmask;
> #line 474
>     break;
>   }
> #line 475
>   while (1) {
> #line 475
>     *((unsigned int volatile   *)(virt + outring)) = (2 << 23) | 0;
> #line 475
>     outcount = outcount + 1U;
> #line 475
>     outring = outring + 4U;
> #line 475
>     outring = outring & ringmask;
> #line 475
9695a9709,9719
>   while (1) {
> #line 476
>     dev_priv->ring.tail = outring;
> #line 476
>     dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 476
>     writel(outring, dev_priv->regs + 8240);
> #line 476
>     break;
>   }
> #line 478
9699c9723
< #line 479 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9705,9706d9728
< #line 481
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
9707a9730,9731
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 485
9709c9733
< #line 484
---
> #line 486
9711c9735
< #line 484
---
> #line 486
9713c9737
< #line 484
---
> #line 486
9715c9739
< #line 485
---
> #line 487
9723c9747
< #line 486
---
> #line 488
9725c9749
< #line 487
---
> #line 489
9729c9753
< #line 489 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 491 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9736,9737d9759
< #line 491
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
9738a9761,9762
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 495
9740c9764
< #line 494
---
> #line 496
9742c9766
< #line 494
---
> #line 496
9745c9769
< #line 494
---
> #line 496
9747c9771
< #line 494
---
> #line 496
9749c9773
< #line 494
---
> #line 496
9756,9757c9780,9781
<                              "i" (494), "i" (sizeof(struct bug_entry )));
< #line 494
---
>                              "i" (496), "i" (sizeof(struct bug_entry )));
> #line 496
9761c9785
< #line 494
---
> #line 496
9767c9791
< #line 494
---
> #line 496
9770c9794
< #line 495
---
> #line 497
9772c9796
< #line 495
---
> #line 497
9774c9798
< #line 495
---
> #line 497
9776c9800
< #line 496
---
> #line 498
9784c9808
< #line 497
---
> #line 499
9786c9810
< #line 498
---
> #line 500
9790c9814
< #line 500 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 502 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9804c9828
< #line 502
---
> #line 504
9806,9807d9829
< #line 503
<   ret = 0;
9808a9831,9832
>   ret = 0;
> #line 507
9810c9834
< #line 505
---
> #line 507
9812c9836
< #line 505
---
> #line 507
9817c9841
< #line 505
---
> #line 507
9820c9844
< #line 508
---
> #line 510
9822c9846
< #line 509
---
> #line 511
9824c9848
< #line 510
---
> #line 512
9829c9853
< #line 513
---
> #line 515
9834c9858
< #line 516
---
> #line 518
9836c9860
< #line 517
---
> #line 519
9841c9865
< #line 519
---
> #line 521
9843c9867
< #line 520
---
> #line 522
9845c9869
< #line 520
---
> #line 522
9847c9871
< #line 520
---
> #line 522
9849c9873
< #line 520
---
> #line 522
9851c9875
< #line 520
---
> #line 522
9853c9877
< #line 520
---
> #line 522
9855c9879
< #line 520
---
> #line 522
9857c9881
< #line 520
---
> #line 522
9859c9883
< #line 520
---
> #line 522
9861c9885
< #line 520
---
> #line 522
9863c9887
< #line 520
---
> #line 522
9865c9889
< #line 520
---
> #line 522
9867c9891
< #line 520
---
> #line 522
9869c9893
< #line 520
---
> #line 522
9872c9896
< #line 520
---
> #line 522
9874c9898
< #line 520
---
> #line 522
9879c9903
< #line 520
---
> #line 522
9881c9905
< #line 520
---
> #line 522
9883c9907
< #line 520
---
> #line 522
9888c9912
< #line 520
---
> #line 522
9890c9914
< #line 520
---
> #line 522
9892c9916
< #line 520
---
> #line 522
9894c9918
< #line 520
---
> #line 522
9896c9920
< #line 520
---
> #line 522
9898c9922
< #line 520
---
> #line 522
9904c9928
< #line 520
---
> #line 522
9906c9930
< #line 520
---
> #line 522
9908c9932
< #line 520
---
> #line 522
9910c9934
< #line 520
---
> #line 522
9913c9937
< #line 520
---
> #line 522
9915c9939
< #line 520
---
> #line 522
9918,9919d9941
< #line 522
<   i915_user_irq_put(dev);
9920a9943,9944
>   i915_user_irq_put(dev);
> #line 526
9922c9946
< #line 525
---
> #line 527
9928c9952
< #line 529
---
> #line 531
9930c9954
< #line 530
---
> #line 532
9935c9959
< #line 533
---
> #line 535
9939c9963
< #line 538 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 540 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
9948c9972
< #line 541
---
> #line 543
9950c9974
< #line 542
---
> #line 544
9952c9976
< #line 545
---
> #line 547
9954c9978
< #line 545
---
> #line 547
9956c9980
< #line 545
---
> #line 547
9958c9982
< #line 545
---
> #line 547
9960c9984
< #line 545
---
> #line 547
9964c9988
< #line 545
---
> #line 547
9969c9993
< #line 545
---
> #line 547
9975c9999
< #line 545
---
> #line 547
9978c10002
< #line 547
---
> #line 549
9980c10004
< #line 548
---
> #line 550
9982c10006
< #line 549
---
> #line 551
9987c10011
< #line 551
---
> #line 553
9989c10013
< #line 552
---
> #line 554
9991,9992d10014
< #line 553
<   mutex_unlock(& dev->struct_mutex);
9993a10016,10017
>   mutex_unlock(& dev->struct_mutex);
> #line 557
9995c10019
< #line 555
---
> #line 557
9997c10021
< #line 556
---
> #line 558
9999c10023
< #line 557
---
> #line 559
10004c10028
< #line 560
---
> #line 562
10008c10032
< #line 565 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 567 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10016c10040
< #line 568
---
> #line 570
10018,10019d10041
< #line 569
<   irqwait = data;
10020a10043,10044
>   irqwait = data;
> #line 573
10022c10046
< #line 572
---
> #line 574
10024c10048
< #line 573
---
> #line 575
10029c10053
< #line 576
---
> #line 578
10031c10055
< #line 576
---
> #line 578
10035c10059
< #line 579 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 581 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10045c10069
< #line 581
---
> #line 583
10047c10071
< #line 582
---
> #line 584
10049c10073
< #line 582
---
> #line 584
10051c10075
< #line 583
---
> #line 585
10053c10077
< #line 586
---
> #line 588
10056c10080
< #line 588
---
> #line 590
10058c10082
< #line 589
---
> #line 591
10060c10084
< #line 590
---
> #line 592
10063c10087
< #line 592
---
> #line 594
10065c10089
< #line 593
---
> #line 595
10067c10091
< #line 594
---
> #line 596
10070c10094
< #line 596
---
> #line 598
10073c10097
< #line 598
---
> #line 600
10076c10100
< #line 601
---
> #line 603
10078c10102
< #line 602
---
> #line 604
10080c10104
< #line 603
---
> #line 605
10082c10106
< #line 604
---
> #line 606
10085c10109
< #line 606
---
> #line 608
10088,10089d10111
< #line 608
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
10090a10113,10114
>     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
> #line 612
10095c10119
< #line 613
---
> #line 615
10099c10123
< #line 616 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 618 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10109c10133
< #line 618
---
> #line 620
10111c10135
< #line 619
---
> #line 621
10113c10137
< #line 619
---
> #line 621
10115c10139
< #line 620
---
> #line 622
10117c10141
< #line 623
---
> #line 625
10120c10144
< #line 625
---
> #line 627
10122c10146
< #line 626
---
> #line 628
10124c10148
< #line 627
---
> #line 629
10127c10151
< #line 629
---
> #line 631
10129c10153
< #line 630
---
> #line 632
10131c10155
< #line 631
---
> #line 633
10134c10158
< #line 633
---
> #line 635
10137c10161
< #line 635
---
> #line 637
10140c10164
< #line 638
---
> #line 640
10142c10166
< #line 639
---
> #line 641
10144c10168
< #line 640
---
> #line 642
10146,10147d10169
< #line 643
<     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
10148a10171,10172
>     pipestat = (unsigned long )pipestat | ((1UL << 2) | (1UL << 1));
> #line 647
10153c10177
< #line 647
---
> #line 649
10157c10181
< #line 651 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 653 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10163,10164d10186
< #line 654
<   dev_priv = dev->dev_private;
10165a10188,10189
>   dev_priv = dev->dev_private;
> #line 658
10167c10191
< #line 657
---
> #line 659
10169c10193
< #line 658
---
> #line 660
10174c10198
< #line 661
---
> #line 663
10178c10202
< #line 664 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 666 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10185c10209
< #line 667
---
> #line 669
10187,10188d10210
< #line 668
<   pipe = data;
10189a10212,10213
>   pipe = data;
> #line 672
10191c10215
< #line 671
---
> #line 673
10193c10217
< #line 672
---
> #line 674
10198,10199d10221
< #line 675
<   pipe->pipe = 1 | 2;
10200a10223,10224
>   pipe->pipe = 1 | 2;
> #line 679
10204c10228
< #line 683 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 685 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10223c10247
< #line 686
---
> #line 688
10225c10249
< #line 687
---
> #line 689
10227c10251
< #line 694
---
> #line 696
10229c10253
< #line 695
---
> #line 697
10232c10256
< #line 696
---
> #line 698
10237c10261
< #line 699
---
> #line 701
10239c10263
< #line 700
---
> #line 702
10241c10265
< #line 700
---
> #line 702
10243c10267
< #line 700
---
> #line 702
10248c10272
< #line 700
---
> #line 702
10251c10275
< #line 701
---
> #line 703
10256,10257d10279
< #line 704
<   if ((unsigned int )swap->seqtype & (unsigned int )(~ (((_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE) | _DRM_VBLANK_SECONDARY) | _DRM_VBLANK_NEXTONMISS))) {
10258a10281,10282
>   if ((unsigned int )swap->seqtype & (unsigned int )(~ (((_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE) | _DRM_VBLANK_SECONDARY) | _DRM_VBLANK_NEXTONMISS))) {
> #line 708
10261c10285
< #line 707
---
> #line 709
10266c10290
< #line 710
---
> #line 712
10268c10292
< #line 711
---
> #line 713
10270,10271d10293
< #line 711
<   pipe = tmp;
10273c10295
<   seqtype = (unsigned int )swap->seqtype & (unsigned int )(_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE);
---
>   pipe = tmp;
10274a10297,10298
>   seqtype = (unsigned int )swap->seqtype & (unsigned int )(_DRM_VBLANK_RELATIVE | _DRM_VBLANK_ABSOLUTE);
> #line 717
10276c10300
< #line 716
---
> #line 718
10278c10302
< #line 717
---
> #line 719
10283c10307
< #line 720
---
> #line 722
10285c10309
< #line 720
---
> #line 722
10287c10311
< #line 720
---
> #line 722
10290c10314
< #line 722
---
> #line 724
10292c10316
< #line 722
---
> #line 724
10296c10320
< #line 723
---
> #line 725
10298c10322
< #line 723
---
> #line 725
10300c10324
< #line 723
---
> #line 725
10303c10327
< #line 724
---
> #line 726
10305c10329
< #line 724
---
> #line 726
10307c10331
< #line 724
---
> #line 726
10312c10336
< #line 724
---
> #line 726
10315c10339
< #line 725
---
> #line 727
10318c10342
< #line 728
---
> #line 730
10320c10344
< #line 728
---
> #line 730
10322c10346
< #line 728
---
> #line 730
10325c10349
< #line 734
---
> #line 736
10327c10351
< #line 735
---
> #line 737
10329c10353
< #line 736
---
> #line 738
10334,10335d10357
< #line 737
<   curseq = drm_vblank_count(dev, pipe);
10336a10359,10360
>   curseq = drm_vblank_count(dev, pipe);
> #line 741
10338c10362
< #line 740
---
> #line 742
10343c10367
< #line 742
---
> #line 744
10345c10369
< #line 743
---
> #line 745
10347c10371
< #line 744
---
> #line 746
10350c10374
< #line 746
---
> #line 748
10352c10376
< #line 746
---
> #line 748
10354c10378
< #line 746
---
> #line 748
10359c10383
< #line 746
---
> #line 748
10362c10386
< #line 747
---
> #line 749
10364c10388
< #line 748
---
> #line 750
10370c10394
< #line 752
---
> #line 754
10372c10396
< #line 752
---
> #line 754
10374c10398
< #line 752
---
> #line 754
10377c10401
< #line 754
---
> #line 756
10379c10403
< #line 754
---
> #line 756
10381c10405
< #line 754
---
> #line 756
10383c10407
< #line 754
---
> #line 756
10387c10411
< #line 754
---
> #line 756
10390c10414
< #line 755
---
> #line 757
10392,10393d10415
< #line 755
<     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
10394a10417,10418
>     vbl_swap = (drm_i915_vbl_swap_t *)((char *)__mptr - (unsigned int )(& ((drm_i915_vbl_swap_t *)0)->head));
> #line 759
10396c10420
< #line 760
---
> #line 762
10398c10422
< #line 760
---
> #line 762
10400c10424
< #line 760
---
> #line 762
10403c10427
< #line 761
---
> #line 763
10405c10429
< #line 761
---
> #line 763
10407c10431
< #line 761
---
> #line 763
10412c10436
< #line 761
---
> #line 763
10415c10439
< #line 762
---
> #line 764
10420c10444
< #line 754
---
> #line 756
10423c10447
< #line 766
---
> #line 768
10425c10449
< #line 766
---
> #line 768
10427c10451
< #line 766
---
> #line 768
10430c10454
< #line 768
---
> #line 770
10432c10456
< #line 769
---
> #line 771
10434c10458
< #line 769
---
> #line 771
10436c10460
< #line 769
---
> #line 771
10441c10465
< #line 769
---
> #line 771
10444c10468
< #line 770
---
> #line 772
10446c10470
< #line 771
---
> #line 773
10451c10475
< #line 774
---
> #line 776
10453,10454d10476
< #line 774
<   vbl_swap = tmp___1;
10455a10478,10479
>   vbl_swap = tmp___1;
> #line 778
10457c10481
< #line 777
---
> #line 779
10459c10483
< #line 778
---
> #line 780
10461c10485
< #line 779
---
> #line 781
10466c10490
< #line 782
---
> #line 784
10468c10492
< #line 782
---
> #line 784
10470c10494
< #line 782
---
> #line 784
10475c10499
< #line 782
---
> #line 784
10478c10502
< #line 784
---
> #line 786
10480c10504
< #line 785
---
> #line 787
10482,10483d10505
< #line 786
<   vbl_swap->sequence = swap->sequence;
10484a10507,10508
>   vbl_swap->sequence = swap->sequence;
> #line 790
10486c10510
< #line 788
---
> #line 790
10488c10512
< #line 788
---
> #line 790
10491c10515
< #line 790
---
> #line 792
10493,10494d10516
< #line 791
<   dev_priv->swaps_pending = dev_priv->swaps_pending + 1U;
10495a10518,10519
>   dev_priv->swaps_pending = dev_priv->swaps_pending + 1U;
> #line 795
10497c10521
< #line 793
---
> #line 795
10499c10523
< #line 793
---
> #line 795
10502c10526
< #line 795
---
> #line 797
10506c10530
< #line 800 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 802 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10512,10513d10535
< #line 802
<   dev_priv = (drm_i915_private_t *)dev->dev_private;
10514a10537,10538
>   dev_priv = (drm_i915_private_t *)dev->dev_private;
> #line 806
10516c10540
< #line 805
---
> #line 807
10518c10542
< #line 806
---
> #line 808
10520c10544
< #line 807
---
> #line 809
10524c10548
< #line 814 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 816 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10526c10550
< #line 809 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 811 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10534c10558
< #line 811
---
> #line 813
10536,10537d10559
< #line 812
<   num_pipes = 2;
10538a10561,10562
>   num_pipes = 2;
> #line 816
10540c10564
< #line 814
---
> #line 816
10542c10566
< #line 814
---
> #line 816
10545c10569
< #line 815
---
> #line 817
10547c10571
< #line 816
---
> #line 818
10549,10550d10572
< #line 819
<   dev_priv->irq_mask_reg = ~ 0;
10551a10574,10575
>   dev_priv->irq_mask_reg = ~ 0;
> #line 823
10553c10577
< #line 822
---
> #line 824
10555c10579
< #line 823
---
> #line 825
10560c10584
< #line 825
---
> #line 827
10562c10586
< #line 826
---
> #line 828
10564,10565d10587
< #line 827
<   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 5));
10567c10589
<   dev->max_vblank_count = 16777215;
---
>   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )(~ (1 << 5));
10569c10591
<   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )((((1 << 1) | (1 << 0)) | (1 << 6)) | (1 << 4));
---
>   dev->max_vblank_count = 16777215;
10570a10593,10594
>   dev_priv->irq_mask_reg = dev_priv->irq_mask_reg & (unsigned int )((((1 << 1) | (1 << 0)) | (1 << 6)) | (1 << 4));
> #line 835
10572c10596
< #line 834
---
> #line 836
10574,10575d10597
< #line 835
<   readl(dev_priv->regs + 8352);
10576a10599,10600
>   readl(dev_priv->regs + 8352);
> #line 839
10578,10579d10601
< #line 838
<   init_waitqueue_head(& dev_priv->irq_queue);
10580a10603,10604
>   init_waitqueue_head(& dev_priv->irq_queue);
> #line 842
10584c10608
< #line 843 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
---
> #line 845 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_irq.c"
10591c10615
< #line 845
---
> #line 847
10593c10617
< #line 848
---
> #line 850
10595c10619
< #line 849
---
> #line 851
10600,10601d10623
< #line 851
<   dev_priv->vblank_pipe = 0;
10602a10625,10626
>   dev_priv->vblank_pipe = 0;
> #line 855
10604c10628
< #line 854
---
> #line 856
10606,10607d10629
< #line 855
<   writel(0, dev_priv->regs + 8352);
10608a10631,10632
>   writel(0, dev_priv->regs + 8352);
> #line 859
10610c10634
< #line 858
---
> #line 860
10612c10636
< #line 859
---
> #line 861
10614c10638
< #line 860
---
> #line 862
10616c10640
< #line 861
---
> #line 863
10618c10642
< #line 862
---
> #line 864
10620c10644
< #line 863
---
> #line 865
13017,13039d13040
< #line 95 "include/asm/atomic_64.h"
< __inline static void atomic_inc(atomic_t *v ) 
< { 
< 
< 
<   {
< #line 97
<   __asm__  volatile   (".section .smp_locks,\"a\"\n"
<                        " "
<                        ".balign 8"
<                        " "
<                        "\n"
<                        " "
<                        ".quad"
<                        " "
<                        "661f\n"
<                        ".previous\n"
<                        "661:\n\tlock; "
<                        "incl %0": "=m" (v->counter): "m" (v->counter));
< #line 100
<   return;
< }
< }
13182c13183
< #line 1010 "include/drm/drmP.h"
---
> #line 1014 "include/drm/drmP.h"
13184c13185
< #line 1012
---
> #line 1016
13187c13188
< #line 1016
---
> #line 1020
13189c13190
< #line 1079
---
> #line 1083
13191c13192
< #line 1137
---
> #line 1141
13193c13194
< #line 1188
---
> #line 1192
13195c13196
< #line 1238
---
> #line 1242
13198c13199
< #line 1241
---
> #line 1245
13200c13201
< #line 1242
---
> #line 1246
13203c13204
< #line 1244
---
> #line 1248
13205c13206
< #line 1253
---
> #line 1257
13207c13208
< #line 1254
---
> #line 1258
13209c13210
< #line 1256
---
> #line 1260
13211c13212
< #line 1258 "include/drm/drmP.h"
---
> #line 1262 "include/drm/drmP.h"
13217c13218
< #line 1261
---
> #line 1265
13219c13220
< #line 1262
---
> #line 1266
13223c13224
< #line 1264 "include/drm/drmP.h"
---
> #line 1268 "include/drm/drmP.h"
13229c13230
< #line 1267
---
> #line 1271
13231c13232
< #line 1268
---
> #line 1272
13236c13237
< #line 1270
---
> #line 1274
13238c13239
< #line 1271
---
> #line 1275
13242c13243
< #line 1273
---
> #line 1277
13245c13246
< #line 1284 "include/drm/drmP.h"
---
> #line 1288 "include/drm/drmP.h"
13251c13252
< #line 1287
---
> #line 1291
13253c13254
< #line 1288
---
> #line 1292
13258c13259
< #line 1295
---
> #line 1299
13260c13261
< #line 1296
---
> #line 1300
13262c13263
< #line 1297
---
> #line 1301
13266c13267
< #line 1299
---
> #line 1303
13269c13270
< #line 1312
---
> #line 1316
19010c19011
< #line 986 "include/drm/drmP.h"
---
> #line 990 "include/drm/drmP.h"
