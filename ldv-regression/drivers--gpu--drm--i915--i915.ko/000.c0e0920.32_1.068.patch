4221a4222,4229
>    drm_handle_t unused_handle ;
>    uint32_t unused1 ;
>    uint32_t unused2 ;
>    uint32_t unused3 ;
>    uint32_t front_bo_handle ;
>    uint32_t back_bo_handle ;
>    uint32_t unused_bo_handle ;
>    uint32_t depth_bo_handle ;
4225c4233
< #line 201 "include/drm/i915_drm.h"
---
> #line 226 "include/drm/i915_drm.h"
4234c4242
< #line 201 "include/drm/i915_drm.h"
---
> #line 226 "include/drm/i915_drm.h"
4236c4244
< #line 213 "include/drm/i915_drm.h"
---
> #line 238 "include/drm/i915_drm.h"
4245c4253
< #line 213 "include/drm/i915_drm.h"
---
> #line 238 "include/drm/i915_drm.h"
4247c4255
< #line 240 "include/drm/i915_drm.h"
---
> #line 265 "include/drm/i915_drm.h"
4252c4260
< #line 240 "include/drm/i915_drm.h"
---
> #line 265 "include/drm/i915_drm.h"
4254c4262
< #line 251 "include/drm/i915_drm.h"
---
> #line 276 "include/drm/i915_drm.h"
4259c4267
< #line 251 "include/drm/i915_drm.h"
---
> #line 276 "include/drm/i915_drm.h"
4261c4269
< #line 302 "include/drm/i915_drm.h"
---
> #line 327 "include/drm/i915_drm.h"
4265c4273
< #line 302 "include/drm/i915_drm.h"
---
> #line 327 "include/drm/i915_drm.h"
4285c4293
< #line 224 "include/drm/i915_drm.h"
---
> #line 249 "include/drm/i915_drm.h"
4289c4297
< #line 224 "include/drm/i915_drm.h"
---
> #line 249 "include/drm/i915_drm.h"
4291c4299
< #line 228 "include/drm/i915_drm.h"
---
> #line 253 "include/drm/i915_drm.h"
4295c4303
< #line 228 "include/drm/i915_drm.h"
---
> #line 253 "include/drm/i915_drm.h"
4297c4305
< #line 290 "include/drm/i915_drm.h"
---
> #line 315 "include/drm/i915_drm.h"
4301c4309
< #line 290 "include/drm/i915_drm.h"
---
> #line 315 "include/drm/i915_drm.h"
4305c4313
< #line 260 "include/drm/i915_drm.h"
---
> #line 285 "include/drm/i915_drm.h"
4312c4320
< #line 260 "include/drm/i915_drm.h"
---
> #line 285 "include/drm/i915_drm.h"
4314c4322
< #line 267 "include/drm/i915_drm.h"
---
> #line 292 "include/drm/i915_drm.h"
4319c4327
< #line 267 "include/drm/i915_drm.h"
---
> #line 292 "include/drm/i915_drm.h"
4321c4329
< #line 272 "include/drm/i915_drm.h"
---
> #line 297 "include/drm/i915_drm.h"
4327c4335
< #line 272 "include/drm/i915_drm.h"
---
> #line 297 "include/drm/i915_drm.h"
4329c4337
< #line 281 "include/drm/i915_drm.h"
---
> #line 306 "include/drm/i915_drm.h"
4333c4341
< #line 281 "include/drm/i915_drm.h"
---
> #line 306 "include/drm/i915_drm.h"
4376c4384
< #line 306 "include/drm/i915_drm.h"
---
> #line 331 "include/drm/i915_drm.h"
4381c4389
< #line 319 "include/drm/i915_drm.h"
---
> #line 344 "include/drm/i915_drm.h"
4387c4395
< #line 335 "include/drm/i915_drm.h"
---
> #line 360 "include/drm/i915_drm.h"
4395c4403
< #line 351 "include/drm/i915_drm.h"
---
> #line 376 "include/drm/i915_drm.h"
4403c4411
< #line 367 "include/drm/i915_drm.h"
---
> #line 392 "include/drm/i915_drm.h"
4411c4419
< #line 387 "include/drm/i915_drm.h"
---
> #line 412 "include/drm/i915_drm.h"
4417c4425
< #line 399 "include/drm/i915_drm.h"
---
> #line 424 "include/drm/i915_drm.h"
4423c4431
< #line 410 "include/drm/i915_drm.h"
---
> #line 435 "include/drm/i915_drm.h"
4427c4435
< #line 415 "include/drm/i915_drm.h"
---
> #line 440 "include/drm/i915_drm.h"
4436c4444
< #line 483 "include/drm/i915_drm.h"
---
> #line 508 "include/drm/i915_drm.h"
4444c4452
< #line 508 "include/drm/i915_drm.h"
---
> #line 533 "include/drm/i915_drm.h"
4455c4463
< #line 533 "include/drm/i915_drm.h"
---
> #line 558 "include/drm/i915_drm.h"
4462c4470
< #line 551 "include/drm/i915_drm.h"
---
> #line 576 "include/drm/i915_drm.h"
4467c4475
< #line 619 "include/drm/i915_drm.h"
---
> #line 644 "include/drm/i915_drm.h"
4516c4524
< #line 571 "include/drm/i915_drm.h"
---
> #line 596 "include/drm/i915_drm.h"
4523c4531
< #line 602 "include/drm/i915_drm.h"
---
> #line 627 "include/drm/i915_drm.h"
28758c28766
<   mode_cmd.pitch = mode_cmd.width * ((mode_cmd.bpp + (uint32_t )1) / (uint32_t )8);
---
>   mode_cmd.pitch = (mode_cmd.width * ((mode_cmd.bpp + (uint32_t )1) / (uint32_t )8) + ((uint32_t )64 - (uint32_t )1)) & ~ ((uint32_t )64 - (uint32_t )1);
