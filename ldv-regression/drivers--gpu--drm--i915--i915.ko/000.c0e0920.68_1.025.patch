4045c4045
< #line 406 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 409 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4050c4050
< #line 406 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 409 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4351a4352
>    uint32_t agp_type ;
4354c4355
< #line 393 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 396 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4365c4366
< #line 1789 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1790 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
4756c4757
< #line 1134
---
> #line 1135
4758c4759
< #line 413 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 416 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
4760c4761
< #line 414
---
> #line 417
4762c4763
< #line 418
---
> #line 421
4764c4765
< #line 419
---
> #line 422
4766c4767
< #line 420
---
> #line 423
4768c4769
< #line 421
---
> #line 424
4770c4771
< #line 422
---
> #line 425
4772c4773
< #line 424
---
> #line 427
4774c4775
< #line 426
---
> #line 429
4776c4777
< #line 427
---
> #line 430
4778c4779
< #line 442
---
> #line 445
4780c4781
< #line 443
---
> #line 446
4782c4783
< #line 444
---
> #line 447
4784c4785
< #line 445
---
> #line 448
4786c4787
< #line 450
---
> #line 453
4788c4789
< #line 451
---
> #line 454
4790c4791
< #line 452
---
> #line 455
4792c4793
< #line 503
---
> #line 506
4794c4795
< #line 504
---
> #line 507
4796c4797
< #line 505
---
> #line 508
4798c4799
< #line 506
---
> #line 509
4800c4801
< #line 532
---
> #line 535
4802c4803
< #line 533
---
> #line 536
4804c4805
< #line 540
---
> #line 543
4806c4807
< #line 541
---
> #line 544
5552c5553
< #line 1125 "include/drm/drmP.h"
---
> #line 1126 "include/drm/drmP.h"
5554c5555
< #line 1127
---
> #line 1128
5556c5557
< #line 1142
---
> #line 1143
5558c5559
< #line 1199
---
> #line 1200
5560c5561
< #line 1206
---
> #line 1207
5562c5563
< #line 1227
---
> #line 1228
5565c5566
< #line 1230
---
> #line 1231
5567c5568
< #line 1315
---
> #line 1316
5569c5570
< #line 1317
---
> #line 1318
5571c5572
< #line 1353 "include/drm/drmP.h"
---
> #line 1354 "include/drm/drmP.h"
5577c5578
< #line 1355
---
> #line 1356
5579c5580
< #line 1355
---
> #line 1356
5583c5584
< #line 1359 "include/drm/drmP.h"
---
> #line 1360 "include/drm/drmP.h"
5589,5590d5589
< #line 1361
<   kfree(pt);
5591a5591,5592
>   kfree(pt);
> #line 1363
5595c5596
< #line 417 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 420 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
5597c5598
< #line 429
---
> #line 432
5600c5601
< #line 434
---
> #line 437
5602c5603
< #line 436
---
> #line 439
5604c5605
< #line 446
---
> #line 449
5606c5607
< #line 448
---
> #line 451
5608c5609
< #line 453
---
> #line 456
5610c5611
< #line 458
---
> #line 461
5612c5613
< #line 460
---
> #line 463
5614c5615
< #line 462
---
> #line 465
5616c5617
< #line 464
---
> #line 467
5618c5619
< #line 466
---
> #line 469
5620,5621d5620
< #line 467
< void i915_mem_release(struct drm_device *dev , struct drm_file *file_priv , struct mem_block *heap ) ;
5622a5622,5623
> void i915_mem_release(struct drm_device *dev , struct drm_file *file_priv , struct mem_block *heap ) ;
> #line 473
5624c5625
< #line 472
---
> #line 475
5626c5627
< #line 474
---
> #line 477
5628c5629
< #line 476
---
> #line 479
5630c5631
< #line 478
---
> #line 481
5632c5633
< #line 480
---
> #line 483
5634c5635
< #line 482
---
> #line 485
5636c5637
< #line 484
---
> #line 487
5638c5639
< #line 486
---
> #line 489
5640c5641
< #line 488
---
> #line 491
5642c5643
< #line 490
---
> #line 493
5644c5645
< #line 492
---
> #line 495
5646c5647
< #line 494
---
> #line 497
5648c5649
< #line 496
---
> #line 499
5650c5651
< #line 498
---
> #line 501
5652c5653
< #line 500
---
> #line 503
5654c5655
< #line 502
---
> #line 505
5656c5657
< #line 509
---
> #line 512
5658c5659
< #line 613
---
> #line 616
8427c8428
< #line 1072 "include/drm/drmP.h"
---
> #line 1073 "include/drm/drmP.h"
8429c8430
< #line 1147
---
> #line 1148
8431c8432
< #line 1151
---
> #line 1152
8433,8434d8433
< #line 1153
< extern u32 drm_vblank_count(struct drm_device *dev , int crtc ) ;
8436c8435
< extern void drm_handle_vblank(struct drm_device *dev , int crtc ) ;
---
> extern u32 drm_vblank_count(struct drm_device *dev , int crtc ) ;
8438c8437
< extern int drm_vblank_get(struct drm_device *dev , int crtc ) ;
---
> extern void drm_handle_vblank(struct drm_device *dev , int crtc ) ;
8439a8439,8440
> extern int drm_vblank_get(struct drm_device *dev , int crtc ) ;
> #line 1157
8441c8442
< #line 1365 "include/drm/drmP.h"
---
> #line 1366 "include/drm/drmP.h"
8447c8448
< #line 1367
---
> #line 1368
8449c8450
< #line 1367
---
> #line 1368
8453c8454
< #line 438 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 441 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
8455c8456
< #line 439
---
> #line 442
8457c8458
< #line 441
---
> #line 444
8459c8460
< #line 455
---
> #line 458
8461c8462
< #line 510
---
> #line 513
8463c8464
< #line 542
---
> #line 545
8465c8466
< #line 543
---
> #line 546
12939a12941,12942
> #line 130 "include/linux/kernel.h"
> extern void __might_sleep(char *file , int line ) ;
13124a13128,13137
> #line 584 "include/linux/mm.h"
> __inline static void *( __attribute__((__always_inline__)) lowmem_page_address)(struct page *page ) 
> { 
> 
> 
>   {
> #line 586
>   return ((void *)((unsigned long )((page - (struct page *)0xffffe20000000000UL) << 12) + 0xffff880000000000UL));
> }
> }
13163a13177,13200
> #line 39 "include/linux/highmem.h"
> __inline static void *kmap(struct page *page ) 
> { 
>   void *tmp ;
> 
>   {
> #line 41
>   while (1) {
> #line 41
>     __might_sleep("include/linux/highmem.h", 41);
> #line 41
>     while (1) {
> #line 41
>       break;
>     }
> #line 41
>     break;
>   }
> #line 42
>   tmp = lowmem_page_address(page);
> #line 42
>   return (tmp);
> }
> }
13187,13188c13224,13226
<                                              unsigned long num_pages , uint32_t gtt_offset ) ;
< #line 1020
---
>                                              unsigned long num_pages , uint32_t gtt_offset ,
>                                              uint32_t type ) ;
> #line 1021
13190c13228
< #line 1083
---
> #line 1084
13192c13230
< #line 1141
---
> #line 1142
13194c13232
< #line 1192
---
> #line 1193
13196c13234
< #line 1242
---
> #line 1243
13199,13200d13236
< #line 1245
< extern void drm_mm_put_block(struct drm_mm_node *cur ) ;
13201a13238,13239
> extern void drm_mm_put_block(struct drm_mm_node *cur ) ;
> #line 1247
13204c13242
< #line 1248
---
> #line 1249
13206,13207d13243
< #line 1257
< extern void drm_gem_object_free(struct kref *kref ) ;
13208a13245,13246
> extern void drm_gem_object_free(struct kref *kref ) ;
> #line 1259
13210c13248
< #line 1260
---
> #line 1261
13212c13250
< #line 1262 "include/drm/drmP.h"
---
> #line 1263 "include/drm/drmP.h"
13218,13219d13255
< #line 1265
<   kref_get(& obj->refcount);
13220a13257,13258
>   kref_get(& obj->refcount);
> #line 1267
13224c13262
< #line 1268 "include/drm/drmP.h"
---
> #line 1269 "include/drm/drmP.h"
13230,13231d13267
< #line 1271
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
13232a13269,13270
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 1273
13237,13238d13274
< #line 1274
<   kref_put(& obj->refcount, & drm_gem_object_free);
13239a13276,13277
>   kref_put(& obj->refcount, & drm_gem_object_free);
> #line 1276
13243c13281
< #line 1277
---
> #line 1278
13246c13284
< #line 1288 "include/drm/drmP.h"
---
> #line 1289 "include/drm/drmP.h"
13252,13253d13289
< #line 1291
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
13254a13291,13292
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 1293
13259,13260d13296
< #line 1299
<   kref_put(& obj->handlecount, & drm_gem_object_handle_free);
13262c13298
<   drm_gem_object_unreference(obj);
---
>   kref_put(& obj->handlecount, & drm_gem_object_handle_free);
13263a13300,13301
>   drm_gem_object_unreference(obj);
> #line 1302
13267c13305
< #line 1303
---
> #line 1304
13270c13308
< #line 1316
---
> #line 1317
13272c13310
< #line 507 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
---
> #line 510 "/work/ldvuser/novikov/inst/current/envs/linux/linux/drivers/gpu/drm/i915/i915_drv.h"
13274,13275d13311
< #line 508
< void i915_gem_object_unpin(struct drm_gem_object *obj ) ;
13276a13313,13314
> void i915_gem_object_unpin(struct drm_gem_object *obj ) ;
> #line 514
13278c13316
< #line 512
---
> #line 515
13280,13281d13317
< #line 513
< void i915_gem_clflush_object(struct drm_gem_object *obj ) ;
13282a13319,13320
> void i915_gem_clflush_object(struct drm_gem_object *obj ) ;
> #line 519
15303,15305c15341
<                                          obj_priv->gtt_offset);
< #line 1163
<   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
---
>                                          obj_priv->gtt_offset, obj_priv->agp_type);
15307c15343
<     i915_gem_object_free_page_list(obj);
---
>   if ((unsigned long )obj_priv->agp_mem == (unsigned long )((void *)0)) {
15309c15345
<     drm_mm_put_block(obj_priv->gtt_space);
---
>     i915_gem_object_free_page_list(obj);
15311c15347
<     obj_priv->gtt_space = (void *)0;
---
>     drm_mm_put_block(obj_priv->gtt_space);
15312a15349,15350
>     obj_priv->gtt_space = (void *)0;
> #line 1168
15317,15318d15354
< #line 1169
<   atomic_inc(& dev->gtt_count);
15319a15356,15357
>   atomic_inc(& dev->gtt_count);
> #line 1171
15321c15359
< #line 1176
---
> #line 1177
15323c15361
< #line 1176
---
> #line 1177
15326c15364
< #line 1176
---
> #line 1177
15328c15366
< #line 1176
---
> #line 1177
15330c15368
< #line 1176
---
> #line 1177
15337,15338c15375,15376
<                              "i" (1176), "i" (sizeof(struct bug_entry )));
< #line 1176
---
>                              "i" (1177), "i" (sizeof(struct bug_entry )));
> #line 1177
15342c15380
< #line 1176
---
> #line 1177
15348c15386
< #line 1176
---
> #line 1177
15351c15389
< #line 1177
---
> #line 1178
15353c15391
< #line 1177
---
> #line 1178
15356c15394
< #line 1177
---
> #line 1178
15358c15396
< #line 1177
---
> #line 1178
15360c15398
< #line 1177
---
> #line 1178
15367,15368c15405,15406
<                              "i" (1177), "i" (sizeof(struct bug_entry )));
< #line 1177
---
>                              "i" (1178), "i" (sizeof(struct bug_entry )));
> #line 1178
15372c15410
< #line 1177
---
> #line 1178
15378c15416
< #line 1177
---
> #line 1178
15381c15419
< #line 1179
---
> #line 1180
15385c15423
< #line 1182 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1183 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15391c15429
< #line 1185
---
> #line 1186
15393,15394d15430
< #line 1191
<   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
15395a15432,15433
>   if ((unsigned long )obj_priv->page_list == (unsigned long )((void *)0)) {
> #line 1193
15400,15401d15437
< #line 1194
<   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
15402a15439,15440
>   drm_clflush_pages(obj_priv->page_list, obj->size / (1UL << 12));
> #line 1196
15406c15444
< #line 1308 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1309 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15417,15418d15454
< #line 1313
<   dev = obj->dev;
15420c15456
<   obj_priv = obj->driver_private;
---
>   dev = obj->dev;
15422c15458
<   invalidate_domains = 0;
---
>   obj_priv = obj->driver_private;
15423a15460,15461
>   invalidate_domains = 0;
> #line 1317
15425,15426d15462
< #line 1329
<   if (write_domain == (uint32_t )0) {
15427a15464,15465
>   if (write_domain == (uint32_t )0) {
> #line 1331
15430c15468
< #line 1332
---
> #line 1333
15433,15434d15470
< #line 1340
<   if (obj->write_domain && obj->write_domain != read_domains) {
15436c15472
<     flush_domains = flush_domains | obj->write_domain;
---
>   if (obj->write_domain && obj->write_domain != read_domains) {
15437a15474,15475
>     flush_domains = flush_domains | obj->write_domain;
> #line 1343
15442,15443d15479
< #line 1348
<   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
15444a15481,15482
>   invalidate_domains = invalidate_domains | (read_domains & ~ obj->read_domains);
> #line 1350
15446c15484
< #line 1359
---
> #line 1360
15448,15449d15485
< #line 1362
<       ret = i915_gem_object_wait_rendering(obj);
15451c15487
<       if (ret) {
---
>       ret = i915_gem_object_wait_rendering(obj);
15452a15489,15490
>       if (ret) {
> #line 1365
15460c15498
< #line 1366
---
> #line 1367
15465,15466d15502
< #line 1369
<   if ((write_domain | flush_domains) != 0U) {
15467a15504,15505
>   if ((write_domain | flush_domains) != 0U) {
> #line 1371
15472c15510
< #line 1375
---
> #line 1376
15474c15512
< #line 1378
---
> #line 1379
15476c15514
< #line 1380
---
> #line 1381
15481c15519
< #line 1382
---
> #line 1383
15483,15484d15520
< #line 1384
<   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
15485a15522,15523
>   dev->invalidate_domains = dev->invalidate_domains | invalidate_domains;
> #line 1386
15487c15525
< #line 1392
---
> #line 1393
15491c15529
< #line 1401 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1402 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15503c15541
< #line 1408
---
> #line 1409
15505,15506d15542
< #line 1411
<   if (obj->read_domains & 1U) {
15507a15544,15545
>   if (obj->read_domains & 1U) {
> #line 1413
15512c15550
< #line 1414
---
> #line 1415
15514c15552
< #line 1416
---
> #line 1417
15516c15554
< #line 1416
---
> #line 1417
15521,15522d15558
< #line 1420
<   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15524c15560
<     ret = i915_gem_object_wait_rendering(obj);
---
>   if (obj->write_domain & (unsigned int )(~ (1 | 64))) {
15526c15562
<     if (ret) {
---
>     ret = i915_gem_object_wait_rendering(obj);
15527a15564,15565
>     if (ret) {
> #line 1424
15535,15536d15572
< #line 1426
<   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
15537a15574,15575
>   if ((unsigned long )obj_priv->page_cpu_valid == (unsigned long )((void *)0)) {
> #line 1428
15539c15577
< #line 1427
---
> #line 1428
15544c15582
< #line 1434
---
> #line 1435
15546c15584
< #line 1434
---
> #line 1435
15548c15586
< #line 1434
---
> #line 1435
15552c15590
< #line 1434
---
> #line 1435
15555,15556d15592
< #line 1435
<     if (*(obj_priv->page_cpu_valid + i)) {
15557a15594,15595
>     if (*(obj_priv->page_cpu_valid + i)) {
> #line 1437
15562c15600
< #line 1438
---
> #line 1439
15564c15602
< #line 1440
---
> #line 1441
15567c15605
< #line 1434
---
> #line 1435
15570c15608
< #line 1443
---
> #line 1444
15574c15612
< #line 1452 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1453 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15580c15618
< #line 1455
---
> #line 1456
15582c15620
< #line 1461
---
> #line 1462
15584c15622
< #line 1468
---
> #line 1469
15586,15587d15623
< #line 1471
<     dev->invalidate_domains = 0;
15588a15625,15626
>     dev->invalidate_domains = 0;
> #line 1473
15593c15631
< #line 1475
---
> #line 1476
15597c15635
< #line 1481 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1482 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15618c15656
< #line 1486
---
> #line 1487
15620c15658
< #line 1489
---
> #line 1490
15622,15623d15659
< #line 1491
<   last_reloc_offset = -1;
15624a15661,15662
>   last_reloc_offset = -1;
> #line 1493
15626,15627d15663
< #line 1495
<   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15629c15665
<   if (ret) {
---
>   ret = i915_gem_object_pin(obj, (uint32_t )entry->alignment);
15630a15667,15668
>   if (ret) {
> #line 1498
15635c15673
< #line 1499
---
> #line 1500
15637c15675
< #line 1501
---
> #line 1502
15639c15677
< #line 1506
---
> #line 1507
15641c15679
< #line 1506
---
> #line 1507
15643c15681
< #line 1506
---
> #line 1507
15647c15685
< #line 1506
---
> #line 1507
15650c15688
< #line 1512
---
> #line 1513
15652,15653d15689
< #line 1512
<     ret = tmp;
15655c15691
<     if (ret != 0) {
---
>     ret = tmp;
15657c15693
<       i915_gem_object_unpin(obj);
---
>     if (ret != 0) {
15658a15695,15696
>       i915_gem_object_unpin(obj);
> #line 1516
15663c15701
< #line 1518
---
> #line 1519
15665,15666d15702
< #line 1520
<     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15668c15704
<       i915_gem_object_unpin(obj);
---
>     if ((unsigned long )target_obj == (unsigned long )((void *)0)) {
15669a15706,15707
>       i915_gem_object_unpin(obj);
> #line 1523
15674c15712
< #line 1524
---
> #line 1525
15676,15677d15713
< #line 1529
<     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
15678a15715,15716
>     if ((unsigned long )target_obj_priv->gtt_space == (unsigned long )((void *)0)) {
> #line 1531
15681,15682d15718
< #line 1532
<       drm_gem_object_unreference(target_obj);
15684c15720
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15685a15722,15723
>       i915_gem_object_unpin(obj);
> #line 1535
15690,15691d15727
< #line 1537
<     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
15692a15729,15730
>     if (reloc.offset > (uint64_t )(obj->size - (size_t )4)) {
> #line 1539
15696,15697d15733
< #line 1542
<       drm_gem_object_unreference(target_obj);
15699c15735
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15700a15737,15738
>       i915_gem_object_unpin(obj);
> #line 1545
15705,15706d15742
< #line 1546
<     if (reloc.offset & 3ULL) {
15707a15744,15745
>     if (reloc.offset & 3ULL) {
> #line 1548
15710,15711d15747
< #line 1551
<       drm_gem_object_unreference(target_obj);
15713c15749
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15714a15751,15752
>       i915_gem_object_unpin(obj);
> #line 1554
15719c15757
< #line 1556
---
> #line 1557
15721c15759
< #line 1558
---
> #line 1559
15725,15726d15762
< #line 1565
<       drm_gem_object_unreference(target_obj);
15728c15764
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15729a15766,15767
>       i915_gem_object_unpin(obj);
> #line 1568
15734,15735d15771
< #line 1585
<     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
15736a15773,15774
>     target_obj->pending_read_domains = target_obj->pending_read_domains | reloc.read_domains;
> #line 1587
15738,15739d15775
< #line 1591
<     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15741c15777
<       drm_gem_object_unreference(target_obj);
---
>     if ((uint64_t )target_obj_priv->gtt_offset == reloc.presumed_offset) {
15742a15779,15780
>       drm_gem_object_unreference(target_obj);
> #line 1594
15747c15785
< #line 1600
---
> #line 1601
15749,15750d15786
< #line 1605
<     if (obj->write_domain & 1U) {
15752c15788
<       i915_gem_clflush_object(obj);
---
>     if (obj->write_domain & 1U) {
15754c15790
<       drm_agp_chipset_flush(dev);
---
>       i915_gem_clflush_object(obj);
15755a15792,15793
>       drm_agp_chipset_flush(dev);
> #line 1609
15760,15761d15797
< #line 1614
<     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
15762a15799,15800
>     reloc_offset = (uint64_t )obj_priv->gtt_offset + reloc.offset;
> #line 1616
15764,15765d15801
< #line 1618
<       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15766a15803,15804
>       if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1620
15771c15809
< #line 1621
---
> #line 1622
15774,15775d15811
< #line 1625
<       last_reloc_offset = reloc_offset;
15777c15813
<       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
---
>       last_reloc_offset = reloc_offset;
15779c15815
<         drm_gem_object_unreference(target_obj);
---
>       if ((unsigned long )reloc_page == (unsigned long )((void *)0)) {
15781c15817
<         i915_gem_object_unpin(obj);
---
>         drm_gem_object_unreference(target_obj);
15782a15819,15820
>         i915_gem_object_unpin(obj);
> #line 1630
15790c15828
< #line 1633
---
> #line 1634
15792c15830
< #line 1635
---
> #line 1636
15794c15832
< #line 1642
---
> #line 1643
15796,15797d15833
< #line 1647
<     reloc.presumed_offset = target_obj_priv->gtt_offset;
15798a15835,15836
>     reloc.presumed_offset = target_obj_priv->gtt_offset;
> #line 1649
15800,15801d15837
< #line 1648
<     ret = tmp___0;
15803c15839
<     if (ret != 0) {
---
>     ret = tmp___0;
15805c15841
<       drm_gem_object_unreference(target_obj);
---
>     if (ret != 0) {
15807c15843
<       i915_gem_object_unpin(obj);
---
>       drm_gem_object_unreference(target_obj);
15808a15845,15846
>       i915_gem_object_unpin(obj);
> #line 1653
15813c15851
< #line 1655
---
> #line 1656
15816c15854
< #line 1506
---
> #line 1507
15819,15820d15856
< #line 1658
<   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
15821a15858,15859
>   if ((unsigned long )reloc_page != (unsigned long )((void *)0)) {
> #line 1660
15826c15864
< #line 1665
---
> #line 1666
15830c15868
< #line 1670 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1671 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
15849,15850d15886
< #line 1675
<   dev_priv = dev->dev_private;
15851a15888,15889
>   dev_priv = dev->dev_private;
> #line 1677
15853,15854d15890
< #line 1678
<   nbox = exec->num_cliprects;
15855a15892,15893
>   nbox = exec->num_cliprects;
> #line 1680
15857,15858d15894
< #line 1683
<   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
15859a15896,15897
>   exec_start = (uint32_t )exec_offset + exec->batch_start_offset;
> #line 1685
15861,15862d15898
< #line 1686
<   if ((exec_start | exec_len) & 7U) {
15864c15900
<     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
---
>   if ((exec_start | exec_len) & 7U) {
15865a15902,15903
>     printk("<3>[drm:%s] *ERROR* alignment\n", "i915_dispatch_gem_execbuffer");
> #line 1689
15870,15871d15907
< #line 1691
<   if (! exec_start) {
15872a15909,15910
>   if (! exec_start) {
> #line 1693
15877c15915
< #line 1694
---
> #line 1695
15879c15917
< #line 1696
---
> #line 1697
15881c15919
< #line 1696
---
> #line 1697
15883c15921
< #line 1696
---
> #line 1697
15887c15925
< #line 1696
---
> #line 1697
15890,15891d15927
< #line 1697
<     if (i < nbox) {
15892a15929,15930
>     if (i < nbox) {
> #line 1699
15894c15932
< #line 1698
---
> #line 1699
15896,15897d15933
< #line 1700
<       if (ret) {
15898a15935,15936
>       if (ret) {
> #line 1702
15906,15907d15943
< #line 1704
<     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
15908a15945,15946
>     if (dev->pci_device == 13687 || dev->pci_device == 9570) {
> #line 1706
15910c15948
< #line 1705
---
> #line 1706
15912c15950
< #line 1705
---
> #line 1706
15917,15929d15954
< #line 1705
<         outcount = 0;
< #line 1705
<         outring = dev_priv->ring.tail;
< #line 1705
<         ringmask = dev_priv->ring.tail_mask;
< #line 1705
<         virt = dev_priv->ring.virtual_start;
< #line 1705
<         break;
<       }
< #line 1706
<       while (1) {
15931c15956
<         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
---
>         outcount = 0;
15933c15958
<         outcount = outcount + 1U;
---
>         outring = dev_priv->ring.tail;
15935c15960
<         outring = outring + 4U;
---
>         ringmask = dev_priv->ring.tail_mask;
15937c15962
<         outring = outring & ringmask;
---
>         virt = dev_priv->ring.virtual_start;
15944c15969
<         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
---
>         *((unsigned int volatile   *)(virt + outring)) = (48 << 23) | 1;
15957c15982
<         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
---
>         *((unsigned int volatile   *)(virt + outring)) = exec_start | 1U;
15970c15995
<         *((unsigned int volatile   *)(virt + outring)) = 0;
---
>         *((unsigned int volatile   *)(virt + outring)) = (exec_start + exec_len) - (uint32_t )4;
15983c16008
<         dev_priv->ring.tail = outring;
---
>         *((unsigned int volatile   *)(virt + outring)) = 0;
15985c16010
<         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
---
>         outcount = outcount + 1U;
15987c16012,16014
<         writel(outring, dev_priv->regs + 8240);
---
>         outring = outring + 4U;
> #line 1710
>         outring = outring & ringmask;
15990a16018,16028
> #line 1711
>       while (1) {
> #line 1711
>         dev_priv->ring.tail = outring;
> #line 1711
>         dev_priv->ring.space = (unsigned int )dev_priv->ring.space - outcount * 4U;
> #line 1711
>         writel(outring, dev_priv->regs + 8240);
> #line 1711
>         break;
>       }
15992c16030
< #line 1712
---
> #line 1713
15994c16032
< #line 1712
---
> #line 1713
15996c16034
< #line 1712
---
> #line 1713
16001c16039
< #line 1712
---
> #line 1713
16003c16041
< #line 1712
---
> #line 1713
16005c16043
< #line 1712
---
> #line 1713
16007c16045
< #line 1712
---
> #line 1713
16009c16047
< #line 1712
---
> #line 1713
16012,16013d16049
< #line 1713
<       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
16014a16051,16052
>       if (((((((((dev->pci_device == 10610 || dev->pci_device == 10626) || dev->pci_device == 10642) || dev->pci_device == 10658) || dev->pci_device == 10754) || dev->pci_device == 10770) || dev->pci_device == 10818) || dev->pci_device == 11778) || dev->pci_device == 11794) || dev->pci_device == 11810) {
> #line 1715
16016c16054
< #line 1714
---
> #line 1715
16018c16056
< #line 1714
---
> #line 1715
16020c16058
< #line 1714
---
> #line 1715
16022c16060
< #line 1714
---
> #line 1715
16024c16062
< #line 1714
---
> #line 1715
16027c16065
< #line 1717
---
> #line 1718
16029c16067
< #line 1717
---
> #line 1718
16031c16069
< #line 1717
---
> #line 1718
16033c16071
< #line 1717
---
> #line 1718
16035c16073
< #line 1717
---
> #line 1718
16037c16075
< #line 1717
---
> #line 1718
16041c16079
< #line 1719
---
> #line 1720
16043c16081
< #line 1719
---
> #line 1720
16045c16083
< #line 1719
---
> #line 1720
16047c16085
< #line 1719
---
> #line 1720
16049c16087
< #line 1719
---
> #line 1720
16051c16089
< #line 1719
---
> #line 1720
16054c16092
< #line 1721
---
> #line 1722
16056c16094
< #line 1721
---
> #line 1722
16058c16096
< #line 1721
---
> #line 1722
16060c16098
< #line 1721
---
> #line 1722
16062c16100
< #line 1721
---
> #line 1722
16064c16102
< #line 1721
---
> #line 1722
16068c16106
< #line 1723
---
> #line 1724
16070c16108
< #line 1723
---
> #line 1724
16072c16110
< #line 1723
---
> #line 1724
16074c16112
< #line 1723
---
> #line 1724
16076c16114
< #line 1723
---
> #line 1724
16080c16118
< #line 1696
---
> #line 1697
16083c16121
< #line 1728
---
> #line 1729
16087c16125
< #line 1737 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1738 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16095,16096d16132
< #line 1740
<   i915_file_priv = file_priv->driver_priv;
16097a16134,16135
>   i915_file_priv = file_priv->driver_priv;
> #line 1742
16099,16100d16136
< #line 1744
<   mutex_lock_nested(& dev->struct_mutex, 0);
16102c16138
<   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
16103a16140,16141
>   seqno = i915_file_priv->mm.last_gem_throttle_seqno;
> #line 1747
16105,16106d16142
< #line 1748
<   if (seqno) {
16107a16144,16145
>   if (seqno) {
> #line 1750
16112,16113d16149
< #line 1750
<   mutex_unlock(& dev->struct_mutex);
16114a16151,16152
>   mutex_unlock(& dev->struct_mutex);
> #line 1752
16118c16156
< #line 1754 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1755 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16144,16145d16181
< #line 1758
<   dev_priv = dev->dev_private;
16147c16183
<   i915_file_priv = file_priv->driver_priv;
---
>   dev_priv = dev->dev_private;
16149c16185
<   args = data;
---
>   i915_file_priv = file_priv->driver_priv;
16151c16187
<   exec_list = (void *)0;
---
>   args = data;
16152a16189,16190
>   exec_list = (void *)0;
> #line 1763
16154c16192
< #line 1764
---
> #line 1765
16156,16157d16193
< #line 1773
<   if (args->buffer_count < (uint32_t )1) {
16158a16195,16196
>   if (args->buffer_count < (uint32_t )1) {
> #line 1775
16161c16199
< #line 1775
---
> #line 1776
16166c16204
< #line 1778
---
> #line 1779
16168c16206
< #line 1778
---
> #line 1779
16170c16208
< #line 1780
---
> #line 1781
16172c16210
< #line 1780
---
> #line 1781
16174,16175d16211
< #line 1782
<   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
16176a16213,16214
>   if ((unsigned long )exec_list == (unsigned long )((void *)0) || (unsigned long )object_list == (unsigned long )((void *)0)) {
> #line 1784
16179,16180d16216
< #line 1786
<     ret = -12;
16181a16218,16219
>     ret = -12;
> #line 1788
16186c16224
< #line 1789
---
> #line 1790
16189c16227
< #line 1789
---
> #line 1790
16191,16192d16228
< #line 1793
<   if (ret != 0) {
16193a16230,16231
>   if (ret != 0) {
> #line 1795
16196c16234
< #line 1796
---
> #line 1797
16201c16239
< #line 1799
---
> #line 1800
16203,16204d16240
< #line 1803
<   if (dev_priv->mm.wedged) {
16206c16242
<     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.wedged) {
16208c16244
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while wedged\n", "i915_gem_execbuffer");
16209a16246,16247
>     mutex_unlock(& dev->struct_mutex);
> #line 1807
16214,16215d16251
< #line 1809
<   if (dev_priv->mm.suspended) {
16217c16253
<     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
---
>   if (dev_priv->mm.suspended) {
16219c16255
<     mutex_unlock(& dev->struct_mutex);
---
>     printk("<3>[drm:%s] *ERROR* Execbuf while VT-switched.\n", "i915_gem_execbuffer");
16220a16257,16258
>     mutex_unlock(& dev->struct_mutex);
> #line 1813
16225,16226d16262
< #line 1819
<   dev->invalidate_domains = 0;
16227a16264,16265
>   dev->invalidate_domains = 0;
> #line 1821
16229c16267
< #line 1823
---
> #line 1824
16231c16269
< #line 1823
---
> #line 1824
16233c16271
< #line 1823
---
> #line 1824
16237c16275
< #line 1823
---
> #line 1824
16240c16278
< #line 1824
---
> #line 1825
16242,16243d16279
< #line 1826
<     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
16244a16281,16282
>     if ((unsigned long )*(object_list + i) == (unsigned long )((void *)0)) {
> #line 1828
16247,16248d16284
< #line 1829
<       ret = -9;
16249a16286,16287
>       ret = -9;
> #line 1831
16254,16255d16291
< #line 1833
<     (*(object_list + i))->pending_read_domains = 0;
16257c16293
<     (*(object_list + i))->pending_write_domain = 0;
---
>     (*(object_list + i))->pending_read_domains = 0;
16258a16295,16296
>     (*(object_list + i))->pending_write_domain = 0;
> #line 1836
16260,16261d16297
< #line 1838
<     if (ret) {
16262a16299,16300
>     if (ret) {
> #line 1840
16265c16303
< #line 1840
---
> #line 1841
16270c16308
< #line 1842
---
> #line 1843
16272c16310
< #line 1823
---
> #line 1824
16275,16276d16312
< #line 1846
<   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
16278c16314
<   batch_obj->pending_read_domains = 8;
---
>   batch_obj = *(object_list + (args->buffer_count - (uint32_t )1));
16279a16316,16317
>   batch_obj->pending_read_domains = 8;
> #line 1849
16281c16319
< #line 1852
---
> #line 1853
16283c16321
< #line 1852
---
> #line 1853
16285c16323
< #line 1852
---
> #line 1853
16289c16327
< #line 1852
---
> #line 1853
16292,16293d16329
< #line 1853
<     obj = *(object_list + i);
16294a16331,16332
>     obj = *(object_list + i);
> #line 1855
16296c16334
< #line 1856
---
> #line 1857
16298,16299d16335
< #line 1862
<       ret = -12;
16300a16337,16338
>       ret = -12;
> #line 1864
16305c16343
< #line 1867
---
> #line 1868
16307,16308d16344
< #line 1870
<     if (ret) {
16309a16346,16347
>     if (ret) {
> #line 1872
16314c16352
< #line 1852
---
> #line 1853
16317c16355
< #line 1877
---
> #line 1878
16319c16357
< #line 1888
---
> #line 1889
16321c16359
< #line 1897
---
> #line 1898
16323,16324d16360
< #line 1900
<   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
16326c16362
<   if (ret) {
---
>   ret = i915_dispatch_gem_execbuffer(dev, args, exec_offset);
16328c16364
<     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
---
>   if (ret) {
16329a16366,16367
>     printk("<3>[drm:%s] *ERROR* dispatch failed %d\n", "i915_gem_execbuffer", ret);
> #line 1904
16334c16372
< #line 1910
---
> #line 1911
16336,16337d16373
< #line 1921
<   seqno = i915_add_request(dev, flush_domains);
16338a16375,16376
>   seqno = i915_add_request(dev, flush_domains);
> #line 1923
16340c16378
< #line 1922
---
> #line 1923
16342c16380
< #line 1922
---
> #line 1923
16344c16382
< #line 1922
---
> #line 1923
16346c16384
< #line 1922
---
> #line 1923
16353,16354c16391,16392
<                              "i" (1922), "i" (sizeof(struct bug_entry )));
< #line 1922
---
>                              "i" (1923), "i" (sizeof(struct bug_entry )));
> #line 1923
16358c16396
< #line 1922
---
> #line 1923
16364c16402
< #line 1922
---
> #line 1923
16367,16368d16404
< #line 1923
<   i915_file_priv->mm.last_gem_seqno = seqno;
16369a16406,16407
>   i915_file_priv->mm.last_gem_seqno = seqno;
> #line 1925
16371c16409
< #line 1924
---
> #line 1925
16373c16411
< #line 1924
---
> #line 1925
16377c16415
< #line 1924
---
> #line 1925
16380,16381d16417
< #line 1925
<     obj___0 = *(object_list + i);
16382a16419,16420
>     obj___0 = *(object_list + i);
> #line 1927
16384,16385d16421
< #line 1928
<     i915_gem_object_move_to_active(obj___0);
16386a16423,16424
>     i915_gem_object_move_to_active(obj___0);
> #line 1930
16388c16426
< #line 1924
---
> #line 1925
16391c16429
< #line 1941
---
> #line 1942
16394c16432
< #line 1941
---
> #line 1942
16396,16397d16433
< #line 1945
<   if (ret) {
16398a16435,16436
>   if (ret) {
> #line 1947
16405,16406d16442
< #line 1950
<   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
16407a16444,16445
>   if ((unsigned long )object_list != (unsigned long )((void *)0)) {
> #line 1952
16409c16447
< #line 1951
---
> #line 1952
16411c16449
< #line 1951
---
> #line 1952
16415c16453
< #line 1951
---
> #line 1952
16418c16456
< #line 1952
---
> #line 1953
16420c16458
< #line 1951
---
> #line 1952
16423c16461
< #line 1954
---
> #line 1955
16425c16463
< #line 1954
---
> #line 1955
16427c16465
< #line 1954
---
> #line 1955
16431c16469
< #line 1954
---
> #line 1955
16434c16472
< #line 1955
---
> #line 1956
16436c16474
< #line 1954
---
> #line 1955
16442c16480
< #line 1957
---
> #line 1958
16445c16483
< #line 1960
---
> #line 1961
16448c16486
< #line 1962
---
> #line 1963
16450c16488
< #line 1965
---
> #line 1966
16454c16492
< #line 1968 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 1969 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16463,16464d16500
< #line 1971
<   dev = obj->dev;
16465a16502,16503
>   dev = obj->dev;
> #line 1973
16467,16468d16504
< #line 1976
<   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16470c16506
<     ret = i915_gem_object_bind_to_gtt(obj, alignment);
---
>   if ((unsigned long )obj_priv->gtt_space == (unsigned long )((void *)0)) {
16472c16508
<     if (ret != 0) {
---
>     ret = i915_gem_object_bind_to_gtt(obj, alignment);
16474c16510
<       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
---
>     if (ret != 0) {
16475a16512,16513
>       printk("<3>[drm:%s] *ERROR* Failure to bind: %d", "i915_gem_object_pin", ret);
> #line 1981
16483c16521
< #line 1983
---
> #line 1984
16485,16486d16522
< #line 1988
<   if (obj_priv->pin_count == 1) {
16488c16524
<     atomic_inc(& dev->pin_count);
---
>   if (obj_priv->pin_count == 1) {
16490c16526
<     atomic_add(obj->size, & dev->pin_memory);
---
>     atomic_inc(& dev->pin_count);
16491a16528,16529
>     atomic_add(obj->size, & dev->pin_memory);
> #line 1992
16493c16531
< #line 1991
---
> #line 1992
16495c16533
< #line 1991
---
> #line 1992
16499c16537
< #line 1995
---
> #line 1996
16508c16546
< #line 1999
---
> #line 2000
16512c16550
< #line 2002 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2003 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16522,16523d16559
< #line 2005
<   dev = obj->dev;
16525c16561
<   dev_priv = dev->dev_private;
---
>   dev = obj->dev;
16526a16563,16564
>   dev_priv = dev->dev_private;
> #line 2008
16528,16529d16565
< #line 2010
<   obj_priv->pin_count = obj_priv->pin_count - 1;
16530a16567,16568
>   obj_priv->pin_count = obj_priv->pin_count - 1;
> #line 2012
16532c16570
< #line 2011
---
> #line 2012
16534c16572
< #line 2011
---
> #line 2012
16536c16574
< #line 2011
---
> #line 2012
16538c16576
< #line 2011
---
> #line 2012
16545,16546c16583,16584
<                              "i" (2011), "i" (sizeof(struct bug_entry )));
< #line 2011
---
>                              "i" (2012), "i" (sizeof(struct bug_entry )));
> #line 2012
16550c16588
< #line 2011
---
> #line 2012
16556c16594
< #line 2011
---
> #line 2012
16559c16597
< #line 2012
---
> #line 2013
16561c16599
< #line 2012
---
> #line 2013
16564c16602
< #line 2012
---
> #line 2013
16566c16604
< #line 2012
---
> #line 2013
16568c16606
< #line 2012
---
> #line 2013
16575,16576c16613,16614
<                              "i" (2012), "i" (sizeof(struct bug_entry )));
< #line 2012
---
>                              "i" (2013), "i" (sizeof(struct bug_entry )));
> #line 2013
16580c16618
< #line 2012
---
> #line 2013
16586c16624
< #line 2012
---
> #line 2013
16589,16590d16626
< #line 2018
<   if (obj_priv->pin_count == 0) {
16591a16628,16629
>   if (obj_priv->pin_count == 0) {
> #line 2020
16593c16631
< #line 2022
---
> #line 2023
16598,16599d16635
< #line 2024
<     atomic_dec(& dev->pin_count);
16600a16637,16638
>     atomic_dec(& dev->pin_count);
> #line 2026
16605c16643
< #line 2028
---
> #line 2029
16609c16647
< #line 2030 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2031 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16618c16656
< #line 2034
---
> #line 2035
16620c16658
< #line 2039
---
> #line 2040
16622,16623d16659
< #line 2041
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16625c16661
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16626a16663,16664
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2044
16629,16630d16666
< #line 2045
<     mutex_unlock(& dev->struct_mutex);
16631a16668,16669
>     mutex_unlock(& dev->struct_mutex);
> #line 2047
16636c16674
< #line 2048
---
> #line 2049
16638,16639d16675
< #line 2050
<   ret = i915_gem_object_pin(obj, args->alignment);
16641c16677
<   if (ret != 0) {
---
>   ret = i915_gem_object_pin(obj, args->alignment);
16643c16679
<     drm_gem_object_unreference(obj);
---
>   if (ret != 0) {
16645c16681
<     mutex_unlock(& dev->struct_mutex);
---
>     drm_gem_object_unreference(obj);
16646a16683,16684
>     mutex_unlock(& dev->struct_mutex);
> #line 2055
16651,16652d16688
< #line 2060
<   if (obj->write_domain & 1U) {
16654c16690
<     i915_gem_clflush_object(obj);
---
>   if (obj->write_domain & 1U) {
16656c16692
<     drm_agp_chipset_flush(dev);
---
>     i915_gem_clflush_object(obj);
16657a16694,16695
>     drm_agp_chipset_flush(dev);
> #line 2064
16662,16663d16699
< #line 2065
<   args->offset = obj_priv->gtt_offset;
16665c16701
<   drm_gem_object_unreference(obj);
---
>   args->offset = obj_priv->gtt_offset;
16666a16703,16704
>   drm_gem_object_unreference(obj);
> #line 2068
16668c16706
< #line 2069
---
> #line 2070
16672c16710
< #line 2072 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2073 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16679c16717
< #line 2076
---
> #line 2077
16681c16719
< #line 2079
---
> #line 2080
16683,16684d16720
< #line 2081
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16686c16722
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16687a16724,16725
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2084
16690,16691d16727
< #line 2085
<     mutex_unlock(& dev->struct_mutex);
16692a16729,16730
>     mutex_unlock(& dev->struct_mutex);
> #line 2087
16697c16735
< #line 2089
---
> #line 2090
16699,16700d16736
< #line 2091
<   drm_gem_object_unreference(obj);
16702c16738
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16703a16740,16741
>   mutex_unlock(& dev->struct_mutex);
> #line 2094
16707c16745
< #line 2096 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2097 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16715c16753
< #line 2100
---
> #line 2101
16717,16718d16754
< #line 2104
<   mutex_lock_nested(& dev->struct_mutex, 0);
16720c16756
<   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
---
>   mutex_lock_nested(& dev->struct_mutex, 0);
16722c16758
<   if ((unsigned long )obj == (unsigned long )((void *)0)) {
---
>   obj = drm_gem_object_lookup(dev, file_priv, args->handle);
16723a16760,16761
>   if ((unsigned long )obj == (unsigned long )((void *)0)) {
> #line 2108
16726,16727d16763
< #line 2109
<     mutex_unlock(& dev->struct_mutex);
16728a16765,16766
>     mutex_unlock(& dev->struct_mutex);
> #line 2111
16733,16734d16770
< #line 2113
<   obj_priv = obj->driver_private;
16735a16772,16773
>   obj_priv = obj->driver_private;
> #line 2115
16737,16738d16774
< #line 2116
<   drm_gem_object_unreference(obj);
16740c16776
<   mutex_unlock(& dev->struct_mutex);
---
>   drm_gem_object_unreference(obj);
16741a16778,16779
>   mutex_unlock(& dev->struct_mutex);
> #line 2119
16745c16783
< #line 2121 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2122 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16751c16789
< #line 2125
---
> #line 2126
16753c16791
< #line 2125
---
> #line 2126
16757c16795
< #line 2128 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2129 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16764c16802
< #line 2132
---
> #line 2133
16766,16767d16803
< #line 2132
<   obj_priv = tmp;
16769c16805
<   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
---
>   obj_priv = tmp;
16770a16807,16808
>   if ((unsigned long )obj_priv == (unsigned long )((void *)0)) {
> #line 2135
16775,16776d16812
< #line 2142
<   obj->write_domain = 1;
16777a16814,16815
>   obj->write_domain = 1;
> #line 2144
16779,16780d16816
< #line 2145
<   obj->driver_private = obj_priv;
16781a16818,16821
>   obj_priv->agp_type = 1 << 16;
> #line 2148
>   obj->driver_private = obj_priv;
> #line 2149
16783c16823
< #line 2147
---
> #line 2150
16785c16825
< #line 2148
---
> #line 2151
16789c16829
< #line 2151 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2154 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16795c16835
< #line 2153
---
> #line 2156
16797c16837
< #line 2155
---
> #line 2158
16799c16839
< #line 2155
---
> #line 2158
16803c16843
< #line 2155
---
> #line 2158
16806c16846
< #line 2156
---
> #line 2159
16809c16849
< #line 2158
---
> #line 2161
16811c16851
< #line 2160
---
> #line 2163
16813c16853
< #line 2161
---
> #line 2164
16815c16855
< #line 2162
---
> #line 2165
16819c16859
< #line 2164 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2167 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16831c16871
< #line 2170
---
> #line 2173
16833c16873
< #line 2174
---
> #line 2177
16835c16875
< #line 2174
---
> #line 2177
16837c16877
< #line 2174
---
> #line 2177
16839c16879
< #line 2174
---
> #line 2177
16842c16882
< #line 2174
---
> #line 2177
16845c16885
< #line 2174
---
> #line 2177
16847c16887
< #line 2174
---
> #line 2177
16849c16889
< #line 2174
---
> #line 2177
16851c16891
< #line 2174
---
> #line 2177
16858,16859c16898,16899
<                              "i" (2174), "i" (sizeof(struct bug_entry )));
< #line 2174
---
>                              "i" (2177), "i" (sizeof(struct bug_entry )));
> #line 2177
16863c16903
< #line 2174
---
> #line 2177
16869c16909
< #line 2174
---
> #line 2177
16872c16912
< #line 2176
---
> #line 2179
16874c16914
< #line 2177
---
> #line 2180
16876c16916
< #line 2178
---
> #line 2181
16881c16921
< #line 2179
---
> #line 2182
16883c16923
< #line 2181
---
> #line 2184
16885c16925
< #line 2182
---
> #line 2185
16890c16930
< #line 2184
---
> #line 2187
16894c16934
< #line 2188 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2191 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16904c16944
< #line 2195
---
> #line 2198
16906c16946
< #line 2195
---
> #line 2198
16908c16948
< #line 2195
---
> #line 2198
16910c16950
< #line 2195
---
> #line 2198
16915c16955
< #line 2196
---
> #line 2199
16917,16918d16956
< #line 2196
<     obj_priv = (struct drm_i915_gem_object *)((char *)__mptr - (unsigned int )(& ((struct drm_i915_gem_object *)0)->list));
16919a16958,16959
>     obj_priv = (struct drm_i915_gem_object *)((char *)__mptr - (unsigned int )(& ((struct drm_i915_gem_object *)0)->list));
> #line 2202
16921c16961
< #line 2201
---
> #line 2204
16923c16963
< #line 2202
---
> #line 2205
16925c16965
< #line 2203
---
> #line 2206
16927c16967
< #line 2204
---
> #line 2207
16932c16972
< #line 2207
---
> #line 2210
16934c16974
< #line 2208
---
> #line 2211
16936c16976
< #line 2209
---
> #line 2212
16939c16979
< #line 2211
---
> #line 2214
16941c16981
< #line 2212
---
> #line 2215
16947c16987
< #line 2217
---
> #line 2220
16951c16991
< #line 2220 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2223 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
16985c17025
< #line 2223
---
> #line 2226
16987c17027
< #line 2227
---
> #line 2230
16989c17029
< #line 2228
---
> #line 2231
16994c17034
< #line 2233
---
> #line 2236
16996c17036
< #line 2235
---
> #line 2238
16998c17038
< #line 2239
---
> #line 2242
17000,17001d17039
< #line 2241
<   seqno = i915_add_request(dev, ~ (1 | 64));
17002a17041,17042
>   seqno = i915_add_request(dev, ~ (1 | 64));
> #line 2247
17004c17044
< #line 2245
---
> #line 2248
17006c17046
< #line 2246
---
> #line 2249
17011c17051
< #line 2249
---
> #line 2252
17013c17053
< #line 2250
---
> #line 2253
17015c17055
< #line 2251
---
> #line 2254
17017c17057
< #line 2252
---
> #line 2255
17019c17059
< #line 2253
---
> #line 2256
17021c17061
< #line 2254
---
> #line 2257
17023c17063
< #line 2254
---
> #line 2257
17025c17065
< #line 2255
---
> #line 2258
17030c17070
< #line 2256
---
> #line 2259
17032c17072
< #line 2257
---
> #line 2260
17034c17074
< #line 2257
---
> #line 2260
17036c17076
< #line 2257
---
> #line 2260
17038c17078
< #line 2258
---
> #line 2261
17040c17080
< #line 2259
---
> #line 2262
17042c17082
< #line 2260
---
> #line 2263
17044c17084
< #line 2261
---
> #line 2264
17052c17092
< #line 2264
---
> #line 2267
17054c17094
< #line 2265
---
> #line 2268
17057c17097
< #line 2267
---
> #line 2270
17059c17099
< #line 2269
---
> #line 2272
17061c17101
< #line 2274
---
> #line 2277
17063c17103
< #line 2274
---
> #line 2277
17065c17105
< #line 2274
---
> #line 2277
17067c17107
< #line 2274
---
> #line 2277
17070c17110
< #line 2274
---
> #line 2277
17073c17113
< #line 2274
---
> #line 2277
17075c17115
< #line 2274
---
> #line 2277
17077c17117
< #line 2274
---
> #line 2277
17079c17119
< #line 2274
---
> #line 2277
17086,17087c17126,17127
<                              "i" (2274), "i" (sizeof(struct bug_entry )));
< #line 2274
---
>                              "i" (2277), "i" (sizeof(struct bug_entry )));
> #line 2277
17091c17131
< #line 2274
---
> #line 2277
17097c17137
< #line 2274
---
> #line 2277
17100c17140
< #line 2275
---
> #line 2278
17102c17142
< #line 2275
---
> #line 2278
17104c17144
< #line 2275
---
> #line 2278
17106c17146
< #line 2275
---
> #line 2278
17109c17149
< #line 2275
---
> #line 2278
17112c17152
< #line 2275
---
> #line 2278
17114c17154
< #line 2275
---
> #line 2278
17116c17156
< #line 2275
---
> #line 2278
17118c17158
< #line 2275
---
> #line 2278
17125,17126c17165,17166
<                              "i" (2275), "i" (sizeof(struct bug_entry )));
< #line 2275
---
>                              "i" (2278), "i" (sizeof(struct bug_entry )));
> #line 2278
17130c17170
< #line 2275
---
> #line 2278
17136c17176
< #line 2275
---
> #line 2278
17139c17179
< #line 2280
---
> #line 2283
17141c17181
< #line 2280
---
> #line 2283
17143c17183
< #line 2280
---
> #line 2283
17145c17185
< #line 2280
---
> #line 2283
17148c17188
< #line 2280
---
> #line 2283
17151c17191
< #line 2280
---
> #line 2283
17153c17193
< #line 2280
---
> #line 2283
17155c17195
< #line 2280
---
> #line 2283
17157c17197
< #line 2280
---
> #line 2283
17164,17165c17204,17205
<                              "i" (2280), "i" (sizeof(struct bug_entry )));
< #line 2280
---
>                              "i" (2283), "i" (sizeof(struct bug_entry )));
> #line 2283
17169c17209
< #line 2280
---
> #line 2283
17175c17215
< #line 2280
---
> #line 2283
17178c17218
< #line 2283
---
> #line 2286
17180c17220
< #line 2284
---
> #line 2287
17182c17222
< #line 2285
---
> #line 2288
17187c17227
< #line 2287
---
> #line 2290
17189c17229
< #line 2287
---
> #line 2290
17191c17231
< #line 2287
---
> #line 2290
17193c17233
< #line 2287
---
> #line 2290
17196c17236
< #line 2287
---
> #line 2290
17199c17239
< #line 2287
---
> #line 2290
17201c17241
< #line 2287
---
> #line 2290
17203c17243
< #line 2287
---
> #line 2290
17205c17245
< #line 2287
---
> #line 2290
17212,17213c17252,17253
<                              "i" (2287), "i" (sizeof(struct bug_entry )));
< #line 2287
---
>                              "i" (2290), "i" (sizeof(struct bug_entry )));
> #line 2290
17217c17257
< #line 2287
---
> #line 2290
17223c17263
< #line 2287
---
> #line 2290
17226c17266
< #line 2288
---
> #line 2291
17228c17268
< #line 2288
---
> #line 2291
17230c17270
< #line 2288
---
> #line 2291
17232c17272
< #line 2288
---
> #line 2291
17235c17275
< #line 2288
---
> #line 2291
17238c17278
< #line 2288
---
> #line 2291
17240c17280
< #line 2288
---
> #line 2291
17242c17282
< #line 2288
---
> #line 2291
17244c17284
< #line 2288
---
> #line 2291
17251,17252c17291,17292
<                              "i" (2288), "i" (sizeof(struct bug_entry )));
< #line 2288
---
>                              "i" (2291), "i" (sizeof(struct bug_entry )));
> #line 2291
17256c17296
< #line 2288
---
> #line 2291
17262c17302
< #line 2288
---
> #line 2291
17265c17305
< #line 2289
---
> #line 2292
17267c17307
< #line 2289
---
> #line 2292
17269c17309
< #line 2289
---
> #line 2292
17271c17311
< #line 2289
---
> #line 2292
17274c17314
< #line 2289
---
> #line 2292
17277c17317
< #line 2289
---
> #line 2292
17279c17319
< #line 2289
---
> #line 2292
17281c17321
< #line 2289
---
> #line 2292
17283c17323
< #line 2289
---
> #line 2292
17290,17291c17330,17331
<                              "i" (2289), "i" (sizeof(struct bug_entry )));
< #line 2289
---
>                              "i" (2292), "i" (sizeof(struct bug_entry )));
> #line 2292
17295c17335
< #line 2289
---
> #line 2292
17301c17341
< #line 2289
---
> #line 2292
17304c17344
< #line 2290
---
> #line 2293
17306c17346
< #line 2290
---
> #line 2293
17308c17348
< #line 2290
---
> #line 2293
17310c17350
< #line 2290
---
> #line 2293
17313c17353
< #line 2290
---
> #line 2293
17316c17356
< #line 2290
---
> #line 2293
17318c17358
< #line 2290
---
> #line 2293
17320c17360
< #line 2290
---
> #line 2293
17322c17362
< #line 2290
---
> #line 2293
17329,17330c17369,17370
<                              "i" (2290), "i" (sizeof(struct bug_entry )));
< #line 2290
---
>                              "i" (2293), "i" (sizeof(struct bug_entry )));
> #line 2293
17334c17374
< #line 2290
---
> #line 2293
17340c17380
< #line 2290
---
> #line 2293
17343c17383
< #line 2291
---
> #line 2294
17347c17387
< #line 2294 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2297 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17356c17396
< #line 2297
---
> #line 2300
17358c17398
< #line 2305
---
> #line 2308
17360c17400
< #line 2306
---
> #line 2309
17365c17405
< #line 2308
---
> #line 2311
17367c17407
< #line 2309
---
> #line 2312
17369c17409
< #line 2310
---
> #line 2313
17371c17411
< #line 2311
---
> #line 2314
17376c17416
< #line 2313
---
> #line 2316
17378c17418,17420
< #line 2315
---
> #line 2317
>   obj_priv->agp_type = (1 << 16) + 1;
> #line 2319
17380c17422
< #line 2316
---
> #line 2320
17382c17424
< #line 2317
---
> #line 2321
17384c17426
< #line 2318
---
> #line 2322
17389,17396d17430
< #line 2321
<   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
< #line 2322
<   dev_priv->hws_map.offset = (dev->agp)->base + (unsigned long )obj_priv->gtt_offset;
< #line 2323
<   dev_priv->hws_map.size = 4096;
< #line 2324
<   dev_priv->hws_map.type = 0;
17398,17405c17432,17437
<   dev_priv->hws_map.flags = 0;
< #line 2326
<   dev_priv->hws_map.mtrr = 0;
< #line 2330
<   drm_core_ioremap_wc(& dev_priv->hws_map, dev);
< #line 2331
<   if ((unsigned long )dev_priv->hws_map.handle == (unsigned long )((void *)0)) {
< #line 2332
---
>   dev_priv->status_gfx_addr = obj_priv->gtt_offset;
> #line 2327
>   dev_priv->hw_status_page = kmap(*(obj_priv->page_list + 0));
> #line 2328
>   if ((unsigned long )dev_priv->hw_status_page == (unsigned long )((void *)0)) {
> #line 2329
17407c17439
< #line 2333
---
> #line 2330
17409c17441
< #line 2334
---
> #line 2331
17411c17443
< #line 2335
---
> #line 2332
17416c17448
< #line 2337
---
> #line 2334
17418,17420c17450
< #line 2338
<   dev_priv->hw_status_page = dev_priv->hws_map.handle;
< #line 2339
---
> #line 2335
17422c17452
< #line 2340
---
> #line 2336
17424c17454,17456
< #line 2341
---
> #line 2337
>   readl(dev_priv->regs + 8320);
> #line 2338
17426c17458
< #line 2341
---
> #line 2338
17428c17460
< #line 2341
---
> #line 2338
17433c17465
< #line 2341
---
> #line 2338
17436c17468
< #line 2343
---
> #line 2340
17440c17472
< #line 2346 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2343 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17464c17496
< #line 2349
---
> #line 2346
17466c17498
< #line 2355
---
> #line 2352
17468c17500
< #line 2356
---
> #line 2353
17470c17502
< #line 2357
---
> #line 2354
17475c17507
< #line 2359
---
> #line 2356
17477c17509
< #line 2360
---
> #line 2357
17479c17511
< #line 2361
---
> #line 2358
17481c17513
< #line 2362
---
> #line 2359
17486c17518
< #line 2364
---
> #line 2361
17488c17520
< #line 2366
---
> #line 2363
17490c17522
< #line 2367
---
> #line 2364
17492c17524
< #line 2368
---
> #line 2365
17494c17526
< #line 2369
---
> #line 2366
17499c17531
< #line 2373
---
> #line 2370
17501c17533
< #line 2374
---
> #line 2371
17503c17535
< #line 2376
---
> #line 2373
17505c17537
< #line 2377
---
> #line 2374
17507c17539
< #line 2378
---
> #line 2375
17509c17541
< #line 2379
---
> #line 2376
17511c17543
< #line 2380
---
> #line 2377
17513c17545
< #line 2382
---
> #line 2379
17515c17547
< #line 2383
---
> #line 2380
17517c17549
< #line 2384
---
> #line 2381
17519c17551
< #line 2385
---
> #line 2382
17521c17553
< #line 2386
---
> #line 2383
17523c17555
< #line 2387
---
> #line 2384
17528c17560
< #line 2389
---
> #line 2386
17530c17562
< #line 2390
---
> #line 2387
17532c17564
< #line 2393
---
> #line 2390
17534c17566
< #line 2394
---
> #line 2391
17536c17568
< #line 2395
---
> #line 2392
17538c17570
< #line 2398
---
> #line 2395
17540c17572
< #line 2399
---
> #line 2396
17542c17574
< #line 2399
---
> #line 2396
17544c17576
< #line 2402
---
> #line 2399
17546c17578
< #line 2403
---
> #line 2400
17548c17580
< #line 2403
---
> #line 2400
17550c17582
< #line 2403
---
> #line 2400
17552c17584
< #line 2403
---
> #line 2400
17554c17586
< #line 2403
---
> #line 2400
17557c17589
< #line 2409
---
> #line 2406
17559c17591
< #line 2411
---
> #line 2408
17561c17593
< #line 2411
---
> #line 2408
17563c17595
< #line 2411
---
> #line 2408
17565c17597
< #line 2411
---
> #line 2408
17567c17599
< #line 2411
---
> #line 2408
17573c17605
< #line 2419
---
> #line 2416
17575c17607
< #line 2424
---
> #line 2421
17577c17609
< #line 2424
---
> #line 2421
17579c17611
< #line 2427
---
> #line 2424
17581c17613
< #line 2428
---
> #line 2425
17583c17615
< #line 2428
---
> #line 2425
17585c17617
< #line 2428
---
> #line 2425
17587c17619
< #line 2428
---
> #line 2425
17589c17621
< #line 2428
---
> #line 2425
17592c17624
< #line 2434
---
> #line 2431
17597c17629
< #line 2438
---
> #line 2435
17599c17631
< #line 2440
---
> #line 2437
17603c17635
< #line 2443 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2440 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17606a17639,17640
>   struct drm_gem_object *obj ;
>   struct drm_i915_gem_object *obj_priv ;
17609c17643
< #line 2446
---
> #line 2443
17611c17645
< #line 2448
---
> #line 2445
17613c17647
< #line 2449
---
> #line 2446
17618c17652
< #line 2451
---
> #line 2448
17620c17654
< #line 2453
---
> #line 2450
17622c17656
< #line 2454
---
> #line 2451
17624c17658
< #line 2455
---
> #line 2452
17626c17660
< #line 2456
---
> #line 2453
17628c17662
< #line 2458
---
> #line 2455
17629a17664,17669
> #line 2456
>     obj = dev_priv->hws_obj;
> #line 2457
>     obj_priv = obj->driver_private;
> #line 2459
>     while (1) {
17631c17671,17672
<     i915_gem_object_unpin(dev_priv->hws_obj);
---
>       break;
>     }
17633c17674
<     drm_gem_object_unreference(dev_priv->hws_obj);
---
>     i915_gem_object_unpin(obj);
17635c17676
<     dev_priv->hws_obj = (void *)0;
---
>     drm_gem_object_unreference(obj);
17636a17678,17679
>     dev_priv->hws_obj = (void *)0;
> #line 2463
17638c17681,17683
< #line 2465
---
> #line 2464
>     dev_priv->hw_status_page = (void *)0;
> #line 2467
17643c17688
< #line 2467
---
> #line 2469
17647c17692
< #line 2469 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2471 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17666c17711
< #line 2473
---
> #line 2475
17668c17713
< #line 2476
---
> #line 2478
17670c17715
< #line 2477
---
> #line 2479
17672c17717
< #line 2478
---
> #line 2480
17677c17722
< #line 2481
---
> #line 2483
17679c17724
< #line 2482
---
> #line 2484
17681c17726
< #line 2483
---
> #line 2485
17686c17731
< #line 2485
---
> #line 2487
17688c17733
< #line 2486
---
> #line 2488
17690c17735
< #line 2486
---
> #line 2488
17692c17737
< #line 2486
---
> #line 2488
17694c17739
< #line 2486
---
> #line 2488
17697c17742
< #line 2486
---
> #line 2488
17700c17745
< #line 2486
---
> #line 2488
17702c17747
< #line 2486
---
> #line 2488
17704c17749
< #line 2486
---
> #line 2488
17706c17751
< #line 2486
---
> #line 2488
17713,17714c17758,17759
<                              "i" (2486), "i" (sizeof(struct bug_entry )));
< #line 2486
---
>                              "i" (2488), "i" (sizeof(struct bug_entry )));
> #line 2488
17718c17763
< #line 2486
---
> #line 2488
17724c17769
< #line 2486
---
> #line 2488
17727c17772
< #line 2487
---
> #line 2489
17729c17774
< #line 2487
---
> #line 2489
17731c17776
< #line 2487
---
> #line 2489
17733c17778
< #line 2487
---
> #line 2489
17736c17781
< #line 2487
---
> #line 2489
17739c17784
< #line 2487
---
> #line 2489
17741c17786
< #line 2487
---
> #line 2489
17743c17788
< #line 2487
---
> #line 2489
17745c17790
< #line 2487
---
> #line 2489
17752,17753c17797,17798
<                              "i" (2487), "i" (sizeof(struct bug_entry )));
< #line 2487
---
>                              "i" (2489), "i" (sizeof(struct bug_entry )));
> #line 2489
17757c17802
< #line 2487
---
> #line 2489
17763c17808
< #line 2487
---
> #line 2489
17766c17811
< #line 2488
---
> #line 2490
17768c17813
< #line 2488
---
> #line 2490
17770c17815
< #line 2488
---
> #line 2490
17772c17817
< #line 2488
---
> #line 2490
17775c17820
< #line 2488
---
> #line 2490
17778c17823
< #line 2488
---
> #line 2490
17780c17825
< #line 2488
---
> #line 2490
17782c17827
< #line 2488
---
> #line 2490
17784c17829
< #line 2488
---
> #line 2490
17791,17792c17836,17837
<                              "i" (2488), "i" (sizeof(struct bug_entry )));
< #line 2488
---
>                              "i" (2490), "i" (sizeof(struct bug_entry )));
> #line 2490
17796c17841
< #line 2488
---
> #line 2490
17802c17847
< #line 2488
---
> #line 2490
17805c17850
< #line 2489
---
> #line 2491
17807c17852
< #line 2489
---
> #line 2491
17809c17854
< #line 2489
---
> #line 2491
17811c17856
< #line 2489
---
> #line 2491
17814c17859
< #line 2489
---
> #line 2491
17817c17862
< #line 2489
---
> #line 2491
17819c17864
< #line 2489
---
> #line 2491
17821c17866
< #line 2489
---
> #line 2491
17823c17868
< #line 2489
---
> #line 2491
17830,17831c17875,17876
<                              "i" (2489), "i" (sizeof(struct bug_entry )));
< #line 2489
---
>                              "i" (2491), "i" (sizeof(struct bug_entry )));
> #line 2491
17835c17880
< #line 2489
---
> #line 2491
17841c17886
< #line 2489
---
> #line 2491
17844c17889
< #line 2490
---
> #line 2492
17846,17847d17890
< #line 2491
<   mutex_unlock(& dev->struct_mutex);
17849c17892
<   drm_irq_install(dev);
---
>   mutex_unlock(& dev->struct_mutex);
17850a17894,17895
>   drm_irq_install(dev);
> #line 2497
17854c17899
< #line 2498 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2500 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17860c17905
< #line 2504
---
> #line 2506
17862c17907
< #line 2505
---
> #line 2507
17864c17909
< #line 2506
---
> #line 2508
17866c17911
< #line 2507
---
> #line 2509
17871,17872d17915
< #line 2508
<   mutex_unlock(& dev->struct_mutex);
17874c17917
<   drm_irq_uninstall(dev);
---
>   mutex_unlock(& dev->struct_mutex);
17875a17919,17920
>   drm_irq_uninstall(dev);
> #line 2514
17879c17924
< #line 2515 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2517 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17886,17887d17930
< #line 2519
<   dev_priv = dev->dev_private;
17889c17932
<   mutex_lock_nested(& dev->struct_mutex, 0);
---
>   dev_priv = dev->dev_private;
17890a17934,17935
>   mutex_lock_nested(& dev->struct_mutex, 0);
> #line 2525
17892c17937
< #line 2524
---
> #line 2526
17894c17939
< #line 2525
---
> #line 2527
17896c17941
< #line 2526
---
> #line 2528
17902c17947
< #line 2528
---
> #line 2530
17907c17952
< #line 2531
---
> #line 2533
17909c17954
< #line 2532
---
> #line 2534
17913,17914d17957
< #line 2543 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
< static struct lock_class_key __key___3  ;
17915a17959,17960
> static struct lock_class_key __key___3  ;
> #line 2547 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17917c17962
< #line 2534 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
---
> #line 2536 "/work/ldvuser/novikov/work/current--X--drivers/gpu/drm/i915/i915.ko--X--defaultlinux--X--68_1--X--cpachecker/linux/csd_deg_dscv/21/dscv_tempdir/dscv/ri/68_1/drivers/gpu/drm/i915/i915_gem.c"
17925,17926d17969
< #line 2537
<   dev_priv = dev->dev_private;
17927a17971,17972
>   dev_priv = dev->dev_private;
> #line 2541
17929c17974
< #line 2540
---
> #line 2542
17931c17976
< #line 2541
---
> #line 2543
17933c17978
< #line 2542
---
> #line 2544
17935c17980
< #line 2543
---
> #line 2545
17937c17982
< #line 2543
---
> #line 2545
17939c17984
< #line 2543
---
> #line 2545
17941c17986
< #line 2543
---
> #line 2545
17943c17988
< #line 2543
---
> #line 2545
17946c17991
< #line 2543
---
> #line 2545
17948c17993
< #line 2543
---
> #line 2545
17950c17995
< #line 2543
---
> #line 2545
17952c17997
< #line 2543
---
> #line 2545
17955c18000
< #line 2543
---
> #line 2545
17958c18003
< #line 2543
---
> #line 2545
17960c18005
< #line 2543
---
> #line 2545
17963c18008
< #line 2545
---
> #line 2547
17965c18010
< #line 2545
---
> #line 2547
17967c18012
< #line 2545
---
> #line 2547
17969c18014
< #line 2545
---
> #line 2547
17972c18017
< #line 2545
---
> #line 2547
17974c18019
< #line 2545
---
> #line 2547
17976c18021
< #line 2545
---
> #line 2547
17978c18023
< #line 2545
---
> #line 2547
17981c18026
< #line 2545
---
> #line 2547
17984,17985d18028
< #line 2547
<   dev_priv->mm.next_gem_seqno = 1;
17986a18030,18031
>   dev_priv->mm.next_gem_seqno = 1;
> #line 2551
17988c18033
< #line 2550
---
> #line 2552
