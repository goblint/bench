74,75d73
< #line 33 "include/linux/types.h"
< typedef _Bool bool;
90,93d87
< #line 114 "include/linux/types.h"
< typedef __s32 int32_t;
< #line 120 "include/linux/types.h"
< typedef __u32 uint32_t;
129c123
< #line 328 "include/asm/msr.h"
---
> #line 335 "include/asm/msr.h"
131c125
< #line 329
---
> #line 336
432,433d425
< #line 237 "include/asm/elf.h"
< struct linux_binprm;
495c487
< #line 52 "include/linux/kobject.h"
---
> #line 51 "include/linux/kobject.h"
497c489
< #line 52
---
> #line 51
499c491
< #line 52
---
> #line 51
501c493
< #line 52 "include/linux/kobject.h"
---
> #line 51 "include/linux/kobject.h"
503c495
<    char const   *k_name ;
---
>    char const   *name ;
509a502,505
>    unsigned char state_initialized : 1 ;
>    unsigned char state_in_sysfs : 1 ;
>    unsigned char state_add_uevent_sent : 1 ;
>    unsigned char state_remove_uevent_sent : 1 ;
511c507
< #line 101 "include/linux/kobject.h"
---
> #line 106 "include/linux/kobject.h"
517c513
< #line 107 "include/linux/kobject.h"
---
> #line 112 "include/linux/kobject.h"
524c520
< #line 114 "include/linux/kobject.h"
---
> #line 119 "include/linux/kobject.h"
530c526
< #line 120 "include/linux/kobject.h"
---
> #line 136 "include/linux/kobject.h"
532d527
<    struct kobj_type *ktype ;
538,543d532
< #line 225 "include/linux/kobject.h"
< struct subsys_attribute {
<    struct attribute attr ;
<    ssize_t (*show)(struct kset * , char * ) ;
<    ssize_t (*store)(struct kset * , char const   * , size_t  ) ;
< };
611c600
< #line 228 "include/linux/workqueue.h"
---
> #line 236 "include/linux/workqueue.h"
815c804
< union __anonunion_ldv_6667_78 {
---
> union __anonunion_ldv_6679_78 {
820c809
< struct __anonstruct_ldv_6672_80 {
---
> struct __anonstruct_ldv_6684_80 {
825,826c814,815
< union __anonunion_ldv_6676_79 {
<    struct __anonstruct_ldv_6672_80 ldv_6672 ;
---
> union __anonunion_ldv_6688_79 {
>    struct __anonstruct_ldv_6684_80 ldv_6684 ;
832c821
< union __anonunion_ldv_6680_81 {
---
> union __anonunion_ldv_6692_81 {
840,842c829,831
<    union __anonunion_ldv_6667_78 ldv_6667 ;
<    union __anonunion_ldv_6676_79 ldv_6676 ;
<    union __anonunion_ldv_6680_81 ldv_6680 ;
---
>    union __anonunion_ldv_6679_78 ldv_6679 ;
>    union __anonunion_ldv_6688_79 ldv_6688 ;
>    union __anonunion_ldv_6692_81 ldv_6692 ;
925c914
<    unsigned long saved_auxv[34U] ;
---
>    unsigned long saved_auxv[38U] ;
1308c1297
< union __anonunion_ldv_8106_99 {
---
> union __anonunion_ldv_8118_99 {
1313c1302
< union __anonunion_ldv_8111_100 {
---
> union __anonunion_ldv_8123_100 {
1343c1332
<    union __anonunion_ldv_8106_99 ldv_8106 ;
---
>    union __anonunion_ldv_8118_99 ldv_8118 ;
1345c1334
<    union __anonunion_ldv_8111_100 ldv_8111 ;
---
>    union __anonunion_ldv_8123_100 ldv_8123 ;
1391,1392c1380
<    struct kset kset ;
<    struct subsys_attribute user_attr ;
---
>    struct kobject kobj ;
1395c1383
< #line 571
---
> #line 566
1397c1385
< #line 572
---
> #line 567
1399c1387
< #line 573 "include/linux/sched.h"
---
> #line 568 "include/linux/sched.h"
1408c1396
< #line 594
---
> #line 589
1410c1398
< #line 595 "include/linux/sched.h"
---
> #line 590 "include/linux/sched.h"
1421c1409
< #line 632
---
> #line 627
1428c1416
< #line 639 "include/linux/sched.h"
---
> #line 634 "include/linux/sched.h"
1435c1423
< #line 698 "include/linux/sched.h"
---
> #line 693 "include/linux/sched.h"
1476c1464
< #line 775
---
> #line 770
1478c1466
< #line 776 "include/linux/sched.h"
---
> #line 771 "include/linux/sched.h"
1486c1474
< #line 816
---
> #line 811
1488c1476
< #line 817
---
> #line 812
1490c1478
< #line 819
---
> #line 814
1492c1480
< #line 820 "include/linux/sched.h"
---
> #line 815 "include/linux/sched.h"
1510c1498
< #line 851 "include/linux/sched.h"
---
> #line 846 "include/linux/sched.h"
1515c1503
< #line 855 "include/linux/sched.h"
---
> #line 850 "include/linux/sched.h"
1553c1541
< #line 915
---
> #line 910
1555c1543
< #line 915
---
> #line 910
1557c1545
< #line 915
---
> #line 910
1559c1547
< #line 915
---
> #line 910
1561c1549
< #line 915 "include/linux/sched.h"
---
> #line 910 "include/linux/sched.h"
1722a1711,1734
> #line 703 "include/linux/pci.h"
> struct file_ra_state;
> #line 704
> struct writeback_control;
> #line 132 "include/linux/mm.h"
> struct vm_fault {
>    unsigned int flags ;
>    unsigned long pgoff ;
>    void *virtual_address ;
>    struct page *page ;
> };
> #line 153 "include/linux/mm.h"
> struct vm_operations_struct {
>    void (*open)(struct vm_area_struct * ) ;
>    void (*close)(struct vm_area_struct * ) ;
>    int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
>    struct page *(*nopage)(struct vm_area_struct * , unsigned long  , int * ) ;
>    unsigned long (*nopfn)(struct vm_area_struct * , unsigned long  ) ;
>    int (*page_mkwrite)(struct vm_area_struct * , struct page * ) ;
>    int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
>    struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
>    int (*migrate)(struct vm_area_struct * , nodemask_t const   * , nodemask_t const   * ,
>                   unsigned long  ) ;
> };
2004,2005d2015
< #line 351
< struct writeback_control;
2081c2091
< union __anonunion_ldv_12110_105 {
---
> union __anonunion_ldv_13768_105 {
2120c2130
<    union __anonunion_ldv_12110_105 ldv_12110 ;
---
>    union __anonunion_ldv_13768_105 ldv_13768 ;
2404,2499d2413
< struct linux_binprm {
<    char buf[128U] ;
<    struct vm_area_struct *vma ;
<    struct mm_struct *mm ;
<    unsigned long p ;
<    int sh_bang ;
<    struct file *file ;
<    int e_uid ;
<    int e_gid ;
<    kernel_cap_t cap_inheritable ;
<    kernel_cap_t cap_permitted ;
<    bool cap_effective ;
<    void *security ;
<    int argc ;
<    int envc ;
<    char *filename ;
<    char *interp ;
<    unsigned int interp_flags ;
<    unsigned int interp_data ;
<    unsigned long loader ;
<    unsigned long exec ;
<    unsigned long argv_len ;
< };
< #line 53 "include/linux/binfmts.h"
< struct linux_binfmt {
<    struct list_head lh ;
<    struct module *module ;
<    int (*load_binary)(struct linux_binprm * , struct pt_regs * ) ;
<    int (*load_shlib)(struct file * ) ;
<    int (*core_dump)(long  , struct pt_regs * , struct file * , unsigned long  ) ;
<    unsigned long min_coredump ;
<    int hasvdso ;
< };
< #line 27 "include/linux/key.h"
< typedef int32_t key_serial_t;
< #line 30 "include/linux/key.h"
< typedef uint32_t key_perm_t;
< #line 31
< struct key_type;
< #line 33
< struct keyring_list;
< #line 110
< struct key_user;
< #line 110 "include/linux/key.h"
< union __anonunion_type_data_111 {
<    struct list_head link ;
<    unsigned long x[2U] ;
<    void *p[2U] ;
< };
< #line 110 "include/linux/key.h"
< union __anonunion_payload_112 {
<    unsigned long value ;
<    void *data ;
<    struct keyring_list *subscriptions ;
< };
< #line 110 "include/linux/key.h"
< struct key {
<    atomic_t usage ;
<    key_serial_t serial ;
<    struct rb_node serial_node ;
<    struct key_type *type ;
<    struct rw_semaphore sem ;
<    struct key_user *user ;
<    void *security ;
<    time_t expiry ;
<    uid_t uid ;
<    gid_t gid ;
<    key_perm_t perm ;
<    unsigned short quotalen ;
<    unsigned short datalen ;
<    unsigned long flags ;
<    char *description ;
<    union __anonunion_type_data_111 type_data ;
<    union __anonunion_payload_112 payload ;
< };
< #line 131 "include/linux/mm.h"
< struct vm_fault {
<    unsigned int flags ;
<    unsigned long pgoff ;
<    void *virtual_address ;
<    struct page *page ;
< };
< #line 152 "include/linux/mm.h"
< struct vm_operations_struct {
<    void (*open)(struct vm_area_struct * ) ;
<    void (*close)(struct vm_area_struct * ) ;
<    int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
<    struct page *(*nopage)(struct vm_area_struct * , unsigned long  , int * ) ;
<    unsigned long (*nopfn)(struct vm_area_struct * , unsigned long  ) ;
<    int (*page_mkwrite)(struct vm_area_struct * , struct page * ) ;
<    int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
<    struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
<    int (*migrate)(struct vm_area_struct * , nodemask_t const   * , nodemask_t const   * ,
<                   unsigned long  ) ;
< };
< #line 910 "include/linux/pci.h"
2581,2587c2495,2501
<     STATE_NEEDS_INIT = 0,
<     STATE_PREPARED = 1,
<     STATE_QUEUED = 2,
<     STATE_ACTIVE = 3,
<     STATE_DONE = 4,
<     STATE_ERROR = 5,
<     STATE_IDLE = 6
---
>     VIDEOBUF_NEEDS_INIT = 0,
>     VIDEOBUF_PREPARED = 1,
>     VIDEOBUF_QUEUED = 2,
>     VIDEOBUF_ACTIVE = 3,
>     VIDEOBUF_DONE = 4,
>     VIDEOBUF_ERROR = 5,
>     VIDEOBUF_IDLE = 6
2646c2560,2561
<    unsigned int streaming ;
---
>    unsigned char streaming : 1 ;
>    unsigned char reading : 1 ;
2648d2562
<    unsigned int reading ;
2753c2667
<     printk("<7>vbuf-sg: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
2779c2693
<     printk("<7>vbuf-sg: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
2791c2705
<       printk("<7>vbuf-sg: munmap %p q=%p\n", map, q);
---
>       printk("<7>vbuf-vmalloc: munmap %p q=%p\n", map, q);
2800,2801c2714,2715
<     goto ldv_18752;
<     ldv_18751: ;
---
>     goto ldv_16915;
>     ldv_16914: ;
2805c2719
<       goto ldv_18750;
---
>       goto ldv_16913;
2812c2726
<       goto ldv_18750;
---
>       goto ldv_16913;
2822c2736
<     ldv_18750: 
---
>     ldv_16913: 
2825c2739
<     ldv_18752: ;
---
>     ldv_16915: ;
2829c2743
<       goto ldv_18751;
---
>       goto ldv_16914;
2872c2786
<     printk("<7>vbuf-sg: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
---
>     printk("<7>vbuf-vmalloc: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
2903c2817
<     ldv_18768: ;
---
>     ldv_16931: ;
2905c2819
<     goto ldv_18768;
---
>     goto ldv_16931;
2918c2832
<     ldv_18769: ;
---
>     ldv_16932: ;
2920c2834
<     goto ldv_18769;
---
>     goto ldv_16932;
2949c2863
<     printk("<7>vbuf-sg: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
---
>     printk("<7>vbuf-vmalloc: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
2969c2883
<         printk("<7>vbuf-sg: mmap app bug: remap_vmalloc_range area %p error %d\n",
---
>         printk("<7>vbuf-vmalloc: mmap app bug: remap_vmalloc_range area %p error %d\n",
3005,3006c2919,2920
<   goto ldv_18780;
<   ldv_18779: ;
---
>   goto ldv_16943;
>   ldv_16942: ;
3021c2935
<   ldv_18780: ;
---
>   ldv_16943: ;
3025c2939
<     goto ldv_18779;
---
>     goto ldv_16942;
3063,3064c2977,2978
<   goto ldv_18794;
<   ldv_18793: ;
---
>   goto ldv_16957;
>   ldv_16956: ;
3068c2982
<     goto ldv_18791;
---
>     goto ldv_16954;
3075c2989
<     goto ldv_18791;
---
>     goto ldv_16954;
3082c2996
<     goto ldv_18792;
---
>     goto ldv_16955;
3086c3000
<   ldv_18791: 
---
>   ldv_16954: 
3089c3003
<   ldv_18794: ;
---
>   ldv_16957: ;
3093c3007
<     goto ldv_18793;
---
>     goto ldv_16956;
3097c3011
<   ldv_18792: ;
---
>   ldv_16955: ;
3103c3017
<       printk("<7>vbuf-sg: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
---
>       printk("<7>vbuf-vmalloc: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
3151c3065
<     ldv_18795: ;
---
>     ldv_16958: ;
3153c3067
<     goto ldv_18795;
---
>     goto ldv_16958;
3166c3080
<     ldv_18796: ;
---
>     ldv_16959: ;
3168c3082
<     goto ldv_18796;
---
>     goto ldv_16959;
3179c3093
<       printk("<7>vbuf-sg: mmap: postponing remap_vmalloc_range\n");
---
>       printk("<7>vbuf-vmalloc: mmap: postponing remap_vmalloc_range\n");
3214,3215c3128,3129
<     printk("<7>vbuf-sg: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n", map,
<            q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
---
>     printk("<7>vbuf-vmalloc: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n",
>            map, q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
3247c3161
<     ldv_18807: ;
---
>     ldv_16970: ;
3249c3163
<     goto ldv_18807;
---
>     goto ldv_16970;
3262c3176
<     ldv_18808: ;
---
>     ldv_16971: ;
3264c3178
<     goto ldv_18808;
---
>     goto ldv_16971;
3276c3190
<     ldv_18809: ;
---
>     ldv_16972: ;
3278c3192
<     goto ldv_18809;
---
>     goto ldv_16972;
3324c3238
<     ldv_18820: ;
---
>     ldv_16983: ;
3326c3240
<     goto ldv_18820;
---
>     goto ldv_16983;
3339c3253
<     ldv_18821: ;
---
>     ldv_16984: ;
3341c3255
<     goto ldv_18821;
---
>     goto ldv_16984;
3356c3270
<       printk("<7>vbuf-sg: vbihack: %d\n", *fc);
---
>       printk("<7>vbuf-vmalloc: vbihack: %d\n", *fc);
3415c3329
<     ldv_18850: ;
---
>     ldv_17013: ;
3417c3331
<     goto ldv_18850;
---
>     goto ldv_17013;
3430c3344
<     ldv_18851: ;
---
>     ldv_17014: ;
3432c3346
<     goto ldv_18851;
---
>     goto ldv_17014;
3458c3372
<     ldv_18862: ;
---
>     ldv_17025: ;
3460c3374
<     goto ldv_18862;
---
>     goto ldv_17025;
3473c3387
<     ldv_18863: ;
---
>     ldv_17026: ;
3475c3389
<     goto ldv_18863;
---
>     goto ldv_17026;
3526,3527c3440,3441
<   goto ldv_18913;
<   ldv_18912: 
---
>   goto ldv_17076;
>   ldv_17075: 
3545c3459
<   goto ldv_18902;
---
>   goto ldv_17065;
3559c3473
<   goto ldv_18902;
---
>   goto ldv_17065;
3566c3480
<   goto ldv_18902;
---
>   goto ldv_17065;
3573c3487
<   goto ldv_18902;
---
>   goto ldv_17065;
3580c3494
<   goto ldv_18902;
---
>   goto ldv_17065;
3587c3501
<   goto ldv_18902;
---
>   goto ldv_17065;
3594c3508
<   goto ldv_18902;
---
>   goto ldv_17065;
3602c3516
<   goto ldv_18902;
---
>   goto ldv_17065;
3611c3525
<   goto ldv_18902;
---
>   goto ldv_17065;
3614c3528
<   goto ldv_18902;
---
>   goto ldv_17065;
3616,3617c3530,3531
<   ldv_18902: ;
<   ldv_18913: 
---
>   ldv_17065: ;
>   ldv_17076: 
3623c3537
<     goto ldv_18912;
---
>     goto ldv_17075;
