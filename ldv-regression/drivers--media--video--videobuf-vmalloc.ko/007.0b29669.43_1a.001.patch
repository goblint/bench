74,75d73
< #line 33 "include/linux/types.h"
< typedef _Bool bool;
90,93d87
< #line 114 "include/linux/types.h"
< typedef __s32 int32_t;
< #line 120 "include/linux/types.h"
< typedef __u32 uint32_t;
129c123
< #line 328 "include/asm/msr.h"
---
> #line 335 "include/asm/msr.h"
131c125
< #line 329
---
> #line 336
413,414d406
< #line 237 "include/asm/elf.h"
< struct linux_binprm;
476c468
< #line 52 "include/linux/kobject.h"
---
> #line 51 "include/linux/kobject.h"
478c470
< #line 52
---
> #line 51
480c472
< #line 52
---
> #line 51
482c474
< #line 52 "include/linux/kobject.h"
---
> #line 51 "include/linux/kobject.h"
484c476
<    char const   *k_name ;
---
>    char const   *name ;
490a483,486
>    unsigned char state_initialized : 1 ;
>    unsigned char state_in_sysfs : 1 ;
>    unsigned char state_add_uevent_sent : 1 ;
>    unsigned char state_remove_uevent_sent : 1 ;
492c488
< #line 101 "include/linux/kobject.h"
---
> #line 106 "include/linux/kobject.h"
498c494
< #line 107 "include/linux/kobject.h"
---
> #line 112 "include/linux/kobject.h"
505c501
< #line 114 "include/linux/kobject.h"
---
> #line 119 "include/linux/kobject.h"
511c507
< #line 120 "include/linux/kobject.h"
---
> #line 136 "include/linux/kobject.h"
513d508
<    struct kobj_type *ktype ;
519,524d513
< #line 225 "include/linux/kobject.h"
< struct subsys_attribute {
<    struct attribute attr ;
<    ssize_t (*show)(struct kset * , char * ) ;
<    ssize_t (*store)(struct kset * , char const   * , size_t  ) ;
< };
609c598
< #line 228 "include/linux/workqueue.h"
---
> #line 236 "include/linux/workqueue.h"
813c802
< union __anonunion_ldv_6729_78 {
---
> union __anonunion_ldv_6741_78 {
818c807
< struct __anonstruct_ldv_6734_80 {
---
> struct __anonstruct_ldv_6746_80 {
823,824c812,813
< union __anonunion_ldv_6738_79 {
<    struct __anonstruct_ldv_6734_80 ldv_6734 ;
---
> union __anonunion_ldv_6750_79 {
>    struct __anonstruct_ldv_6746_80 ldv_6746 ;
830c819
< union __anonunion_ldv_6742_81 {
---
> union __anonunion_ldv_6754_81 {
838,840c827,829
<    union __anonunion_ldv_6729_78 ldv_6729 ;
<    union __anonunion_ldv_6738_79 ldv_6738 ;
<    union __anonunion_ldv_6742_81 ldv_6742 ;
---
>    union __anonunion_ldv_6741_78 ldv_6741 ;
>    union __anonunion_ldv_6750_79 ldv_6750 ;
>    union __anonunion_ldv_6754_81 ldv_6754 ;
923c912
<    unsigned long saved_auxv[34U] ;
---
>    unsigned long saved_auxv[38U] ;
1306c1295
< union __anonunion_ldv_8168_99 {
---
> union __anonunion_ldv_8180_99 {
1311c1300
< union __anonunion_ldv_8173_100 {
---
> union __anonunion_ldv_8185_100 {
1341c1330
<    union __anonunion_ldv_8168_99 ldv_8168 ;
---
>    union __anonunion_ldv_8180_99 ldv_8180 ;
1343c1332
<    union __anonunion_ldv_8173_100 ldv_8173 ;
---
>    union __anonunion_ldv_8185_100 ldv_8185 ;
1389,1390c1378
<    struct kset kset ;
<    struct subsys_attribute user_attr ;
---
>    struct kobject kobj ;
1393c1381
< #line 571
---
> #line 566
1395c1383
< #line 572
---
> #line 567
1397c1385
< #line 573 "include/linux/sched.h"
---
> #line 568 "include/linux/sched.h"
1406c1394
< #line 594
---
> #line 589
1408c1396
< #line 595 "include/linux/sched.h"
---
> #line 590 "include/linux/sched.h"
1419c1407
< #line 632
---
> #line 627
1426c1414
< #line 639 "include/linux/sched.h"
---
> #line 634 "include/linux/sched.h"
1433c1421
< #line 698 "include/linux/sched.h"
---
> #line 693 "include/linux/sched.h"
1474c1462
< #line 775
---
> #line 770
1476c1464
< #line 776 "include/linux/sched.h"
---
> #line 771 "include/linux/sched.h"
1484c1472
< #line 816
---
> #line 811
1486c1474
< #line 817
---
> #line 812
1488c1476
< #line 819
---
> #line 814
1490c1478
< #line 820 "include/linux/sched.h"
---
> #line 815 "include/linux/sched.h"
1508c1496
< #line 851 "include/linux/sched.h"
---
> #line 846 "include/linux/sched.h"
1513c1501
< #line 855 "include/linux/sched.h"
---
> #line 850 "include/linux/sched.h"
1551c1539
< #line 915
---
> #line 910
1553c1541
< #line 915
---
> #line 910
1555c1543
< #line 915
---
> #line 910
1557c1545
< #line 915
---
> #line 910
1559c1547
< #line 915 "include/linux/sched.h"
---
> #line 910 "include/linux/sched.h"
1721a1710,1733
> #line 703 "include/linux/pci.h"
> struct file_ra_state;
> #line 704
> struct writeback_control;
> #line 132 "include/linux/mm.h"
> struct vm_fault {
>    unsigned int flags ;
>    unsigned long pgoff ;
>    void *virtual_address ;
>    struct page *page ;
> };
> #line 153 "include/linux/mm.h"
> struct vm_operations_struct {
>    void (*open)(struct vm_area_struct * ) ;
>    void (*close)(struct vm_area_struct * ) ;
>    int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
>    struct page *(*nopage)(struct vm_area_struct * , unsigned long  , int * ) ;
>    unsigned long (*nopfn)(struct vm_area_struct * , unsigned long  ) ;
>    int (*page_mkwrite)(struct vm_area_struct * , struct page * ) ;
>    int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
>    struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
>    int (*migrate)(struct vm_area_struct * , nodemask_t const   * , nodemask_t const   * ,
>                   unsigned long  ) ;
> };
2003,2004d2014
< #line 351
< struct writeback_control;
2080c2090
< union __anonunion_ldv_12177_105 {
---
> union __anonunion_ldv_13835_105 {
2119c2129
<    union __anonunion_ldv_12177_105 ldv_12177 ;
---
>    union __anonunion_ldv_13835_105 ldv_13835 ;
2403,2498d2412
< struct linux_binprm {
<    char buf[128U] ;
<    struct vm_area_struct *vma ;
<    struct mm_struct *mm ;
<    unsigned long p ;
<    int sh_bang ;
<    struct file *file ;
<    int e_uid ;
<    int e_gid ;
<    kernel_cap_t cap_inheritable ;
<    kernel_cap_t cap_permitted ;
<    bool cap_effective ;
<    void *security ;
<    int argc ;
<    int envc ;
<    char *filename ;
<    char *interp ;
<    unsigned int interp_flags ;
<    unsigned int interp_data ;
<    unsigned long loader ;
<    unsigned long exec ;
<    unsigned long argv_len ;
< };
< #line 53 "include/linux/binfmts.h"
< struct linux_binfmt {
<    struct list_head lh ;
<    struct module *module ;
<    int (*load_binary)(struct linux_binprm * , struct pt_regs * ) ;
<    int (*load_shlib)(struct file * ) ;
<    int (*core_dump)(long  , struct pt_regs * , struct file * , unsigned long  ) ;
<    unsigned long min_coredump ;
<    int hasvdso ;
< };
< #line 27 "include/linux/key.h"
< typedef int32_t key_serial_t;
< #line 30 "include/linux/key.h"
< typedef uint32_t key_perm_t;
< #line 31
< struct key_type;
< #line 33
< struct keyring_list;
< #line 110
< struct key_user;
< #line 110 "include/linux/key.h"
< union __anonunion_type_data_111 {
<    struct list_head link ;
<    unsigned long x[2U] ;
<    void *p[2U] ;
< };
< #line 110 "include/linux/key.h"
< union __anonunion_payload_112 {
<    unsigned long value ;
<    void *data ;
<    struct keyring_list *subscriptions ;
< };
< #line 110 "include/linux/key.h"
< struct key {
<    atomic_t usage ;
<    key_serial_t serial ;
<    struct rb_node serial_node ;
<    struct key_type *type ;
<    struct rw_semaphore sem ;
<    struct key_user *user ;
<    void *security ;
<    time_t expiry ;
<    uid_t uid ;
<    gid_t gid ;
<    key_perm_t perm ;
<    unsigned short quotalen ;
<    unsigned short datalen ;
<    unsigned long flags ;
<    char *description ;
<    union __anonunion_type_data_111 type_data ;
<    union __anonunion_payload_112 payload ;
< };
< #line 131 "include/linux/mm.h"
< struct vm_fault {
<    unsigned int flags ;
<    unsigned long pgoff ;
<    void *virtual_address ;
<    struct page *page ;
< };
< #line 152 "include/linux/mm.h"
< struct vm_operations_struct {
<    void (*open)(struct vm_area_struct * ) ;
<    void (*close)(struct vm_area_struct * ) ;
<    int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
<    struct page *(*nopage)(struct vm_area_struct * , unsigned long  , int * ) ;
<    unsigned long (*nopfn)(struct vm_area_struct * , unsigned long  ) ;
<    int (*page_mkwrite)(struct vm_area_struct * , struct page * ) ;
<    int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
<    struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
<    int (*migrate)(struct vm_area_struct * , nodemask_t const   * , nodemask_t const   * ,
<                   unsigned long  ) ;
< };
< #line 910 "include/linux/pci.h"
2580,2586c2494,2500
<     STATE_NEEDS_INIT = 0,
<     STATE_PREPARED = 1,
<     STATE_QUEUED = 2,
<     STATE_ACTIVE = 3,
<     STATE_DONE = 4,
<     STATE_ERROR = 5,
<     STATE_IDLE = 6
---
>     VIDEOBUF_NEEDS_INIT = 0,
>     VIDEOBUF_PREPARED = 1,
>     VIDEOBUF_QUEUED = 2,
>     VIDEOBUF_ACTIVE = 3,
>     VIDEOBUF_DONE = 4,
>     VIDEOBUF_ERROR = 5,
>     VIDEOBUF_IDLE = 6
2645c2559,2560
<    unsigned int streaming ;
---
>    unsigned char streaming : 1 ;
>    unsigned char reading : 1 ;
2647d2561
<    unsigned int reading ;
2749c2663
<     printk("<7>vbuf-sg: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
2775c2689
<     printk("<7>vbuf-sg: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
2787c2701
<       printk("<7>vbuf-sg: munmap %p q=%p\n", map, q);
---
>       printk("<7>vbuf-vmalloc: munmap %p q=%p\n", map, q);
2796,2797c2710,2711
<     goto ldv_18819;
<     ldv_18818: ;
---
>     goto ldv_16982;
>     ldv_16981: ;
2801c2715
<       goto ldv_18817;
---
>       goto ldv_16980;
2808c2722
<       goto ldv_18817;
---
>       goto ldv_16980;
2818c2732
<     ldv_18817: 
---
>     ldv_16980: 
2821c2735
<     ldv_18819: ;
---
>     ldv_16982: ;
2825c2739
<       goto ldv_18818;
---
>       goto ldv_16981;
2868c2782
<     printk("<7>vbuf-sg: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
---
>     printk("<7>vbuf-vmalloc: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
2899c2813
<     ldv_18835: ;
---
>     ldv_16998: ;
2901c2815
<     goto ldv_18835;
---
>     goto ldv_16998;
2914c2828
<     ldv_18836: ;
---
>     ldv_16999: ;
2916c2830
<     goto ldv_18836;
---
>     goto ldv_16999;
2945c2859
<     printk("<7>vbuf-sg: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
---
>     printk("<7>vbuf-vmalloc: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
2965c2879
<         printk("<7>vbuf-sg: mmap app bug: remap_vmalloc_range area %p error %d\n",
---
>         printk("<7>vbuf-vmalloc: mmap app bug: remap_vmalloc_range area %p error %d\n",
3001,3002c2915,2916
<   goto ldv_18847;
<   ldv_18846: ;
---
>   goto ldv_17010;
>   ldv_17009: ;
3017c2931
<   ldv_18847: ;
---
>   ldv_17010: ;
3021c2935
<     goto ldv_18846;
---
>     goto ldv_17009;
3059,3060c2973,2974
<   goto ldv_18861;
<   ldv_18860: ;
---
>   goto ldv_17024;
>   ldv_17023: ;
3064c2978
<     goto ldv_18858;
---
>     goto ldv_17021;
3071c2985
<     goto ldv_18858;
---
>     goto ldv_17021;
3078c2992
<     goto ldv_18859;
---
>     goto ldv_17022;
3082c2996
<   ldv_18858: 
---
>   ldv_17021: 
3085c2999
<   ldv_18861: ;
---
>   ldv_17024: ;
3089c3003
<     goto ldv_18860;
---
>     goto ldv_17023;
3093c3007
<   ldv_18859: ;
---
>   ldv_17022: ;
3099c3013
<       printk("<7>vbuf-sg: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
---
>       printk("<7>vbuf-vmalloc: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
3147c3061
<     ldv_18862: ;
---
>     ldv_17025: ;
3149c3063
<     goto ldv_18862;
---
>     goto ldv_17025;
3162c3076
<     ldv_18863: ;
---
>     ldv_17026: ;
3164c3078
<     goto ldv_18863;
---
>     goto ldv_17026;
3175c3089
<       printk("<7>vbuf-sg: mmap: postponing remap_vmalloc_range\n");
---
>       printk("<7>vbuf-vmalloc: mmap: postponing remap_vmalloc_range\n");
3210,3211c3124,3125
<     printk("<7>vbuf-sg: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n", map,
<            q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
---
>     printk("<7>vbuf-vmalloc: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n",
>            map, q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
3243c3157
<     ldv_18874: ;
---
>     ldv_17037: ;
3245c3159
<     goto ldv_18874;
---
>     goto ldv_17037;
3258c3172
<     ldv_18875: ;
---
>     ldv_17038: ;
3260c3174
<     goto ldv_18875;
---
>     goto ldv_17038;
3272c3186
<     ldv_18876: ;
---
>     ldv_17039: ;
3274c3188
<     goto ldv_18876;
---
>     goto ldv_17039;
3320c3234
<     ldv_18887: ;
---
>     ldv_17050: ;
3322c3236
<     goto ldv_18887;
---
>     goto ldv_17050;
3335c3249
<     ldv_18888: ;
---
>     ldv_17051: ;
3337c3251
<     goto ldv_18888;
---
>     goto ldv_17051;
3352c3266
<       printk("<7>vbuf-sg: vbihack: %d\n", *fc);
---
>       printk("<7>vbuf-vmalloc: vbihack: %d\n", *fc);
3411c3325
<     ldv_18917: ;
---
>     ldv_17080: ;
3413c3327
<     goto ldv_18917;
---
>     goto ldv_17080;
3426c3340
<     ldv_18918: ;
---
>     ldv_17081: ;
3428c3342
<     goto ldv_18918;
---
>     goto ldv_17081;
3454c3368
<     ldv_18929: ;
---
>     ldv_17092: ;
3456c3370
<     goto ldv_18929;
---
>     goto ldv_17092;
3469c3383
<     ldv_18930: ;
---
>     ldv_17093: ;
3471c3385
<     goto ldv_18930;
---
>     goto ldv_17093;
3522,3523c3436,3437
<   goto ldv_18980;
<   ldv_18979: 
---
>   goto ldv_17143;
>   ldv_17142: 
3541c3455
<   goto ldv_18969;
---
>   goto ldv_17132;
3555c3469
<   goto ldv_18969;
---
>   goto ldv_17132;
3562c3476
<   goto ldv_18969;
---
>   goto ldv_17132;
3569c3483
<   goto ldv_18969;
---
>   goto ldv_17132;
3576c3490
<   goto ldv_18969;
---
>   goto ldv_17132;
3583c3497
<   goto ldv_18969;
---
>   goto ldv_17132;
3590c3504
<   goto ldv_18969;
---
>   goto ldv_17132;
3598c3512
<   goto ldv_18969;
---
>   goto ldv_17132;
3607c3521
<   goto ldv_18969;
---
>   goto ldv_17132;
3610c3524
<   goto ldv_18969;
---
>   goto ldv_17132;
3612,3613c3526,3527
<   ldv_18969: ;
<   ldv_18980: 
---
>   ldv_17132: ;
>   ldv_17143: 
3619c3533
<     goto ldv_18979;
---
>     goto ldv_17142;
