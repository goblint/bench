74,75d73
< #line 33 "include/linux/types.h"
< typedef _Bool bool;
90,93d87
< #line 114 "include/linux/types.h"
< typedef __s32 int32_t;
< #line 120 "include/linux/types.h"
< typedef __u32 uint32_t;
426,427d419
< #line 282 "include/asm/elf.h"
< struct linux_binprm;
489c481
< #line 63 "include/linux/kobject.h"
---
> #line 62 "include/linux/kobject.h"
491c483
< #line 63
---
> #line 62
493c485
< #line 63
---
> #line 62
495c487
< #line 63 "include/linux/kobject.h"
---
> #line 62 "include/linux/kobject.h"
497c489
<    char const   *k_name ;
---
>    char const   *name ;
503a496,499
>    unsigned int state_initialized : 1 ;
>    unsigned int state_in_sysfs : 1 ;
>    unsigned int state_add_uevent_sent : 1 ;
>    unsigned int state_remove_uevent_sent : 1 ;
505c501
< #line 102 "include/linux/kobject.h"
---
> #line 107 "include/linux/kobject.h"
507c503
<    void (*release)(struct kobject * ) ;
---
>    void (*release)(struct kobject *kobj ) ;
511c507
< #line 108 "include/linux/kobject.h"
---
> #line 113 "include/linux/kobject.h"
518c514
< #line 115 "include/linux/kobject.h"
---
> #line 120 "include/linux/kobject.h"
524c520
< #line 140 "include/linux/kobject.h"
---
> #line 154 "include/linux/kobject.h"
526d521
<    struct kobj_type *ktype ;
532,537d526
< #line 226 "include/linux/kobject.h"
< struct subsys_attribute {
<    struct attribute attr ;
<    ssize_t (*show)(struct kset * , char * ) ;
<    ssize_t (*store)(struct kset * , char const   * , size_t  ) ;
< };
970c959
<    unsigned long saved_auxv[2 * ((0 + (14 + 2)) + 1)] ;
---
>    unsigned long saved_auxv[2 * ((2 + (14 + 2)) + 1)] ;
1436,1437c1425
<    struct kset kset ;
<    struct subsys_attribute user_attr ;
---
>    struct kobject kobj ;
1440c1428
< #line 573
---
> #line 568
1442c1430
< #line 574
---
> #line 569
1444c1432
< #line 577 "include/linux/sched.h"
---
> #line 572 "include/linux/sched.h"
1453c1441
< #line 594
---
> #line 589
1455c1443
< #line 598 "include/linux/sched.h"
---
> #line 593 "include/linux/sched.h"
1466c1454
< #line 639
---
> #line 634
1473c1461
< #line 682 "include/linux/sched.h"
---
> #line 677 "include/linux/sched.h"
1480c1468
< #line 699 "include/linux/sched.h"
---
> #line 694 "include/linux/sched.h"
1521c1509
< #line 776
---
> #line 771
1523c1511
< #line 779 "include/linux/sched.h"
---
> #line 774 "include/linux/sched.h"
1531c1519
< #line 816
---
> #line 811
1533c1521
< #line 818
---
> #line 813
1535c1523
< #line 821
---
> #line 816
1537c1525
< #line 824 "include/linux/sched.h"
---
> #line 819 "include/linux/sched.h"
1555c1543
< #line 852 "include/linux/sched.h"
---
> #line 847 "include/linux/sched.h"
1560c1548
< #line 866 "include/linux/sched.h"
---
> #line 861 "include/linux/sched.h"
1598c1586
< #line 917
---
> #line 912
1600c1588
< #line 917
---
> #line 912
1602c1590
< #line 917
---
> #line 912
1604c1592
< #line 917
---
> #line 912
1606c1594
< #line 917 "include/linux/sched.h"
---
> #line 912 "include/linux/sched.h"
1768a1757,1780
> #line 18 "include/linux/mm.h"
> struct file_ra_state;
> #line 20
> struct writeback_control;
> #line 146 "include/linux/mm.h"
> struct vm_fault {
>    unsigned int flags ;
>    unsigned long pgoff ;
>    void *virtual_address ;
>    struct page *page ;
> };
> #line 163 "include/linux/mm.h"
> struct vm_operations_struct {
>    void (*open)(struct vm_area_struct *area ) ;
>    void (*close)(struct vm_area_struct *area ) ;
>    int (*fault)(struct vm_area_struct *vma , struct vm_fault *vmf ) ;
>    struct page *(*nopage)(struct vm_area_struct *area , unsigned long address , int *type ) ;
>    unsigned long (*nopfn)(struct vm_area_struct *area , unsigned long address ) ;
>    int (*page_mkwrite)(struct vm_area_struct *vma , struct page *page ) ;
>    int (*set_policy)(struct vm_area_struct *vma , struct mempolicy *new ) ;
>    struct mempolicy *(*get_policy)(struct vm_area_struct *vma , unsigned long addr ) ;
>    int (*migrate)(struct vm_area_struct *vma , nodemask_t const   *from , nodemask_t const   *to ,
>                   unsigned long flags ) ;
> };
2054,2055d2065
< #line 407 "include/linux/fs.h"
< struct writeback_control;
2454,2549d2463
< #line 27 "include/linux/binfmts.h"
< struct linux_binprm {
<    char buf[128] ;
<    struct vm_area_struct *vma ;
<    struct mm_struct *mm ;
<    unsigned long p ;
<    int sh_bang ;
<    struct file *file ;
<    int e_uid ;
<    int e_gid ;
<    kernel_cap_t cap_inheritable ;
<    kernel_cap_t cap_permitted ;
<    bool cap_effective ;
<    void *security ;
<    int argc ;
<    int envc ;
<    char *filename ;
<    char *interp ;
<    unsigned int interp_flags ;
<    unsigned int interp_data ;
<    unsigned long loader ;
<    unsigned long exec ;
<    unsigned long argv_len ;
< };
< #line 66 "include/linux/binfmts.h"
< struct linux_binfmt {
<    struct list_head lh ;
<    struct module *module ;
<    int (*load_binary)(struct linux_binprm * , struct pt_regs *regs ) ;
<    int (*load_shlib)(struct file * ) ;
<    int (*core_dump)(long signr , struct pt_regs *regs , struct file *file , unsigned long limit ) ;
<    unsigned long min_coredump ;
<    int hasvdso ;
< };
< #line 27 "include/linux/key.h"
< typedef int32_t key_serial_t;
< #line 30 "include/linux/key.h"
< typedef uint32_t key_perm_t;
< #line 74
< struct key_type;
< #line 76
< struct keyring_list;
< #line 119
< struct key_user;
< #line 119 "include/linux/key.h"
< union __anonunion_type_data_127 {
<    struct list_head link ;
<    unsigned long x[2] ;
<    void *p[2] ;
< };
< #line 119 "include/linux/key.h"
< union __anonunion_payload_128 {
<    unsigned long value ;
<    void *data ;
<    struct keyring_list *subscriptions ;
< };
< #line 119 "include/linux/key.h"
< struct key {
<    atomic_t usage ;
<    key_serial_t serial ;
<    struct rb_node serial_node ;
<    struct key_type *type ;
<    struct rw_semaphore sem ;
<    struct key_user *user ;
<    void *security ;
<    time_t expiry ;
<    uid_t uid ;
<    gid_t gid ;
<    key_perm_t perm ;
<    unsigned short quotalen ;
<    unsigned short datalen ;
<    unsigned long flags ;
<    char *description ;
<    union __anonunion_type_data_127 type_data ;
<    union __anonunion_payload_128 payload ;
< };
< #line 145 "include/linux/mm.h"
< struct vm_fault {
<    unsigned int flags ;
<    unsigned long pgoff ;
<    void *virtual_address ;
<    struct page *page ;
< };
< #line 162 "include/linux/mm.h"
< struct vm_operations_struct {
<    void (*open)(struct vm_area_struct *area ) ;
<    void (*close)(struct vm_area_struct *area ) ;
<    int (*fault)(struct vm_area_struct *vma , struct vm_fault *vmf ) ;
<    struct page *(*nopage)(struct vm_area_struct *area , unsigned long address , int *type ) ;
<    unsigned long (*nopfn)(struct vm_area_struct *area , unsigned long address ) ;
<    int (*page_mkwrite)(struct vm_area_struct *vma , struct page *page ) ;
<    int (*set_policy)(struct vm_area_struct *vma , struct mempolicy *new ) ;
<    struct mempolicy *(*get_policy)(struct vm_area_struct *vma , unsigned long addr ) ;
<    int (*migrate)(struct vm_area_struct *vma , nodemask_t const   *from , nodemask_t const   *to ,
<                   unsigned long flags ) ;
< };
2632,2638c2546,2552
<     STATE_NEEDS_INIT = 0,
<     STATE_PREPARED = 1,
<     STATE_QUEUED = 2,
<     STATE_ACTIVE = 3,
<     STATE_DONE = 4,
<     STATE_ERROR = 5,
<     STATE_IDLE = 6
---
>     VIDEOBUF_NEEDS_INIT = 0,
>     VIDEOBUF_PREPARED = 1,
>     VIDEOBUF_QUEUED = 2,
>     VIDEOBUF_ACTIVE = 3,
>     VIDEOBUF_DONE = 4,
>     VIDEOBUF_ERROR = 5,
>     VIDEOBUF_IDLE = 6
2699c2613,2614
<    unsigned int streaming ;
---
>    unsigned int streaming : 1 ;
>    unsigned int reading : 1 ;
2701d2615
<    unsigned int reading ;
2720,2730d2633
< #line 50 "include/linux/notifier.h"
< struct notifier_block {
<    int (*notifier_call)(struct notifier_block * , unsigned long  , void * ) ;
<    struct notifier_block *next ;
<    int priority ;
< };
< #line 61 "include/linux/notifier.h"
< struct blocking_notifier_head {
<    struct rw_semaphore rwsem ;
<    struct notifier_block *head ;
< };
2853c2756,2758
< #line 35 "include/linux/device.h"
---
> #line 36 "include/linux/device.h"
> struct driver_private;
> #line 37
2855c2760
< #line 36
---
> #line 38
2857c2762
< #line 37
---
> #line 39
2859c2764,2766
< #line 39 "include/linux/device.h"
---
> #line 40
> struct bus_type_private;
> #line 42 "include/linux/device.h"
2862,2863c2769,2770
<    ssize_t (*show)(struct bus_type * , char *buf ) ;
<    ssize_t (*store)(struct bus_type * , char const   *buf , size_t count ) ;
---
>    ssize_t (*show)(struct bus_type *bus , char *buf ) ;
>    ssize_t (*store)(struct bus_type *bus , char const   *buf , size_t count ) ;
2865c2772
< #line 52
---
> #line 55
2867c2774
< #line 52
---
> #line 55
2869c2776
< #line 52 "include/linux/device.h"
---
> #line 55 "include/linux/device.h"
2872,2878d2778
<    struct module *owner ;
<    struct kset subsys ;
<    struct kset drivers ;
<    struct kset devices ;
<    struct klist klist_devices ;
<    struct klist klist_drivers ;
<    struct blocking_notifier_head bus_notifier ;
2891c2791
<    unsigned int drivers_autoprobe : 1 ;
---
>    struct bus_type_private *p ;
2893c2793
< #line 121 "include/linux/device.h"
---
> #line 118 "include/linux/device.h"
2897,2899d2796
<    struct kobject kobj ;
<    struct klist klist_devices ;
<    struct klist_node knode_bus ;
2902d2798
<    struct module_kobject *mkobj ;
2907a2804,2805
>    struct attribute_group **groups ;
>    struct driver_private *p ;
2909c2807
< #line 151 "include/linux/device.h"
---
> #line 147 "include/linux/device.h"
2912,2913c2810,2811
<    ssize_t (*show)(struct device_driver * , char *buf ) ;
<    ssize_t (*store)(struct device_driver * , char const   *buf , size_t count ) ;
---
>    ssize_t (*show)(struct device_driver *driver , char *buf ) ;
>    ssize_t (*store)(struct device_driver *driver , char const   *buf , size_t count ) ;
2915c2813
< #line 174
---
> #line 179
2917c2815
< #line 174
---
> #line 179
2919c2817
< #line 174 "include/linux/device.h"
---
> #line 179 "include/linux/device.h"
2937,2938c2835,2836
<    int (*suspend)(struct device * , pm_message_t state ) ;
<    int (*resume)(struct device * ) ;
---
>    int (*suspend)(struct device *dev , pm_message_t state ) ;
>    int (*resume)(struct device *dev ) ;
2940c2838
< #line 204 "include/linux/device.h"
---
> #line 214 "include/linux/device.h"
2943,2944c2841,2842
<    ssize_t (*show)(struct class * , char *buf ) ;
<    ssize_t (*store)(struct class * , char const   *buf , size_t count ) ;
---
>    ssize_t (*show)(struct class *class , char *buf ) ;
>    ssize_t (*store)(struct class *class , char const   *buf , size_t count ) ;
2946c2844
< #line 217 "include/linux/device.h"
---
> #line 228 "include/linux/device.h"
2952c2850
< #line 254 "include/linux/device.h"
---
> #line 265 "include/linux/device.h"
2966c2864
< #line 331 "include/linux/device.h"
---
> #line 340 "include/linux/device.h"
2975c2873
< #line 341 "include/linux/device.h"
---
> #line 350 "include/linux/device.h"
2982c2880
< #line 400
---
> #line 410
2984c2882
< #line 400 "include/linux/device.h"
---
> #line 410 "include/linux/device.h"
3049c2947
< #line 143 "include/linux/usb.h"
---
> #line 144 "include/linux/usb.h"
3064c2962
< #line 202 "include/linux/usb.h"
---
> #line 203 "include/linux/usb.h"
3070c2968
< #line 254 "include/linux/usb.h"
---
> #line 255 "include/linux/usb.h"
3080c2978
< #line 284 "include/linux/usb.h"
---
> #line 285 "include/linux/usb.h"
3084c2982
< #line 291
---
> #line 292
3086c2984
< #line 291 "include/linux/usb.h"
---
> #line 292 "include/linux/usb.h"
3107c3005
< #line 341
---
> #line 342
3109c3007
< #line 356 "include/linux/usb.h"
---
> #line 357 "include/linux/usb.h"
3160c3058
< #line 1053 "include/linux/usb.h"
---
> #line 1054 "include/linux/usb.h"
3167c3065
< #line 1060
---
> #line 1061
3169c3067
< #line 1062 "include/linux/usb.h"
---
> #line 1063 "include/linux/usb.h"
3175c3073
< #line 1244 "include/linux/usb.h"
---
> #line 1245 "include/linux/usb.h"
3343c3241
<     printk("<7>vbuf-sg: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
3369c3267
<     printk("<7>vbuf-sg: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
3381c3279
<       printk("<7>vbuf-sg: munmap %p q=%p\n", map, q);
---
>       printk("<7>vbuf-vmalloc: munmap %p q=%p\n", map, q);
3461c3359
<     printk("<7>vbuf-sg: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
---
>     printk("<7>vbuf-vmalloc: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
3565c3463
<     printk("<7>vbuf-sg: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
---
>     printk("<7>vbuf-vmalloc: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
3585c3483
<         printk("<7>vbuf-sg: mmap app bug: remap_vmalloc_range area %p error %d\n",
---
>         printk("<7>vbuf-vmalloc: mmap app bug: remap_vmalloc_range area %p error %d\n",
3715c3613
<       printk("<7>vbuf-sg: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
---
>       printk("<7>vbuf-vmalloc: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
3817c3715
<       printk("<7>vbuf-sg: mmap: postponing remap_vmalloc_range\n");
---
>       printk("<7>vbuf-vmalloc: mmap: postponing remap_vmalloc_range\n");
3852,3853c3750,3751
<     printk("<7>vbuf-sg: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n", map,
<            q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
---
>     printk("<7>vbuf-vmalloc: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n",
>            map, q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
4060c3958
<       printk("<7>vbuf-sg: vbihack: %d\n", *fc);
---
>       printk("<7>vbuf-vmalloc: vbihack: %d\n", *fc);
4438c4336
< #line 1384 "include/linux/usb.h"
---
> #line 1385 "include/linux/usb.h"
4440c4338
< #line 1385
---
> #line 1386
