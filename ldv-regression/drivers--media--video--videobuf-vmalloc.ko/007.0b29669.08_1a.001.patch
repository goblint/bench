74,75d73
< #line 33 "include/linux/types.h"
< typedef _Bool bool;
90,93d87
< #line 114 "include/linux/types.h"
< typedef __s32 int32_t;
< #line 120 "include/linux/types.h"
< typedef __u32 uint32_t;
123c117
< #line 328 "include/asm/msr.h"
---
> #line 335 "include/asm/msr.h"
413,414d406
< #line 237 "include/asm/elf.h"
< struct linux_binprm;
476c468
< #line 52 "include/linux/kobject.h"
---
> #line 51 "include/linux/kobject.h"
478c470
< #line 52
---
> #line 51
480c472
< #line 52
---
> #line 51
482c474
< #line 52 "include/linux/kobject.h"
---
> #line 51 "include/linux/kobject.h"
484c476
<    char const   *k_name ;
---
>    char const   *name ;
490a483,486
>    unsigned char state_initialized : 1 ;
>    unsigned char state_in_sysfs : 1 ;
>    unsigned char state_add_uevent_sent : 1 ;
>    unsigned char state_remove_uevent_sent : 1 ;
492c488
< #line 101 "include/linux/kobject.h"
---
> #line 106 "include/linux/kobject.h"
498c494
< #line 107 "include/linux/kobject.h"
---
> #line 112 "include/linux/kobject.h"
505c501
< #line 114 "include/linux/kobject.h"
---
> #line 119 "include/linux/kobject.h"
511c507
< #line 120 "include/linux/kobject.h"
---
> #line 136 "include/linux/kobject.h"
513d508
<    struct kobj_type *ktype ;
519,524d513
< #line 225 "include/linux/kobject.h"
< struct subsys_attribute {
<    struct attribute attr ;
<    ssize_t (*show)(struct kset * , char * ) ;
<    ssize_t (*store)(struct kset * , char const   * , size_t  ) ;
< };
609c598
< #line 228 "include/linux/workqueue.h"
---
> #line 236 "include/linux/workqueue.h"
813c802
< union __anonunion_ldv_6644_78 {
---
> union __anonunion_ldv_6656_78 {
818c807
< struct __anonstruct_ldv_6649_80 {
---
> struct __anonstruct_ldv_6661_80 {
823,824c812,813
< union __anonunion_ldv_6653_79 {
<    struct __anonstruct_ldv_6649_80 ldv_6649 ;
---
> union __anonunion_ldv_6665_79 {
>    struct __anonstruct_ldv_6661_80 ldv_6661 ;
830c819
< union __anonunion_ldv_6657_81 {
---
> union __anonunion_ldv_6669_81 {
838,840c827,829
<    union __anonunion_ldv_6644_78 ldv_6644 ;
<    union __anonunion_ldv_6653_79 ldv_6653 ;
<    union __anonunion_ldv_6657_81 ldv_6657 ;
---
>    union __anonunion_ldv_6656_78 ldv_6656 ;
>    union __anonunion_ldv_6665_79 ldv_6665 ;
>    union __anonunion_ldv_6669_81 ldv_6669 ;
923c912
<    unsigned long saved_auxv[34U] ;
---
>    unsigned long saved_auxv[38U] ;
1306c1295
< union __anonunion_ldv_8083_99 {
---
> union __anonunion_ldv_8095_99 {
1311c1300
< union __anonunion_ldv_8088_100 {
---
> union __anonunion_ldv_8100_100 {
1341c1330
<    union __anonunion_ldv_8083_99 ldv_8083 ;
---
>    union __anonunion_ldv_8095_99 ldv_8095 ;
1343c1332
<    union __anonunion_ldv_8088_100 ldv_8088 ;
---
>    union __anonunion_ldv_8100_100 ldv_8100 ;
1389,1390c1378
<    struct kset kset ;
<    struct subsys_attribute user_attr ;
---
>    struct kobject kobj ;
1393c1381
< #line 571
---
> #line 566
1395c1383
< #line 572
---
> #line 567
1397c1385
< #line 573 "include/linux/sched.h"
---
> #line 568 "include/linux/sched.h"
1406c1394
< #line 594
---
> #line 589
1408c1396
< #line 595 "include/linux/sched.h"
---
> #line 590 "include/linux/sched.h"
1419c1407
< #line 632
---
> #line 627
1426c1414
< #line 639 "include/linux/sched.h"
---
> #line 634 "include/linux/sched.h"
1433c1421
< #line 698 "include/linux/sched.h"
---
> #line 693 "include/linux/sched.h"
1474c1462
< #line 775
---
> #line 770
1476c1464
< #line 776 "include/linux/sched.h"
---
> #line 771 "include/linux/sched.h"
1484c1472
< #line 816
---
> #line 811
1486c1474
< #line 817
---
> #line 812
1488c1476
< #line 819
---
> #line 814
1490c1478
< #line 820 "include/linux/sched.h"
---
> #line 815 "include/linux/sched.h"
1508c1496
< #line 851 "include/linux/sched.h"
---
> #line 846 "include/linux/sched.h"
1513c1501
< #line 855 "include/linux/sched.h"
---
> #line 850 "include/linux/sched.h"
1551c1539
< #line 915
---
> #line 910
1553c1541
< #line 915
---
> #line 910
1555c1543
< #line 915
---
> #line 910
1557c1545
< #line 915
---
> #line 910
1559c1547
< #line 915 "include/linux/sched.h"
---
> #line 910 "include/linux/sched.h"
1721a1710,1733
> #line 703 "include/linux/pci.h"
> struct file_ra_state;
> #line 704
> struct writeback_control;
> #line 132 "include/linux/mm.h"
> struct vm_fault {
>    unsigned int flags ;
>    unsigned long pgoff ;
>    void *virtual_address ;
>    struct page *page ;
> };
> #line 153 "include/linux/mm.h"
> struct vm_operations_struct {
>    void (*open)(struct vm_area_struct * ) ;
>    void (*close)(struct vm_area_struct * ) ;
>    int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
>    struct page *(*nopage)(struct vm_area_struct * , unsigned long  , int * ) ;
>    unsigned long (*nopfn)(struct vm_area_struct * , unsigned long  ) ;
>    int (*page_mkwrite)(struct vm_area_struct * , struct page * ) ;
>    int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
>    struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
>    int (*migrate)(struct vm_area_struct * , nodemask_t const   * , nodemask_t const   * ,
>                   unsigned long  ) ;
> };
2003,2004d2014
< #line 351
< struct writeback_control;
2080c2090
< union __anonunion_ldv_12088_105 {
---
> union __anonunion_ldv_13746_105 {
2119c2129
<    union __anonunion_ldv_12088_105 ldv_12088 ;
---
>    union __anonunion_ldv_13746_105 ldv_13746 ;
2403,2498d2412
< struct linux_binprm {
<    char buf[128U] ;
<    struct vm_area_struct *vma ;
<    struct mm_struct *mm ;
<    unsigned long p ;
<    int sh_bang ;
<    struct file *file ;
<    int e_uid ;
<    int e_gid ;
<    kernel_cap_t cap_inheritable ;
<    kernel_cap_t cap_permitted ;
<    bool cap_effective ;
<    void *security ;
<    int argc ;
<    int envc ;
<    char *filename ;
<    char *interp ;
<    unsigned int interp_flags ;
<    unsigned int interp_data ;
<    unsigned long loader ;
<    unsigned long exec ;
<    unsigned long argv_len ;
< };
< #line 53 "include/linux/binfmts.h"
< struct linux_binfmt {
<    struct list_head lh ;
<    struct module *module ;
<    int (*load_binary)(struct linux_binprm * , struct pt_regs * ) ;
<    int (*load_shlib)(struct file * ) ;
<    int (*core_dump)(long  , struct pt_regs * , struct file * , unsigned long  ) ;
<    unsigned long min_coredump ;
<    int hasvdso ;
< };
< #line 27 "include/linux/key.h"
< typedef int32_t key_serial_t;
< #line 30 "include/linux/key.h"
< typedef uint32_t key_perm_t;
< #line 31
< struct key_type;
< #line 33
< struct keyring_list;
< #line 110
< struct key_user;
< #line 110 "include/linux/key.h"
< union __anonunion_type_data_111 {
<    struct list_head link ;
<    unsigned long x[2U] ;
<    void *p[2U] ;
< };
< #line 110 "include/linux/key.h"
< union __anonunion_payload_112 {
<    unsigned long value ;
<    void *data ;
<    struct keyring_list *subscriptions ;
< };
< #line 110 "include/linux/key.h"
< struct key {
<    atomic_t usage ;
<    key_serial_t serial ;
<    struct rb_node serial_node ;
<    struct key_type *type ;
<    struct rw_semaphore sem ;
<    struct key_user *user ;
<    void *security ;
<    time_t expiry ;
<    uid_t uid ;
<    gid_t gid ;
<    key_perm_t perm ;
<    unsigned short quotalen ;
<    unsigned short datalen ;
<    unsigned long flags ;
<    char *description ;
<    union __anonunion_type_data_111 type_data ;
<    union __anonunion_payload_112 payload ;
< };
< #line 131 "include/linux/mm.h"
< struct vm_fault {
<    unsigned int flags ;
<    unsigned long pgoff ;
<    void *virtual_address ;
<    struct page *page ;
< };
< #line 152 "include/linux/mm.h"
< struct vm_operations_struct {
<    void (*open)(struct vm_area_struct * ) ;
<    void (*close)(struct vm_area_struct * ) ;
<    int (*fault)(struct vm_area_struct * , struct vm_fault * ) ;
<    struct page *(*nopage)(struct vm_area_struct * , unsigned long  , int * ) ;
<    unsigned long (*nopfn)(struct vm_area_struct * , unsigned long  ) ;
<    int (*page_mkwrite)(struct vm_area_struct * , struct page * ) ;
<    int (*set_policy)(struct vm_area_struct * , struct mempolicy * ) ;
<    struct mempolicy *(*get_policy)(struct vm_area_struct * , unsigned long  ) ;
<    int (*migrate)(struct vm_area_struct * , nodemask_t const   * , nodemask_t const   * ,
<                   unsigned long  ) ;
< };
< #line 910 "include/linux/pci.h"
2580,2586c2494,2500
<     STATE_NEEDS_INIT = 0,
<     STATE_PREPARED = 1,
<     STATE_QUEUED = 2,
<     STATE_ACTIVE = 3,
<     STATE_DONE = 4,
<     STATE_ERROR = 5,
<     STATE_IDLE = 6
---
>     VIDEOBUF_NEEDS_INIT = 0,
>     VIDEOBUF_PREPARED = 1,
>     VIDEOBUF_QUEUED = 2,
>     VIDEOBUF_ACTIVE = 3,
>     VIDEOBUF_DONE = 4,
>     VIDEOBUF_ERROR = 5,
>     VIDEOBUF_IDLE = 6
2645c2559,2560
<    unsigned int streaming ;
---
>    unsigned char streaming : 1 ;
>    unsigned char reading : 1 ;
2647d2561
<    unsigned int reading ;
2731c2645
<     printk("<7>vbuf-sg: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_open %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
2757c2671
<     printk("<7>vbuf-sg: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
---
>     printk("<7>vbuf-vmalloc: vm_close %p [count=%u,vma=%08lx-%08lx]\n", map, map->count,
2769c2683
<       printk("<7>vbuf-sg: munmap %p q=%p\n", map, q);
---
>       printk("<7>vbuf-vmalloc: munmap %p q=%p\n", map, q);
2778,2779c2692,2693
<     goto ldv_18730;
<     ldv_18729: ;
---
>     goto ldv_16893;
>     ldv_16892: ;
2783c2697
<       goto ldv_18728;
---
>       goto ldv_16891;
2790c2704
<       goto ldv_18728;
---
>       goto ldv_16891;
2800c2714
<     ldv_18728: 
---
>     ldv_16891: 
2803c2717
<     ldv_18730: ;
---
>     ldv_16893: ;
2807c2721
<       goto ldv_18729;
---
>       goto ldv_16892;
2850c2764
<     printk("<7>vbuf-sg: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
---
>     printk("<7>vbuf-vmalloc: %s: allocated at %p(%ld+%ld) & %p(%ld)\n", "__videobuf_alloc",
2881c2795
<     ldv_18746: ;
---
>     ldv_16909: ;
2883c2797
<     goto ldv_18746;
---
>     goto ldv_16909;
2896c2810
<     ldv_18747: ;
---
>     ldv_16910: ;
2898c2812
<     goto ldv_18747;
---
>     goto ldv_16910;
2927c2841
<     printk("<7>vbuf-sg: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
---
>     printk("<7>vbuf-vmalloc: vmalloc is at addr 0x%08lx, size=%d\n", (unsigned long )mem->vmalloc,
2947c2861
<         printk("<7>vbuf-sg: mmap app bug: remap_vmalloc_range area %p error %d\n",
---
>         printk("<7>vbuf-vmalloc: mmap app bug: remap_vmalloc_range area %p error %d\n",
2983,2984c2897,2898
<   goto ldv_18758;
<   ldv_18757: ;
---
>   goto ldv_16921;
>   ldv_16920: ;
2999c2913
<   ldv_18758: ;
---
>   ldv_16921: ;
3003c2917
<     goto ldv_18757;
---
>     goto ldv_16920;
3041,3042c2955,2956
<   goto ldv_18772;
<   ldv_18771: ;
---
>   goto ldv_16935;
>   ldv_16934: ;
3046c2960
<     goto ldv_18769;
---
>     goto ldv_16932;
3053c2967
<     goto ldv_18769;
---
>     goto ldv_16932;
3060c2974
<     goto ldv_18770;
---
>     goto ldv_16933;
3064c2978
<   ldv_18769: 
---
>   ldv_16932: 
3067c2981
<   ldv_18772: ;
---
>   ldv_16935: ;
3071c2985
<     goto ldv_18771;
---
>     goto ldv_16934;
3075c2989
<   ldv_18770: ;
---
>   ldv_16933: ;
3081c2995
<       printk("<7>vbuf-sg: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
---
>       printk("<7>vbuf-vmalloc: mmap app bug: offset invalid [offset=0x%lx]\n", vma->vm_pgoff << 12);
3129c3043
<     ldv_18773: ;
---
>     ldv_16936: ;
3131c3045
<     goto ldv_18773;
---
>     goto ldv_16936;
3144c3058
<     ldv_18774: ;
---
>     ldv_16937: ;
3146c3060
<     goto ldv_18774;
---
>     goto ldv_16937;
3157c3071
<       printk("<7>vbuf-sg: mmap: postponing remap_vmalloc_range\n");
---
>       printk("<7>vbuf-vmalloc: mmap: postponing remap_vmalloc_range\n");
3192,3193c3106,3107
<     printk("<7>vbuf-sg: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n", map,
<            q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
---
>     printk("<7>vbuf-vmalloc: mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n",
>            map, q, vma->vm_start, vma->vm_end, (long )(q->bufs[first])->bsize, vma->vm_pgoff,
3225c3139
<     ldv_18785: ;
---
>     ldv_16948: ;
3227c3141
<     goto ldv_18785;
---
>     goto ldv_16948;
3240c3154
<     ldv_18786: ;
---
>     ldv_16949: ;
3242c3156
<     goto ldv_18786;
---
>     goto ldv_16949;
3254c3168
<     ldv_18787: ;
---
>     ldv_16950: ;
3256c3170
<     goto ldv_18787;
---
>     goto ldv_16950;
3302c3216
<     ldv_18798: ;
---
>     ldv_16961: ;
3304c3218
<     goto ldv_18798;
---
>     goto ldv_16961;
3317c3231
<     ldv_18799: ;
---
>     ldv_16962: ;
3319c3233
<     goto ldv_18799;
---
>     goto ldv_16962;
3334c3248
<       printk("<7>vbuf-sg: vbihack: %d\n", *fc);
---
>       printk("<7>vbuf-vmalloc: vbihack: %d\n", *fc);
3393c3307
<     ldv_18828: ;
---
>     ldv_16991: ;
3395c3309
<     goto ldv_18828;
---
>     goto ldv_16991;
3408c3322
<     ldv_18829: ;
---
>     ldv_16992: ;
3410c3324
<     goto ldv_18829;
---
>     goto ldv_16992;
3436c3350
<     ldv_18840: ;
---
>     ldv_17003: ;
3438c3352
<     goto ldv_18840;
---
>     goto ldv_17003;
3451c3365
<     ldv_18841: ;
---
>     ldv_17004: ;
3453c3367
<     goto ldv_18841;
---
>     goto ldv_17004;
3504,3505c3418,3419
<   goto ldv_18891;
<   ldv_18890: 
---
>   goto ldv_17054;
>   ldv_17053: 
3523c3437
<   goto ldv_18880;
---
>   goto ldv_17043;
3537c3451
<   goto ldv_18880;
---
>   goto ldv_17043;
3544c3458
<   goto ldv_18880;
---
>   goto ldv_17043;
3551c3465
<   goto ldv_18880;
---
>   goto ldv_17043;
3558c3472
<   goto ldv_18880;
---
>   goto ldv_17043;
3565c3479
<   goto ldv_18880;
---
>   goto ldv_17043;
3572c3486
<   goto ldv_18880;
---
>   goto ldv_17043;
3580c3494
<   goto ldv_18880;
---
>   goto ldv_17043;
3589c3503
<   goto ldv_18880;
---
>   goto ldv_17043;
3592c3506
<   goto ldv_18880;
---
>   goto ldv_17043;
3594,3595c3508,3509
<   ldv_18880: ;
<   ldv_18891: 
---
>   ldv_17043: ;
>   ldv_17054: 
3601c3515
<     goto ldv_18890;
---
>     goto ldv_17053;
