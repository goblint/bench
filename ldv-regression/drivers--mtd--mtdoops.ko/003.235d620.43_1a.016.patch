2352c2352
< #line 316 "include/linux/mtd/mtd.h"
---
> #line 60 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2635c2635,2637
< #line 74 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 56 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
> static unsigned long record_size  =    4096UL;
> #line 78 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2637c2639
< #line 76 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 80 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2643c2645
< #line 78
---
> #line 82
2645c2647
< #line 79
---
> #line 83
2649c2651
< #line 81 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 85 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2655c2657
< #line 83
---
> #line 87
2657c2659
< #line 84
---
> #line 88
2661c2663
< #line 86 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 90 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2667c2669
< #line 88
---
> #line 92
2669c2671
< #line 88
---
> #line 92
2673c2675
< #line 91 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 95 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2679c2681
< #line 93
---
> #line 97
2681c2683
< #line 94
---
> #line 98
2683c2685
< #line 95
---
> #line 99
2687c2689
< #line 97 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 101 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2706c2708
< #line 99
---
> #line 103
2708c2710
< #line 100
---
> #line 104
2710,2715d2711
< #line 100
<   start_page_offset = tmp * mtd->erasesize;
< #line 101
<   start_page = start_page_offset / 4096U;
< #line 102
<   erase_pages = mtd->erasesize / 4096U;
2716a2713,2718
>   start_page_offset = tmp * mtd->erasesize;
> #line 105
>   start_page = (u32 )((unsigned long )start_page_offset / record_size);
> #line 106
>   erase_pages = (u32 )((unsigned long )mtd->erasesize / record_size);
> #line 108
2718c2720
< #line 104
---
> #line 108
2720c2722
< #line 104
---
> #line 108
2722c2724
< #line 104
---
> #line 108
2724c2726
< #line 104
---
> #line 108
2726c2728
< #line 104
---
> #line 108
2728c2730
< #line 109
---
> #line 113
2730c2732
< #line 110
---
> #line 114
2732c2734
< #line 111
---
> #line 115
2734c2736
< #line 112
---
> #line 116
2736c2738
< #line 113
---
> #line 117
2738c2740
< #line 114
---
> #line 118
2740c2742
< #line 116
---
> #line 120
2742c2744
< #line 116
---
> #line 120
2744c2746
< #line 117
---
> #line 121
2746c2748
< #line 119
---
> #line 123
2748c2750
< #line 120
---
> #line 124
2750c2752
< #line 121
---
> #line 125
2752c2754
< #line 121
---
> #line 125
2754c2756
< #line 122
---
> #line 126
2756c2758
< #line 123
---
> #line 127
2759c2761
< #line 126
---
> #line 130
2764c2766
< #line 129
---
> #line 133
2766c2768
< #line 130
---
> #line 134
2768c2770
< #line 133
---
> #line 137
2770,2773c2772,2775
< #line 133
<   goto ldv_17591;
<   ldv_17590: 
< #line 134
---
> #line 137
>   goto ldv_17604;
>   ldv_17603: 
> #line 138
2775c2777
< #line 133
---
> #line 137
2777,2778c2779,2780
<   ldv_17591: ;
< #line 133
---
>   ldv_17604: ;
> #line 137
2780,2781c2782,2783
< #line 134
<     goto ldv_17590;
---
> #line 138
>     goto ldv_17603;
2786c2788
< #line 136
---
> #line 140
2790c2792
< #line 139 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 143 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2796c2798
< #line 141
---
> #line 145
2798c2800
< #line 142
---
> #line 146
2800c2802
< #line 143
---
> #line 147
2805c2807
< #line 144
---
> #line 148
2807c2809
< #line 145
---
> #line 149
2809c2811
< #line 146
---
> #line 150
2814c2816
< #line 148
---
> #line 152
2816c2818
< #line 148
---
> #line 152
2818c2820
< #line 149
---
> #line 153
2820c2822
< #line 150
---
> #line 154
2825c2827
< #line 153
---
> #line 157
2827c2829
< #line 155
---
> #line 159
2829c2831
< #line 156
---
> #line 160
2833c2835
< #line 159 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 163 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2845c2847
< #line 162
---
> #line 166
2847c2849
< #line 162
---
> #line 166
2849c2851
< #line 163
---
> #line 167
2851c2853
< #line 164
---
> #line 168
2853c2855
< #line 167
---
> #line 171
2855c2857
< #line 168
---
> #line 172
2860,2862c2862,2864
< #line 170
<   mod = (int )((uint32_t )(cxt->nextpage * 4096) % mtd->erasesize);
< #line 171
---
> #line 174
>   mod = (int )(((unsigned long )cxt->nextpage * record_size) % (unsigned long )mtd->erasesize);
> #line 175
2864,2866c2866,2868
< #line 172
<     cxt->nextpage = (int )((uint32_t )cxt->nextpage + (mtd->erasesize - (uint32_t )mod) / 4096U);
< #line 173
---
> #line 176
>     cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )(mtd->erasesize - (uint32_t )mod) / record_size));
> #line 177
2868c2870
< #line 174
---
> #line 178
2876,2881c2878,2883
< #line 177
<   goto ldv_17610;
<   ldv_17609: 
< #line 178
<   ret = (*(mtd->block_isbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 179
---
> #line 181
>   goto ldv_17623;
>   ldv_17622: 
> #line 182
>   ret = (*(mtd->block_isbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 183
2883,2884c2885,2886
< #line 180
<     goto ldv_17607;
---
> #line 184
>     goto ldv_17620;
2888c2890
< #line 181
---
> #line 185
2890c2892
< #line 182
---
> #line 186
2892c2894
< #line 183
---
> #line 187
2898,2903d2899
< #line 186
<   printk("<4>mtdoops: bad block at %08x\n", cxt->nextpage * 4096);
< #line 188
<   i = i + 1;
< #line 189
<   cxt->nextpage = (int )((uint32_t )cxt->nextpage + mtd->erasesize / 4096U);
2904a2901,2906
>   printk("<4>mtdoops: bad block at %08lx\n", (unsigned long )cxt->nextpage * record_size);
> #line 192
>   i = i + 1;
> #line 193
>   cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )mtd->erasesize / record_size));
> #line 194
2906c2908
< #line 191
---
> #line 195
2911,2913c2913,2915
< #line 192
<   if ((uint32_t )i == (uint32_t )cxt->oops_pages / (mtd->erasesize / 4096U)) {
< #line 193
---
> #line 196
>   if ((unsigned long )i == (unsigned long )cxt->oops_pages / ((unsigned long )mtd->erasesize / record_size)) {
> #line 197
2915c2917
< #line 194
---
> #line 198
2920,2921c2922,2923
<   ldv_17610: ;
< #line 177
---
>   ldv_17623: ;
> #line 181
2924,2925c2926,2927
< #line 178
<     goto ldv_17609;
---
> #line 182
>     goto ldv_17622;
2929,2930c2931,2932
<   ldv_17607: 
< #line 198
---
>   ldv_17620: 
> #line 202
2932c2934
< #line 198
---
> #line 202
2934,2939c2936,2941
< #line 198
<   goto ldv_17612;
<   ldv_17611: 
< #line 199
<   ret = mtdoops_erase_block(cxt, cxt->nextpage * 4096);
< #line 198
---
> #line 202
>   goto ldv_17625;
>   ldv_17624: 
> #line 203
>   ret = mtdoops_erase_block(cxt, (int )((unsigned int )((unsigned long )cxt->nextpage) * (unsigned int )record_size));
> #line 202
2941,2942c2943,2944
<   ldv_17612: ;
< #line 198
---
>   ldv_17625: ;
> #line 202
2944,2945c2946,2947
< #line 199
<     goto ldv_17611;
---
> #line 203
>     goto ldv_17624;
2950c2952
< #line 201
---
> #line 205
2952c2954
< #line 202
---
> #line 206
2954c2956
< #line 204
---
> #line 208
2956c2958
< #line 205
---
> #line 209
2961c2963
< #line 208
---
> #line 212
2964,2966c2966,2968
< #line 209
<     ret = (*(mtd->block_markbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 210
---
> #line 213
>     ret = (*(mtd->block_markbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 214
2968c2970
< #line 211
---
> #line 215
2970c2972
< #line 212
---
> #line 216
2978c2980
< #line 215
---
> #line 219
2982c2984
< #line 218 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 222 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
2990,2991d2991
< #line 220
<   mtd = cxt->mtd;
2993,2998c2993
<   if (cxt->writecount <= 4095) {
< #line 225
<     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, (size_t )(4096 - cxt->writecount));
<   } else {
< 
<   }
---
>   mtd = cxt->mtd;
3000c2995
<   if (panic___0 != 0) {
---
>   if ((unsigned long )cxt->writecount < record_size) {
3002,3003c2997
<     ret = (*(mtd->panic_write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                                 (u_char const   *)cxt->oops_buf);
---
>     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, record_size - (unsigned long )cxt->writecount);
3004a2999,3000
> 
>   }
3006,3007c3002,3009
<     ret = (*(mtd->write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                           (u_char const   *)cxt->oops_buf);
---
>   if (panic___0 != 0) {
> #line 233
>     ret = (*(mtd->panic_write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                                 record_size, & retlen, (u_char const   *)cxt->oops_buf);
>   } else {
> #line 236
>     ret = (*(mtd->write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                           record_size, & retlen, (u_char const   *)cxt->oops_buf);
3009c3011
< #line 235
---
> #line 239
3011,3015c3013,3017
< #line 237
<   if (retlen != 4096UL || ret < 0) {
< #line 238
<     printk("<3>mtdoops: write failure at %d (%td of %d written), error %d\n", cxt->nextpage * 4096,
<            retlen, 4096, ret);
---
> #line 241
>   if (retlen != record_size || ret < 0) {
> #line 242
>     printk("<3>mtdoops: write failure at %ld (%td of %ld written), error %d\n", (unsigned long )cxt->nextpage * record_size,
>            retlen, record_size, ret);
3019c3021
< #line 240
---
> #line 244
3021c3023
< #line 242
---
> #line 246
3023c3025
< #line 243
---
> #line 247
3027c3029
< #line 246 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 250 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3034c3036
< #line 249
---
> #line 253
3036c3038
< #line 249
---
> #line 253
3038c3040
< #line 251
---
> #line 255
3040c3042
< #line 252
---
> #line 256
3044c3046
< #line 254 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 258 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3056c3058
< #line 256
---
> #line 260
3058c3060
< #line 257
---
> #line 261
3060c3062
< #line 258
---
> #line 262
3062c3064
< #line 261
---
> #line 265
3064,3070d3065
< #line 261
<   goto ldv_17639;
<   ldv_17638: 
< #line 263
<   mark_page_used(cxt, page);
< #line 264
<   ret = (*(mtd->read))(mtd, (loff_t )(page * 4096), 8UL, & retlen, (u_char *)(& count));
3071a3067,3074
>   goto ldv_17652;
>   ldv_17651: 
> #line 267
>   mark_page_used(cxt, page);
> #line 268
>   ret = (*(mtd->read))(mtd, (loff_t )((unsigned long )page * record_size), 8UL, & retlen,
>                        (u_char *)(& count));
> #line 269
3073,3074c3076,3077
< #line 266
<     printk("<3>mtdoops: read failure at %d (%td of 8 read), err %d\n", page * 4096,
---
> #line 270
>     printk("<3>mtdoops: read failure at %ld (%td of 8 read), err %d\n", (unsigned long )page * record_size,
3076,3077c3079,3080
< #line 268
<     goto ldv_17637;
---
> #line 272
>     goto ldv_17650;
3081c3084
< #line 271
---
> #line 275
3083c3086
< #line 272
---
> #line 276
3088c3091
< #line 273
---
> #line 277
3090,3091c3093,3094
< #line 274
<     goto ldv_17637;
---
> #line 278
>     goto ldv_17650;
3095c3098
< #line 275
---
> #line 279
3097,3098c3100,3101
< #line 276
<     goto ldv_17637;
---
> #line 280
>     goto ldv_17650;
3102c3105
< #line 277
---
> #line 281
3104c3107
< #line 278
---
> #line 282
3106c3109
< #line 279
---
> #line 283
3109c3112
< #line 280
---
> #line 284
3111c3114
< #line 281
---
> #line 285
3113c3116
< #line 282
---
> #line 286
3116c3119
< #line 283
---
> #line 287
3118c3121
< #line 284
---
> #line 288
3120c3123
< #line 285
---
> #line 289
3123c3126
< #line 286
---
> #line 290
3125c3128
< #line 288
---
> #line 292
3127c3130
< #line 289
---
> #line 293
3132,3133c3135,3136
<   ldv_17637: 
< #line 261
---
>   ldv_17650: 
> #line 265
3135,3136c3138,3139
<   ldv_17639: ;
< #line 261
---
>   ldv_17652: ;
> #line 265
3138,3139c3141,3142
< #line 262
<     goto ldv_17638;
---
> #line 266
>     goto ldv_17651;
3144c3147
< #line 292
---
> #line 296
3146c3149
< #line 293
---
> #line 297
3148c3151
< #line 294
---
> #line 298
3150c3153
< #line 295
---
> #line 299
3152c3155
< #line 296
---
> #line 300
3157c3160
< #line 299
---
> #line 303
3159c3162
< #line 300
---
> #line 304
3161c3164
< #line 302
---
> #line 306
3163c3166
< #line 303
---
> #line 307
3167c3170
< #line 306 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 310 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3178c3181
< #line 308
---
> #line 312
3180c3183
< #line 309
---
> #line 313
3182,3184c3185,3187
< #line 311
<   __base = 4096U;
< #line 311
---
> #line 315
>   __base = (uint32_t )record_size;
> #line 315
3186c3189
< #line 311
---
> #line 315
3188c3191
< #line 313
---
> #line 317
3190c3193
< #line 313
---
> #line 317
3192c3195
< #line 313
---
> #line 317
3194c3197
< #line 314
---
> #line 318
3202c3205
< #line 316
---
> #line 320
3204c3207
< #line 317
---
> #line 321
3209c3212
< #line 319
---
> #line 323
3211c3214
< #line 320
---
> #line 324
3213c3216
< #line 322
---
> #line 326
3218,3220c3221,3223
< #line 325
<   if (mtd->erasesize <= 4095U) {
< #line 326
---
> #line 329
>   if ((unsigned long )mtd->erasesize < record_size) {
> #line 330
3222c3225
< #line 328
---
> #line 332
3227c3230
< #line 331
---
> #line 335
3229c3232
< #line 332
---
> #line 336
3231c3234
< #line 334
---
> #line 338
3236c3239
< #line 338
---
> #line 342
3238c3241
< #line 338
---
> #line 342
3240c3243
< #line 340
---
> #line 344
3242c3245
< #line 341
---
> #line 345
3244c3247
< #line 342
---
> #line 346
3249c3252
< #line 345
---
> #line 349
3251,3253c3254,3256
< #line 346
<   cxt->oops_pages = (int )mtd->size / 4096;
< #line 347
---
> #line 350
>   cxt->oops_pages = (int )((unsigned long )((int )mtd->size) / record_size);
> #line 351
3255c3258
< #line 348
---
> #line 352
3257c3260
< #line 349
---
> #line 353
3261c3264
< #line 351 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 355 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3267c3270
< #line 353
---
> #line 357
3269c3272
< #line 355
---
> #line 359
3271c3274
< #line 356
---
> #line 360
3276c3279
< #line 358
---
> #line 362
3278c3281
< #line 359
---
> #line 363
3280c3283
< #line 360
---
> #line 364
3284c3287
< #line 362 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 366 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3292c3295
< #line 364
---
> #line 368
3294c3297
< #line 365
---
> #line 369
3296c3299
< #line 368
---
> #line 372
3298c3301
< #line 369
---
> #line 373
3303c3306
< #line 375
---
> #line 379
3305c3308
< #line 376
---
> #line 380
3307c3310
< #line 377
---
> #line 381
3309c3312
< #line 378
---
> #line 382
3314c3317
< #line 380
---
> #line 384
3316c3319
< #line 381
---
> #line 385
3318c3321
< #line 383
---
> #line 387
3322c3325
< #line 383
---
> #line 387
3324c3327
< #line 383
---
> #line 387
3326c3329
< #line 385
---
> #line 389
3329c3332
< #line 387
---
> #line 391
3333c3336
< #line 387
---
> #line 391
3336c3339
< #line 388
---
> #line 392
3340c3343
< #line 391 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 395 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3351c3354
< #line 393
---
> #line 397
3353c3356
< #line 394
---
> #line 398
3355c3358
< #line 397
---
> #line 401
3357c3360
< #line 398
---
> #line 402
3359c3362
< #line 399
---
> #line 403
3364c3367
< #line 402
---
> #line 406
3366c3369
< #line 403
---
> #line 407
3371c3374
< #line 406
---
> #line 410
3373c3376
< #line 409
---
> #line 413
3375c3378
< #line 410
---
> #line 414
3377c3380
< #line 411
---
> #line 415
3382c3385
< #line 414
---
> #line 418
3384c3387
< #line 415
---
> #line 419
3386c3389
< #line 416
---
> #line 420
3388c3391
< #line 416
---
> #line 420
3390c3393
< #line 416
---
> #line 420
3392c3395
< #line 417
---
> #line 421
3394c3397
< #line 418
---
> #line 422
3399,3402c3402,3405
< #line 421
<   if ((unsigned int )cxt->writecount + count > 4096U) {
< #line 422
<     count = (unsigned int )(4096 - cxt->writecount);
---
> #line 425
>   if ((unsigned long )((unsigned int )cxt->writecount + count) > record_size) {
> #line 426
>     count = (unsigned int )record_size - (unsigned int )cxt->writecount;
3406c3409
< #line 424
---
> #line 428
3408c3411
< #line 424
---
> #line 428
3411c3414
< #line 425
---
> #line 429
3413c3416
< #line 427
---
> #line 431
3415,3417c3418,3420
< #line 429
<   if (cxt->writecount == 4096) {
< #line 430
---
> #line 433
>   if ((unsigned long )cxt->writecount == record_size) {
> #line 434
3422c3425
< #line 431
---
> #line 435
3426c3429
< #line 433 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 437 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3432c3435
< #line 435
---
> #line 439
3434c3437
< #line 437
---
> #line 441
3436c3439
< #line 438
---
> #line 442
3441c3444
< #line 439
---
> #line 443
3443c3446
< #line 440
---
> #line 444
3445c3448
< #line 441
---
> #line 445
3450c3453
< #line 443
---
> #line 447
3452c3455
< #line 444
---
> #line 448
3457c3460
< #line 446
---
> #line 450
3459c3462
< #line 447
---
> #line 451
3463c3466
< #line 450 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 454 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3465c3468
< #line 455 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 459 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3467c3470
< #line 455
---
> #line 459
3470c3473
< #line 464 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 468 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3481c3484
< #line 466
---
> #line 470
3483c3486,3504
< #line 468
---
> #line 472
>   if ((record_size & 4095UL) != 0UL) {
> #line 473
>     printk("<3>mtdoops: record_size must be a multiple of 4096\n");
> #line 474
>     return (-22);
>   } else {
> 
>   }
> #line 476
>   if (record_size <= 4095UL) {
> #line 477
>     printk("<3>mtdoops: record_size must be over 4096 bytes\n");
> #line 478
>     return (-22);
>   } else {
> 
>   }
> #line 480
3485,3487c3506,3508
< #line 469
<   cxt->oops_buf = ldv_vmalloc_11(4096UL);
< #line 470
---
> #line 481
>   cxt->oops_buf = ldv_vmalloc_11(record_size);
> #line 482
3489c3510
< #line 471
---
> #line 483
3491c3512
< #line 472
---
> #line 484
3496c3517
< #line 475
---
> #line 487
3498c3519
< #line 476
---
> #line 488
3500c3521
< #line 476
---
> #line 488
3502c3523
< #line 476
---
> #line 488
3505c3526
< #line 476
---
> #line 488
3507c3528
< #line 476
---
> #line 488
3509c3530
< #line 477
---
> #line 489
3511c3532
< #line 477
---
> #line 489
3513c3534
< #line 477
---
> #line 489
3516c3537
< #line 477
---
> #line 489
3518c3539
< #line 477
---
> #line 489
3520c3541
< #line 479
---
> #line 491
3522c3543
< #line 480
---
> #line 492
3524c3545
< #line 481
---
> #line 493
3528c3549
< #line 484 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 496 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3534c3555
< #line 486
---
> #line 498
3536c3557
< #line 488
---
> #line 500
3538c3559
< #line 489
---
> #line 501
3540c3561
< #line 490
---
> #line 502
3542c3563
< #line 491
---
> #line 503
3544c3565
< #line 492
---
> #line 504
3546c3567
< #line 493
---
> #line 505
3550c3571
< #line 519
---
> #line 531
3552c3573
< #line 528
---
> #line 540
3554c3575
< #line 531
---
> #line 543
3556c3577
< #line 534
---
> #line 546
3558c3579
< #line 537 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 549 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3560c3581
< #line 540 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 552 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--43_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/43_1a/drivers/mtd/mtdoops.c.prepared"
3574c3595
< #line 618
---
> #line 624
3576c3597
< #line 596
---
> #line 603
3578c3599
< #line 605
---
> #line 612
3580c3601
< #line 615
---
> #line 621
3582c3603
< #line 616
---
> #line 622
3584c3605
< #line 616
---
> #line 622
3586c3607
< #line 617
---
> #line 623
3591,3594c3612,3615
< #line 624
<   goto ldv_17735;
<   ldv_17734: 
< #line 628
---
> #line 630
>   goto ldv_17748;
>   ldv_17747: 
> #line 634
3596c3617
< #line 628
---
> #line 634
3599c3620
< #line 633
---
> #line 639
3601c3622
< #line 642
---
> #line 647
3603c3624
< #line 643
---
> #line 648
3605c3626
< #line 644
---
> #line 649
3610,3611c3631,3632
< #line 650
<   goto ldv_17728;
---
> #line 655
>   goto ldv_17741;
3613c3634
< #line 663
---
> #line 667
3615c3636
< #line 664
---
> #line 668
3617,3618c3638,3639
< #line 671
<   goto ldv_17728;
---
> #line 675
>   goto ldv_17741;
3620c3641
< #line 684
---
> #line 687
3622c3643
< #line 685
---
> #line 688
3624,3625c3645,3646
< #line 692
<   goto ldv_17728;
---
> #line 695
>   goto ldv_17741;
3627c3648
< #line 705
---
> #line 707
3629c3650
< #line 706
---
> #line 708
3631,3632c3652,3653
< #line 713
<   goto ldv_17728;
---
> #line 715
>   goto ldv_17741;
3634,3635d3654
< #line 726
<   ldv_handler_precall();
3636a3656,3657
>   ldv_handler_precall();
> #line 728
3638,3640d3658
< #line 734
<   goto ldv_17728;
<   default: ;
3642c3660,3663
<   goto ldv_17728;
---
>   goto ldv_17741;
>   default: ;
> #line 736
>   goto ldv_17741;
3644,3646c3665,3667
<   ldv_17728: ;
<   ldv_17735: 
< #line 624
---
>   ldv_17741: ;
>   ldv_17748: 
> #line 630
3648c3669
< #line 624
---
> #line 630
3650,3651c3671,3672
< #line 626
<     goto ldv_17734;
---
> #line 632
>     goto ldv_17747;
