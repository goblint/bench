2263c2263
< #line 316 "include/linux/mtd/mtd.h"
---
> #line 53 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2525c2525,2527
< #line 67 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 49 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
> static unsigned long record_size  =    4096UL;
> #line 71 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2527c2529
< #line 69 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 73 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2533c2535
< #line 71
---
> #line 75
2535c2537
< #line 72
---
> #line 76
2539c2541
< #line 74 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 78 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2545c2547
< #line 76
---
> #line 80
2547c2549
< #line 77
---
> #line 81
2551c2553
< #line 79 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 83 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2557c2559
< #line 81
---
> #line 85
2559c2561
< #line 81
---
> #line 85
2563c2565
< #line 84 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 88 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2569c2571
< #line 86
---
> #line 90
2571c2573
< #line 87
---
> #line 91
2573c2575
< #line 88
---
> #line 92
2577c2579
< #line 90 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 94 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2596c2598
< #line 92
---
> #line 96
2598c2600
< #line 93
---
> #line 97
2600,2605d2601
< #line 93
<   start_page_offset = tmp * mtd->erasesize;
< #line 94
<   start_page = start_page_offset / 4096U;
< #line 95
<   erase_pages = mtd->erasesize / 4096U;
2606a2603,2608
>   start_page_offset = tmp * mtd->erasesize;
> #line 98
>   start_page = (u32 )((unsigned long )start_page_offset / record_size);
> #line 99
>   erase_pages = (u32 )((unsigned long )mtd->erasesize / record_size);
> #line 101
2608c2610
< #line 97
---
> #line 101
2610c2612
< #line 97
---
> #line 101
2612c2614
< #line 97
---
> #line 101
2614c2616
< #line 97
---
> #line 101
2616c2618
< #line 97
---
> #line 101
2618c2620
< #line 102
---
> #line 106
2620c2622
< #line 103
---
> #line 107
2622c2624
< #line 104
---
> #line 108
2624c2626
< #line 105
---
> #line 109
2626c2628
< #line 106
---
> #line 110
2628c2630
< #line 107
---
> #line 111
2630c2632
< #line 109
---
> #line 113
2632c2634
< #line 109
---
> #line 113
2634c2636
< #line 110
---
> #line 114
2636c2638
< #line 112
---
> #line 116
2638c2640
< #line 113
---
> #line 117
2640c2642
< #line 114
---
> #line 118
2642c2644
< #line 114
---
> #line 118
2644c2646
< #line 115
---
> #line 119
2646c2648
< #line 116
---
> #line 120
2649c2651
< #line 119
---
> #line 123
2654c2656
< #line 122
---
> #line 126
2656c2658
< #line 123
---
> #line 127
2658c2660
< #line 126
---
> #line 130
2660,2663c2662,2665
< #line 126
<   goto ldv_17510;
<   ldv_17509: 
< #line 127
---
> #line 130
>   goto ldv_17523;
>   ldv_17522: 
> #line 131
2665c2667
< #line 126
---
> #line 130
2667,2668c2669,2670
<   ldv_17510: ;
< #line 126
---
>   ldv_17523: ;
> #line 130
2670,2671c2672,2673
< #line 127
<     goto ldv_17509;
---
> #line 131
>     goto ldv_17522;
2676c2678
< #line 129
---
> #line 133
2680c2682
< #line 132 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 136 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2686c2688
< #line 134
---
> #line 138
2688c2690
< #line 135
---
> #line 139
2690c2692
< #line 136
---
> #line 140
2695c2697
< #line 137
---
> #line 141
2697c2699
< #line 138
---
> #line 142
2699c2701
< #line 139
---
> #line 143
2704c2706
< #line 141
---
> #line 145
2706c2708
< #line 141
---
> #line 145
2708c2710
< #line 142
---
> #line 146
2710c2712
< #line 143
---
> #line 147
2715c2717
< #line 146
---
> #line 150
2717c2719
< #line 148
---
> #line 152
2719c2721
< #line 149
---
> #line 153
2723c2725
< #line 152 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 156 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2735c2737
< #line 155
---
> #line 159
2737c2739
< #line 155
---
> #line 159
2739c2741
< #line 156
---
> #line 160
2741c2743
< #line 157
---
> #line 161
2743c2745
< #line 160
---
> #line 164
2745c2747
< #line 161
---
> #line 165
2750,2752c2752,2754
< #line 163
<   mod = (int )((uint32_t )(cxt->nextpage * 4096) % mtd->erasesize);
< #line 164
---
> #line 167
>   mod = (int )(((unsigned long )cxt->nextpage * record_size) % (unsigned long )mtd->erasesize);
> #line 168
2754,2756c2756,2758
< #line 165
<     cxt->nextpage = (int )((uint32_t )cxt->nextpage + (mtd->erasesize - (uint32_t )mod) / 4096U);
< #line 166
---
> #line 169
>     cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )(mtd->erasesize - (uint32_t )mod) / record_size));
> #line 170
2758c2760
< #line 167
---
> #line 171
2766,2771c2768,2773
< #line 170
<   goto ldv_17529;
<   ldv_17528: 
< #line 171
<   ret = (*(mtd->block_isbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 172
---
> #line 174
>   goto ldv_17542;
>   ldv_17541: 
> #line 175
>   ret = (*(mtd->block_isbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 176
2773,2774c2775,2776
< #line 173
<     goto ldv_17526;
---
> #line 177
>     goto ldv_17539;
2778c2780
< #line 174
---
> #line 178
2780c2782
< #line 175
---
> #line 179
2782c2784
< #line 176
---
> #line 180
2788,2793d2789
< #line 179
<   printk("<4>mtdoops: bad block at %08x\n", cxt->nextpage * 4096);
< #line 181
<   i = i + 1;
< #line 182
<   cxt->nextpage = (int )((uint32_t )cxt->nextpage + mtd->erasesize / 4096U);
2794a2791,2796
>   printk("<4>mtdoops: bad block at %08lx\n", (unsigned long )cxt->nextpage * record_size);
> #line 185
>   i = i + 1;
> #line 186
>   cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )mtd->erasesize / record_size));
> #line 187
2796c2798
< #line 184
---
> #line 188
2801,2803c2803,2805
< #line 185
<   if ((uint32_t )i == (uint32_t )cxt->oops_pages / (mtd->erasesize / 4096U)) {
< #line 186
---
> #line 189
>   if ((unsigned long )i == (unsigned long )cxt->oops_pages / ((unsigned long )mtd->erasesize / record_size)) {
> #line 190
2805c2807
< #line 187
---
> #line 191
2810,2811c2812,2813
<   ldv_17529: ;
< #line 170
---
>   ldv_17542: ;
> #line 174
2814,2815c2816,2817
< #line 171
<     goto ldv_17528;
---
> #line 175
>     goto ldv_17541;
2819,2820c2821,2822
<   ldv_17526: 
< #line 191
---
>   ldv_17539: 
> #line 195
2822c2824
< #line 191
---
> #line 195
2824,2829c2826,2831
< #line 191
<   goto ldv_17531;
<   ldv_17530: 
< #line 192
<   ret = mtdoops_erase_block(cxt, cxt->nextpage * 4096);
< #line 191
---
> #line 195
>   goto ldv_17544;
>   ldv_17543: 
> #line 196
>   ret = mtdoops_erase_block(cxt, (int )((unsigned int )((unsigned long )cxt->nextpage) * (unsigned int )record_size));
> #line 195
2831,2832c2833,2834
<   ldv_17531: ;
< #line 191
---
>   ldv_17544: ;
> #line 195
2834,2835c2836,2837
< #line 192
<     goto ldv_17530;
---
> #line 196
>     goto ldv_17543;
2840c2842
< #line 194
---
> #line 198
2842c2844
< #line 195
---
> #line 199
2844c2846
< #line 197
---
> #line 201
2846c2848
< #line 198
---
> #line 202
2851c2853
< #line 201
---
> #line 205
2854,2856c2856,2858
< #line 202
<     ret = (*(mtd->block_markbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 203
---
> #line 206
>     ret = (*(mtd->block_markbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 207
2858c2860
< #line 204
---
> #line 208
2860c2862
< #line 205
---
> #line 209
2868c2870
< #line 208
---
> #line 212
2872c2874
< #line 211 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 215 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2880,2881d2881
< #line 213
<   mtd = cxt->mtd;
2883,2888c2883
<   if (cxt->writecount <= 4095) {
< #line 218
<     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, (size_t )(4096 - cxt->writecount));
<   } else {
< 
<   }
---
>   mtd = cxt->mtd;
2890c2885
<   if (panic___0 != 0) {
---
>   if ((unsigned long )cxt->writecount < record_size) {
2892,2893c2887
<     ret = (*(mtd->panic_write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                                 (u_char const   *)cxt->oops_buf);
---
>     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, record_size - (unsigned long )cxt->writecount);
2894a2889,2890
> 
>   }
2896,2897c2892,2899
<     ret = (*(mtd->write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                           (u_char const   *)cxt->oops_buf);
---
>   if (panic___0 != 0) {
> #line 226
>     ret = (*(mtd->panic_write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                                 record_size, & retlen, (u_char const   *)cxt->oops_buf);
>   } else {
> #line 229
>     ret = (*(mtd->write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                           record_size, & retlen, (u_char const   *)cxt->oops_buf);
2899c2901
< #line 228
---
> #line 232
2901,2905c2903,2907
< #line 230
<   if (retlen != 4096UL || ret < 0) {
< #line 231
<     printk("<3>mtdoops: write failure at %d (%td of %d written), error %d\n", cxt->nextpage * 4096,
<            retlen, 4096, ret);
---
> #line 234
>   if (retlen != record_size || ret < 0) {
> #line 235
>     printk("<3>mtdoops: write failure at %ld (%td of %ld written), error %d\n", (unsigned long )cxt->nextpage * record_size,
>            retlen, record_size, ret);
2909c2911
< #line 233
---
> #line 237
2911c2913
< #line 235
---
> #line 239
2913c2915
< #line 236
---
> #line 240
2917c2919
< #line 239 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 243 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2924c2926
< #line 242
---
> #line 246
2926c2928
< #line 242
---
> #line 246
2928c2930
< #line 244
---
> #line 248
2930c2932
< #line 245
---
> #line 249
2934c2936
< #line 247 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 251 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
2946c2948
< #line 249
---
> #line 253
2948c2950
< #line 250
---
> #line 254
2950c2952
< #line 251
---
> #line 255
2952c2954
< #line 254
---
> #line 258
2954,2960d2955
< #line 254
<   goto ldv_17558;
<   ldv_17557: 
< #line 256
<   mark_page_used(cxt, page);
< #line 257
<   ret = (*(mtd->read))(mtd, (loff_t )(page * 4096), 8UL, & retlen, (u_char *)(& count));
2961a2957,2964
>   goto ldv_17571;
>   ldv_17570: 
> #line 260
>   mark_page_used(cxt, page);
> #line 261
>   ret = (*(mtd->read))(mtd, (loff_t )((unsigned long )page * record_size), 8UL, & retlen,
>                        (u_char *)(& count));
> #line 262
2963,2964c2966,2967
< #line 259
<     printk("<3>mtdoops: read failure at %d (%td of 8 read), err %d\n", page * 4096,
---
> #line 263
>     printk("<3>mtdoops: read failure at %ld (%td of 8 read), err %d\n", (unsigned long )page * record_size,
2966,2967c2969,2970
< #line 261
<     goto ldv_17556;
---
> #line 265
>     goto ldv_17569;
2971c2974
< #line 264
---
> #line 268
2973c2976
< #line 265
---
> #line 269
2978c2981
< #line 266
---
> #line 270
2980,2981c2983,2984
< #line 267
<     goto ldv_17556;
---
> #line 271
>     goto ldv_17569;
2985c2988
< #line 268
---
> #line 272
2987,2988c2990,2991
< #line 269
<     goto ldv_17556;
---
> #line 273
>     goto ldv_17569;
2992c2995
< #line 270
---
> #line 274
2994c2997
< #line 271
---
> #line 275
2996c2999
< #line 272
---
> #line 276
2999c3002
< #line 273
---
> #line 277
3001c3004
< #line 274
---
> #line 278
3003c3006
< #line 275
---
> #line 279
3006c3009
< #line 276
---
> #line 280
3008c3011
< #line 277
---
> #line 281
3010c3013
< #line 278
---
> #line 282
3013c3016
< #line 279
---
> #line 283
3015c3018
< #line 281
---
> #line 285
3017c3020
< #line 282
---
> #line 286
3022,3023c3025,3026
<   ldv_17556: 
< #line 254
---
>   ldv_17569: 
> #line 258
3025,3026c3028,3029
<   ldv_17558: ;
< #line 254
---
>   ldv_17571: ;
> #line 258
3028,3029c3031,3032
< #line 255
<     goto ldv_17557;
---
> #line 259
>     goto ldv_17570;
3034c3037
< #line 285
---
> #line 289
3036c3039
< #line 286
---
> #line 290
3038c3041
< #line 287
---
> #line 291
3040c3043
< #line 288
---
> #line 292
3042c3045
< #line 289
---
> #line 293
3047c3050
< #line 292
---
> #line 296
3049c3052
< #line 293
---
> #line 297
3051c3054
< #line 295
---
> #line 299
3053c3056
< #line 296
---
> #line 300
3057c3060
< #line 299 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 303 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3068c3071
< #line 301
---
> #line 305
3070c3073
< #line 302
---
> #line 306
3072,3074c3075,3077
< #line 304
<   __base = 4096U;
< #line 304
---
> #line 308
>   __base = (uint32_t )record_size;
> #line 308
3076c3079
< #line 304
---
> #line 308
3078c3081
< #line 306
---
> #line 310
3080c3083
< #line 306
---
> #line 310
3082c3085
< #line 306
---
> #line 310
3084c3087
< #line 307
---
> #line 311
3092c3095
< #line 309
---
> #line 313
3094c3097
< #line 310
---
> #line 314
3099c3102
< #line 312
---
> #line 316
3101c3104
< #line 313
---
> #line 317
3103c3106
< #line 315
---
> #line 319
3108,3110c3111,3113
< #line 318
<   if (mtd->erasesize <= 4095U) {
< #line 319
---
> #line 322
>   if ((unsigned long )mtd->erasesize < record_size) {
> #line 323
3112c3115
< #line 321
---
> #line 325
3117c3120
< #line 324
---
> #line 328
3119c3122
< #line 325
---
> #line 329
3121c3124
< #line 327
---
> #line 331
3126c3129
< #line 331
---
> #line 335
3128c3131
< #line 331
---
> #line 335
3130c3133
< #line 333
---
> #line 337
3132c3135
< #line 334
---
> #line 338
3134c3137
< #line 335
---
> #line 339
3139c3142
< #line 338
---
> #line 342
3141,3143c3144,3146
< #line 339
<   cxt->oops_pages = (int )mtd->size / 4096;
< #line 340
---
> #line 343
>   cxt->oops_pages = (int )((unsigned long )((int )mtd->size) / record_size);
> #line 344
3145c3148
< #line 341
---
> #line 345
3147c3150
< #line 342
---
> #line 346
3151c3154
< #line 344 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 348 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3157c3160
< #line 346
---
> #line 350
3159c3162
< #line 348
---
> #line 352
3161c3164
< #line 349
---
> #line 353
3166c3169
< #line 351
---
> #line 355
3168c3171
< #line 352
---
> #line 356
3170c3173
< #line 353
---
> #line 357
3174c3177
< #line 355 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 359 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3183c3186
< #line 357
---
> #line 361
3185c3188
< #line 358
---
> #line 362
3187c3190
< #line 361
---
> #line 365
3189c3192
< #line 362
---
> #line 366
3194c3197
< #line 368
---
> #line 372
3196c3199
< #line 369
---
> #line 373
3198c3201
< #line 370
---
> #line 374
3200c3203
< #line 371
---
> #line 375
3205c3208
< #line 373
---
> #line 377
3207c3210
< #line 374
---
> #line 378
3209c3212
< #line 376
---
> #line 380
3213c3216
< #line 376
---
> #line 380
3215c3218
< #line 376
---
> #line 380
3217c3220
< #line 378
---
> #line 382
3220c3223
< #line 380
---
> #line 384
3224c3227
< #line 380
---
> #line 384
3227c3230
< #line 381
---
> #line 385
3231c3234
< #line 384 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 388 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3243c3246
< #line 386
---
> #line 390
3245c3248
< #line 387
---
> #line 391
3247c3250
< #line 390
---
> #line 394
3249c3252
< #line 391
---
> #line 395
3251c3254
< #line 392
---
> #line 396
3256c3259
< #line 395
---
> #line 399
3258c3261
< #line 396
---
> #line 400
3263c3266
< #line 399
---
> #line 403
3265c3268
< #line 402
---
> #line 406
3267c3270
< #line 403
---
> #line 407
3269c3272
< #line 404
---
> #line 408
3274c3277
< #line 407
---
> #line 411
3276c3279
< #line 408
---
> #line 412
3278c3281
< #line 409
---
> #line 413
3280c3283
< #line 409
---
> #line 413
3282c3285
< #line 409
---
> #line 413
3284c3287
< #line 410
---
> #line 414
3286c3289
< #line 411
---
> #line 415
3291,3294c3294,3297
< #line 414
<   if ((unsigned int )cxt->writecount + count > 4096U) {
< #line 415
<     count = (unsigned int )(4096 - cxt->writecount);
---
> #line 418
>   if ((unsigned long )((unsigned int )cxt->writecount + count) > record_size) {
> #line 419
>     count = (unsigned int )record_size - (unsigned int )cxt->writecount;
3298c3301
< #line 417
---
> #line 421
3300c3303
< #line 417
---
> #line 421
3303c3306
< #line 418
---
> #line 422
3305c3308
< #line 420
---
> #line 424
3307,3309c3310,3312
< #line 422
<   if (cxt->writecount == 4096) {
< #line 423
---
> #line 426
>   if ((unsigned long )cxt->writecount == record_size) {
> #line 427
3314c3317
< #line 424
---
> #line 428
3318c3321
< #line 426 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 430 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3324c3327
< #line 428
---
> #line 432
3326c3329
< #line 430
---
> #line 434
3328c3331
< #line 431
---
> #line 435
3333c3336
< #line 432
---
> #line 436
3335c3338
< #line 433
---
> #line 437
3337c3340
< #line 434
---
> #line 438
3342c3345
< #line 436
---
> #line 440
3344c3347
< #line 437
---
> #line 441
3349c3352
< #line 439
---
> #line 443
3351c3354
< #line 440
---
> #line 444
3355c3358
< #line 443 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 447 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3357c3360
< #line 448 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 452 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3359c3362
< #line 448
---
> #line 452
3362c3365
< #line 457 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 461 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3373c3376
< #line 459
---
> #line 463
3375c3378,3396
< #line 461
---
> #line 465
>   if ((record_size & 4095UL) != 0UL) {
> #line 466
>     printk("<3>mtdoops: record_size must be a multiple of 4096\n");
> #line 467
>     return (-22);
>   } else {
> 
>   }
> #line 469
>   if (record_size <= 4095UL) {
> #line 470
>     printk("<3>mtdoops: record_size must be over 4096 bytes\n");
> #line 471
>     return (-22);
>   } else {
> 
>   }
> #line 473
3377,3379c3398,3400
< #line 462
<   cxt->oops_buf = vmalloc(4096UL);
< #line 463
---
> #line 474
>   cxt->oops_buf = vmalloc(record_size);
> #line 475
3381c3402
< #line 464
---
> #line 476
3383c3404
< #line 465
---
> #line 477
3388c3409
< #line 468
---
> #line 480
3390c3411
< #line 469
---
> #line 481
3392c3413
< #line 469
---
> #line 481
3394c3415
< #line 469
---
> #line 481
3397c3418
< #line 469
---
> #line 481
3399c3420
< #line 469
---
> #line 481
3401c3422
< #line 470
---
> #line 482
3403c3424
< #line 470
---
> #line 482
3405c3426
< #line 470
---
> #line 482
3408c3429
< #line 470
---
> #line 482
3410c3431
< #line 470
---
> #line 482
3412c3433
< #line 472
---
> #line 484
3414c3435
< #line 473
---
> #line 485
3416c3437
< #line 474
---
> #line 486
3420c3441
< #line 477 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 489 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3426c3447
< #line 479
---
> #line 491
3428c3449
< #line 481
---
> #line 493
3430c3451
< #line 482
---
> #line 494
3432c3453
< #line 483
---
> #line 495
3434c3455
< #line 484
---
> #line 496
3436c3457
< #line 485
---
> #line 497
3438c3459
< #line 486
---
> #line 498
3442c3463
< #line 512
---
> #line 524
3444c3465
< #line 521
---
> #line 533
3446c3467
< #line 524
---
> #line 536
3448c3469
< #line 527
---
> #line 539
3450c3471
< #line 530 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 542 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3452c3473
< #line 533 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
---
> #line 545 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--08_1a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/08_1a/drivers/mtd/mtdoops.c.prepared"
3466c3487
< #line 611
---
> #line 617
3468c3489
< #line 589
---
> #line 596
3470c3491
< #line 598
---
> #line 605
3472c3493
< #line 608
---
> #line 614
3474c3495
< #line 609
---
> #line 615
3476c3497
< #line 609
---
> #line 615
3478c3499
< #line 610
---
> #line 616
3483,3486c3504,3507
< #line 617
<   goto ldv_17672;
<   ldv_17671: 
< #line 621
---
> #line 623
>   goto ldv_17685;
>   ldv_17684: 
> #line 627
3488c3509
< #line 621
---
> #line 627
3491c3512
< #line 626
---
> #line 632
3493c3514
< #line 635
---
> #line 640
3495c3516
< #line 636
---
> #line 641
3497c3518
< #line 637
---
> #line 642
3502,3503c3523,3524
< #line 643
<   goto ldv_17665;
---
> #line 648
>   goto ldv_17678;
3505c3526
< #line 656
---
> #line 660
3507c3528
< #line 657
---
> #line 661
3509,3510c3530,3531
< #line 664
<   goto ldv_17665;
---
> #line 668
>   goto ldv_17678;
3512c3533
< #line 677
---
> #line 680
3514c3535
< #line 678
---
> #line 681
3516,3517c3537,3538
< #line 685
<   goto ldv_17665;
---
> #line 688
>   goto ldv_17678;
3519c3540
< #line 698
---
> #line 700
3521c3542
< #line 699
---
> #line 701
3523,3524c3544,3545
< #line 706
<   goto ldv_17665;
---
> #line 708
>   goto ldv_17678;
3526,3527d3546
< #line 719
<   ldv_handler_precall();
3528a3548,3549
>   ldv_handler_precall();
> #line 721
3530,3532d3550
< #line 727
<   goto ldv_17665;
<   default: ;
3534c3552,3555
<   goto ldv_17665;
---
>   goto ldv_17678;
>   default: ;
> #line 729
>   goto ldv_17678;
3536,3538c3557,3559
<   ldv_17665: ;
<   ldv_17672: 
< #line 617
---
>   ldv_17678: ;
>   ldv_17685: 
> #line 623
3540c3561
< #line 617
---
> #line 623
3542,3543c3563,3564
< #line 619
<     goto ldv_17671;
---
> #line 625
>     goto ldv_17684;
