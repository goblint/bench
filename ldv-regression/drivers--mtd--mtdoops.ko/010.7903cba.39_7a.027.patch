2305c2305
< #line 486 "include/linux/mtd/mtd.h"
---
> #line 511 "include/linux/mtd/mtd.h"
2311c2311
< #line 516
---
> #line 537
2321c2321
< #line 526 "include/linux/mtd/mtd.h"
---
> #line 547 "include/linux/mtd/mtd.h"
2580c2580
< #line 423 "include/linux/mtd/mtd.h"
---
> #line 441 "include/linux/mtd/mtd.h"
2586c2586,2594
< #line 425
---
> #line 443
>   if ((unsigned long )mtd->block_isbad == (unsigned long )((int (*)(struct mtd_info * ,
>                                                                     loff_t  ))0)) {
> #line 444
>     return (-95);
>   } else {
> 
>   }
> #line 445
2588c2596
< #line 425
---
> #line 445
2592c2600
< #line 428 "include/linux/mtd/mtd.h"
---
> #line 448 "include/linux/mtd/mtd.h"
2598c2606
< #line 430
---
> #line 450
2600c2608
< #line 430
---
> #line 450
2604c2612
< #line 433 "include/linux/mtd/mtd.h"
---
> #line 453 "include/linux/mtd/mtd.h"
2611c2619
< #line 435
---
> #line 455
2613c2621
< #line 436
---
> #line 456
2618c2626
< #line 437
---
> #line 457
2620c2628
< #line 437
---
> #line 457
2622c2630
< #line 437
---
> #line 457
2624c2632
< #line 438
---
> #line 458
2628c2636,2647
< #line 495
---
> #line 488 "include/linux/mtd/mtd.h"
> __inline static int mtd_can_have_bb(struct mtd_info  const  *mtd ) 
> { 
> 
> 
>   {
> #line 490
>   return ((unsigned long )mtd->block_isbad != (unsigned long )((int (*/* const  */)(struct mtd_info * ,
>                                                                                     loff_t  ))0));
> }
> }
> #line 520
2630c2649
< #line 496
---
> #line 521
2632c2651
< #line 505 "include/linux/mtd/mtd.h"
---
> #line 526 "include/linux/mtd/mtd.h"
2638c2657
< #line 506
---
> #line 527
2785c2804
<   goto ldv_20338;
---
>   goto ldv_20334;
2794c2813
<   goto ldv_20338;
---
>   goto ldv_20334;
2803c2822
<   goto ldv_20338;
---
>   goto ldv_20334;
2812c2831
<   goto ldv_20338;
---
>   goto ldv_20334;
2817c2836
<   ldv_20338: 
---
>   ldv_20334: 
2836c2855
<     goto ldv_20350;
---
>     goto ldv_20346;
2845c2864
<     goto ldv_20350;
---
>     goto ldv_20346;
2854c2873
<     goto ldv_20350;
---
>     goto ldv_20346;
2863c2882
<     goto ldv_20350;
---
>     goto ldv_20346;
2868c2887
<     ldv_20350: 
---
>     ldv_20346: 
2886,2887c2905,2906
<   goto ldv_20360;
<   ldv_20359: 
---
>   goto ldv_20356;
>   ldv_20355: 
2892c2911
<   ldv_20360: ;
---
>   ldv_20356: ;
2896c2915
<     goto ldv_20359;
---
>     goto ldv_20355;
2955a2975
>   int tmp ;
2990,2991c3010,3011
<   goto ldv_20379;
<   ldv_20378: 
---
>   goto ldv_20375;
>   ldv_20374: 
2997c3017
<     goto ldv_20376;
---
>     goto ldv_20372;
3033c3053
<   ldv_20379: ;
---
>   ldv_20375: 
3035,3036c3055,3057
<   if ((unsigned long )mtd->block_isbad != (unsigned long )((int (*)(struct mtd_info * ,
<                                                                     loff_t  ))0)) {
---
>   tmp = mtd_can_have_bb((struct mtd_info  const  *)mtd);
> #line 216
>   if (tmp != 0) {
3038c3059
<     goto ldv_20378;
---
>     goto ldv_20374;
3042c3063
<   ldv_20376: 
---
>   ldv_20372: 
3048,3049c3069,3070
<   goto ldv_20381;
<   ldv_20380: 
---
>   goto ldv_20377;
>   ldv_20376: 
3054c3075
<   ldv_20381: ;
---
>   ldv_20377: ;
3058c3079
<     goto ldv_20380;
---
>     goto ldv_20376;
3175a3197
>   int tmp___1 ;
3187,3188c3209,3210
<   goto ldv_20409;
<   ldv_20408: ;
---
>   goto ldv_20405;
>   ldv_20404: 
3190,3191c3212
<   if ((unsigned long )mtd->block_isbad != (unsigned long )((int (*)(struct mtd_info * ,
<                                                                     loff_t  ))0)) {
---
>   tmp = mtd_can_have_bb((struct mtd_info  const  *)mtd);
3193c3214
<     tmp = mtd_block_isbad(mtd, (loff_t )((unsigned long )page * record_size));
---
>   if (tmp != 0) {
3195c3216,3218
<     if (tmp != 0) {
---
>     tmp___0 = mtd_block_isbad(mtd, (loff_t )((unsigned long )page * record_size));
> #line 304
>     if (tmp___0 != 0) {
3197c3220
<       goto ldv_20407;
---
>       goto ldv_20403;
3215c3238
<     goto ldv_20407;
---
>     goto ldv_20403;
3220c3243
<     tmp___0 = mtd_is_bitflip(ret);
---
>     tmp___1 = mtd_is_bitflip(ret);
3222c3245
<     if (tmp___0 == 0) {
---
>     if (tmp___1 == 0) {
3227c3250
<       goto ldv_20407;
---
>       goto ldv_20403;
3244c3267
<     goto ldv_20407;
---
>     goto ldv_20403;
3278c3301
<   ldv_20407: 
---
>   ldv_20403: 
3281c3304
<   ldv_20409: ;
---
>   ldv_20405: ;
3285c3308
<     goto ldv_20408;
---
>     goto ldv_20404;
3690,3691c3713,3714
<   goto ldv_20501;
<   ldv_20500: 
---
>   goto ldv_20497;
>   ldv_20496: 
3709c3732
<   goto ldv_20497;
---
>   goto ldv_20493;
3716c3739
<   goto ldv_20497;
---
>   goto ldv_20493;
3719c3742
<   goto ldv_20497;
---
>   goto ldv_20493;
3721,3722c3744,3745
<   ldv_20497: ;
<   ldv_20501: 
---
>   ldv_20493: ;
>   ldv_20497: 
3728c3751
<     goto ldv_20500;
---
>     goto ldv_20496;
