2257c2257
< #line 316 "include/linux/mtd/mtd.h"
---
> #line 53 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2519c2519,2521
< #line 67 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 49 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
> static unsigned long record_size  =    4096UL;
> #line 71 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2521c2523
< #line 69 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 73 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2527c2529
< #line 71
---
> #line 75
2529c2531
< #line 72
---
> #line 76
2533c2535
< #line 74 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 78 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2539c2541
< #line 76
---
> #line 80
2541c2543
< #line 77
---
> #line 81
2545c2547
< #line 79 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 83 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2551c2553
< #line 81
---
> #line 85
2553c2555
< #line 81
---
> #line 85
2557c2559
< #line 84 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 88 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2563c2565
< #line 86
---
> #line 90
2565c2567
< #line 87
---
> #line 91
2567c2569
< #line 88
---
> #line 92
2571c2573
< #line 90 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 94 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2590c2592
< #line 92
---
> #line 96
2592c2594
< #line 93
---
> #line 97
2594,2599d2595
< #line 93
<   start_page_offset = tmp * mtd->erasesize;
< #line 94
<   start_page = start_page_offset / 4096U;
< #line 95
<   erase_pages = mtd->erasesize / 4096U;
2600a2597,2602
>   start_page_offset = tmp * mtd->erasesize;
> #line 98
>   start_page = (u32 )((unsigned long )start_page_offset / record_size);
> #line 99
>   erase_pages = (u32 )((unsigned long )mtd->erasesize / record_size);
> #line 101
2602c2604
< #line 97
---
> #line 101
2604c2606
< #line 97
---
> #line 101
2606c2608
< #line 97
---
> #line 101
2608c2610
< #line 97
---
> #line 101
2610c2612
< #line 97
---
> #line 101
2612c2614
< #line 102
---
> #line 106
2614c2616
< #line 103
---
> #line 107
2616c2618
< #line 104
---
> #line 108
2618c2620
< #line 105
---
> #line 109
2620c2622
< #line 106
---
> #line 110
2622c2624
< #line 107
---
> #line 111
2624c2626
< #line 109
---
> #line 113
2626c2628
< #line 109
---
> #line 113
2628c2630
< #line 110
---
> #line 114
2630c2632
< #line 112
---
> #line 116
2632c2634
< #line 113
---
> #line 117
2634c2636
< #line 114
---
> #line 118
2636c2638
< #line 114
---
> #line 118
2638c2640
< #line 115
---
> #line 119
2640c2642
< #line 116
---
> #line 120
2643c2645
< #line 119
---
> #line 123
2648c2650
< #line 122
---
> #line 126
2650c2652
< #line 123
---
> #line 127
2652c2654
< #line 126
---
> #line 130
2654,2657c2656,2659
< #line 126
<   goto ldv_17493;
<   ldv_17492: 
< #line 127
---
> #line 130
>   goto ldv_17506;
>   ldv_17505: 
> #line 131
2659c2661
< #line 126
---
> #line 130
2661,2662c2663,2664
<   ldv_17493: ;
< #line 126
---
>   ldv_17506: ;
> #line 130
2664,2665c2666,2667
< #line 127
<     goto ldv_17492;
---
> #line 131
>     goto ldv_17505;
2670c2672
< #line 129
---
> #line 133
2674c2676
< #line 132 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 136 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2680c2682
< #line 134
---
> #line 138
2682c2684
< #line 135
---
> #line 139
2684c2686
< #line 136
---
> #line 140
2689c2691
< #line 137
---
> #line 141
2691c2693
< #line 138
---
> #line 142
2693c2695
< #line 139
---
> #line 143
2698c2700
< #line 141
---
> #line 145
2700c2702
< #line 141
---
> #line 145
2702c2704
< #line 142
---
> #line 146
2704c2706
< #line 143
---
> #line 147
2709c2711
< #line 146
---
> #line 150
2711c2713
< #line 148
---
> #line 152
2713c2715
< #line 149
---
> #line 153
2717c2719
< #line 152 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 156 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2729c2731
< #line 155
---
> #line 159
2731c2733
< #line 155
---
> #line 159
2733c2735
< #line 156
---
> #line 160
2735c2737
< #line 157
---
> #line 161
2737c2739
< #line 160
---
> #line 164
2739c2741
< #line 161
---
> #line 165
2744,2746c2746,2748
< #line 163
<   mod = (int )((uint32_t )(cxt->nextpage * 4096) % mtd->erasesize);
< #line 164
---
> #line 167
>   mod = (int )(((unsigned long )cxt->nextpage * record_size) % (unsigned long )mtd->erasesize);
> #line 168
2748,2750c2750,2752
< #line 165
<     cxt->nextpage = (int )((uint32_t )cxt->nextpage + (mtd->erasesize - (uint32_t )mod) / 4096U);
< #line 166
---
> #line 169
>     cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )(mtd->erasesize - (uint32_t )mod) / record_size));
> #line 170
2752c2754
< #line 167
---
> #line 171
2760,2765c2762,2767
< #line 170
<   goto ldv_17512;
<   ldv_17511: 
< #line 171
<   ret = (*(mtd->block_isbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 172
---
> #line 174
>   goto ldv_17525;
>   ldv_17524: 
> #line 175
>   ret = (*(mtd->block_isbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 176
2767,2768c2769,2770
< #line 173
<     goto ldv_17509;
---
> #line 177
>     goto ldv_17522;
2772c2774
< #line 174
---
> #line 178
2774c2776
< #line 175
---
> #line 179
2776c2778
< #line 176
---
> #line 180
2782,2787d2783
< #line 179
<   printk("<4>mtdoops: bad block at %08x\n", cxt->nextpage * 4096);
< #line 181
<   i = i + 1;
< #line 182
<   cxt->nextpage = (int )((uint32_t )cxt->nextpage + mtd->erasesize / 4096U);
2788a2785,2790
>   printk("<4>mtdoops: bad block at %08lx\n", (unsigned long )cxt->nextpage * record_size);
> #line 185
>   i = i + 1;
> #line 186
>   cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )mtd->erasesize / record_size));
> #line 187
2790c2792
< #line 184
---
> #line 188
2795,2797c2797,2799
< #line 185
<   if ((uint32_t )i == (uint32_t )cxt->oops_pages / (mtd->erasesize / 4096U)) {
< #line 186
---
> #line 189
>   if ((unsigned long )i == (unsigned long )cxt->oops_pages / ((unsigned long )mtd->erasesize / record_size)) {
> #line 190
2799c2801
< #line 187
---
> #line 191
2804,2805c2806,2807
<   ldv_17512: ;
< #line 170
---
>   ldv_17525: ;
> #line 174
2808,2809c2810,2811
< #line 171
<     goto ldv_17511;
---
> #line 175
>     goto ldv_17524;
2813,2814c2815,2816
<   ldv_17509: 
< #line 191
---
>   ldv_17522: 
> #line 195
2816c2818
< #line 191
---
> #line 195
2818,2823c2820,2825
< #line 191
<   goto ldv_17514;
<   ldv_17513: 
< #line 192
<   ret = mtdoops_erase_block(cxt, cxt->nextpage * 4096);
< #line 191
---
> #line 195
>   goto ldv_17527;
>   ldv_17526: 
> #line 196
>   ret = mtdoops_erase_block(cxt, (int )((unsigned int )((unsigned long )cxt->nextpage) * (unsigned int )record_size));
> #line 195
2825,2826c2827,2828
<   ldv_17514: ;
< #line 191
---
>   ldv_17527: ;
> #line 195
2828,2829c2830,2831
< #line 192
<     goto ldv_17513;
---
> #line 196
>     goto ldv_17526;
2834c2836
< #line 194
---
> #line 198
2836c2838
< #line 195
---
> #line 199
2838c2840
< #line 197
---
> #line 201
2840c2842
< #line 198
---
> #line 202
2845c2847
< #line 201
---
> #line 205
2848,2850c2850,2852
< #line 202
<     ret = (*(mtd->block_markbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 203
---
> #line 206
>     ret = (*(mtd->block_markbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 207
2852c2854
< #line 204
---
> #line 208
2854c2856
< #line 205
---
> #line 209
2862c2864
< #line 208
---
> #line 212
2866c2868
< #line 211 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 215 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2874,2875d2875
< #line 213
<   mtd = cxt->mtd;
2877,2882c2877
<   if (cxt->writecount <= 4095) {
< #line 218
<     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, (size_t )(4096 - cxt->writecount));
<   } else {
< 
<   }
---
>   mtd = cxt->mtd;
2884c2879
<   if (panic___0 != 0) {
---
>   if ((unsigned long )cxt->writecount < record_size) {
2886,2887c2881
<     ret = (*(mtd->panic_write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                                 (u_char const   *)cxt->oops_buf);
---
>     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, record_size - (unsigned long )cxt->writecount);
2888a2883,2884
> 
>   }
2890,2891c2886,2893
<     ret = (*(mtd->write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                           (u_char const   *)cxt->oops_buf);
---
>   if (panic___0 != 0) {
> #line 226
>     ret = (*(mtd->panic_write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                                 record_size, & retlen, (u_char const   *)cxt->oops_buf);
>   } else {
> #line 229
>     ret = (*(mtd->write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                           record_size, & retlen, (u_char const   *)cxt->oops_buf);
2893c2895
< #line 228
---
> #line 232
2895,2899c2897,2901
< #line 230
<   if (retlen != 4096UL || ret < 0) {
< #line 231
<     printk("<3>mtdoops: write failure at %d (%td of %d written), error %d\n", cxt->nextpage * 4096,
<            retlen, 4096, ret);
---
> #line 234
>   if (retlen != record_size || ret < 0) {
> #line 235
>     printk("<3>mtdoops: write failure at %ld (%td of %ld written), error %d\n", (unsigned long )cxt->nextpage * record_size,
>            retlen, record_size, ret);
2903c2905
< #line 233
---
> #line 237
2905c2907
< #line 235
---
> #line 239
2907c2909
< #line 236
---
> #line 240
2911c2913
< #line 239 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 243 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2918c2920
< #line 242
---
> #line 246
2920c2922
< #line 242
---
> #line 246
2922c2924
< #line 244
---
> #line 248
2924c2926
< #line 245
---
> #line 249
2928c2930
< #line 247 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 251 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
2940c2942
< #line 249
---
> #line 253
2942c2944
< #line 250
---
> #line 254
2944c2946
< #line 251
---
> #line 255
2946c2948
< #line 254
---
> #line 258
2948,2954d2949
< #line 254
<   goto ldv_17541;
<   ldv_17540: 
< #line 256
<   mark_page_used(cxt, page);
< #line 257
<   ret = (*(mtd->read))(mtd, (loff_t )(page * 4096), 8UL, & retlen, (u_char *)(& count));
2955a2951,2958
>   goto ldv_17554;
>   ldv_17553: 
> #line 260
>   mark_page_used(cxt, page);
> #line 261
>   ret = (*(mtd->read))(mtd, (loff_t )((unsigned long )page * record_size), 8UL, & retlen,
>                        (u_char *)(& count));
> #line 262
2957,2958c2960,2961
< #line 259
<     printk("<3>mtdoops: read failure at %d (%td of 8 read), err %d\n", page * 4096,
---
> #line 263
>     printk("<3>mtdoops: read failure at %ld (%td of 8 read), err %d\n", (unsigned long )page * record_size,
2960,2961c2963,2964
< #line 261
<     goto ldv_17539;
---
> #line 265
>     goto ldv_17552;
2965c2968
< #line 264
---
> #line 268
2967c2970
< #line 265
---
> #line 269
2972c2975
< #line 266
---
> #line 270
2974,2975c2977,2978
< #line 267
<     goto ldv_17539;
---
> #line 271
>     goto ldv_17552;
2979c2982
< #line 268
---
> #line 272
2981,2982c2984,2985
< #line 269
<     goto ldv_17539;
---
> #line 273
>     goto ldv_17552;
2986c2989
< #line 270
---
> #line 274
2988c2991
< #line 271
---
> #line 275
2990c2993
< #line 272
---
> #line 276
2993c2996
< #line 273
---
> #line 277
2995c2998
< #line 274
---
> #line 278
2997c3000
< #line 275
---
> #line 279
3000c3003
< #line 276
---
> #line 280
3002c3005
< #line 277
---
> #line 281
3004c3007
< #line 278
---
> #line 282
3007c3010
< #line 279
---
> #line 283
3009c3012
< #line 281
---
> #line 285
3011c3014
< #line 282
---
> #line 286
3016,3017c3019,3020
<   ldv_17539: 
< #line 254
---
>   ldv_17552: 
> #line 258
3019,3020c3022,3023
<   ldv_17541: ;
< #line 254
---
>   ldv_17554: ;
> #line 258
3022,3023c3025,3026
< #line 255
<     goto ldv_17540;
---
> #line 259
>     goto ldv_17553;
3028c3031
< #line 285
---
> #line 289
3030c3033
< #line 286
---
> #line 290
3032c3035
< #line 287
---
> #line 291
3034c3037
< #line 288
---
> #line 292
3036c3039
< #line 289
---
> #line 293
3041c3044
< #line 292
---
> #line 296
3043c3046
< #line 293
---
> #line 297
3045c3048
< #line 295
---
> #line 299
3047c3050
< #line 296
---
> #line 300
3051c3054
< #line 299 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 303 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3062c3065
< #line 301
---
> #line 305
3064c3067
< #line 302
---
> #line 306
3066,3068c3069,3071
< #line 304
<   __base = 4096U;
< #line 304
---
> #line 308
>   __base = (uint32_t )record_size;
> #line 308
3070c3073
< #line 304
---
> #line 308
3072c3075
< #line 306
---
> #line 310
3074c3077
< #line 306
---
> #line 310
3076c3079
< #line 306
---
> #line 310
3078c3081
< #line 307
---
> #line 311
3086c3089
< #line 309
---
> #line 313
3088c3091
< #line 310
---
> #line 314
3093c3096
< #line 312
---
> #line 316
3095c3098
< #line 313
---
> #line 317
3097c3100
< #line 315
---
> #line 319
3102,3104c3105,3107
< #line 318
<   if (mtd->erasesize <= 4095U) {
< #line 319
---
> #line 322
>   if ((unsigned long )mtd->erasesize < record_size) {
> #line 323
3106c3109
< #line 321
---
> #line 325
3111c3114
< #line 324
---
> #line 328
3113c3116
< #line 325
---
> #line 329
3115c3118
< #line 327
---
> #line 331
3120c3123
< #line 331
---
> #line 335
3122c3125
< #line 331
---
> #line 335
3124c3127
< #line 333
---
> #line 337
3126c3129
< #line 334
---
> #line 338
3128c3131
< #line 335
---
> #line 339
3133c3136
< #line 338
---
> #line 342
3135,3137c3138,3140
< #line 339
<   cxt->oops_pages = (int )mtd->size / 4096;
< #line 340
---
> #line 343
>   cxt->oops_pages = (int )((unsigned long )((int )mtd->size) / record_size);
> #line 344
3139c3142
< #line 341
---
> #line 345
3141c3144
< #line 342
---
> #line 346
3145c3148
< #line 344 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 348 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3151c3154
< #line 346
---
> #line 350
3153c3156
< #line 348
---
> #line 352
3155c3158
< #line 349
---
> #line 353
3160c3163
< #line 351
---
> #line 355
3162c3165
< #line 352
---
> #line 356
3164c3167
< #line 353
---
> #line 357
3168c3171
< #line 355 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 359 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3177c3180
< #line 357
---
> #line 361
3179c3182
< #line 358
---
> #line 362
3181c3184
< #line 361
---
> #line 365
3183c3186
< #line 362
---
> #line 366
3188c3191
< #line 368
---
> #line 372
3190c3193
< #line 369
---
> #line 373
3192c3195
< #line 370
---
> #line 374
3194c3197
< #line 371
---
> #line 375
3199c3202
< #line 373
---
> #line 377
3201c3204
< #line 374
---
> #line 378
3203c3206
< #line 376
---
> #line 380
3207c3210
< #line 376
---
> #line 380
3209c3212
< #line 376
---
> #line 380
3211c3214
< #line 378
---
> #line 382
3214c3217
< #line 380
---
> #line 384
3218c3221
< #line 380
---
> #line 384
3221c3224
< #line 381
---
> #line 385
3225c3228
< #line 384 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 388 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3237c3240
< #line 386
---
> #line 390
3239c3242
< #line 387
---
> #line 391
3241c3244
< #line 390
---
> #line 394
3243c3246
< #line 391
---
> #line 395
3245c3248
< #line 392
---
> #line 396
3250c3253
< #line 395
---
> #line 399
3252c3255
< #line 396
---
> #line 400
3257c3260
< #line 399
---
> #line 403
3259c3262
< #line 402
---
> #line 406
3261c3264
< #line 403
---
> #line 407
3263c3266
< #line 404
---
> #line 408
3268c3271
< #line 407
---
> #line 411
3270c3273
< #line 408
---
> #line 412
3272c3275
< #line 409
---
> #line 413
3274c3277
< #line 409
---
> #line 413
3276c3279
< #line 409
---
> #line 413
3278c3281
< #line 410
---
> #line 414
3280c3283
< #line 411
---
> #line 415
3285,3288c3288,3291
< #line 414
<   if ((unsigned int )cxt->writecount + count > 4096U) {
< #line 415
<     count = (unsigned int )(4096 - cxt->writecount);
---
> #line 418
>   if ((unsigned long )((unsigned int )cxt->writecount + count) > record_size) {
> #line 419
>     count = (unsigned int )record_size - (unsigned int )cxt->writecount;
3292c3295
< #line 417
---
> #line 421
3294c3297
< #line 417
---
> #line 421
3297c3300
< #line 418
---
> #line 422
3299c3302
< #line 420
---
> #line 424
3301,3303c3304,3306
< #line 422
<   if (cxt->writecount == 4096) {
< #line 423
---
> #line 426
>   if ((unsigned long )cxt->writecount == record_size) {
> #line 427
3308c3311
< #line 424
---
> #line 428
3312c3315
< #line 426 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 430 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3318c3321
< #line 428
---
> #line 432
3320c3323
< #line 430
---
> #line 434
3322c3325
< #line 431
---
> #line 435
3327c3330
< #line 432
---
> #line 436
3329c3332
< #line 433
---
> #line 437
3331c3334
< #line 434
---
> #line 438
3336c3339
< #line 436
---
> #line 440
3338c3341
< #line 437
---
> #line 441
3343c3346
< #line 439
---
> #line 443
3345c3348
< #line 440
---
> #line 444
3349c3352
< #line 443 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 447 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3351c3354
< #line 448 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 452 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3353c3356
< #line 448
---
> #line 452
3356c3359
< #line 457 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 461 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3367c3370
< #line 459
---
> #line 463
3369c3372,3390
< #line 461
---
> #line 465
>   if ((record_size & 4095UL) != 0UL) {
> #line 466
>     printk("<3>mtdoops: record_size must be a multiple of 4096\n");
> #line 467
>     return (-22);
>   } else {
> 
>   }
> #line 469
>   if (record_size <= 4095UL) {
> #line 470
>     printk("<3>mtdoops: record_size must be over 4096 bytes\n");
> #line 471
>     return (-22);
>   } else {
> 
>   }
> #line 473
3371,3373c3392,3394
< #line 462
<   cxt->oops_buf = vmalloc(4096UL);
< #line 463
---
> #line 474
>   cxt->oops_buf = vmalloc(record_size);
> #line 475
3375c3396
< #line 464
---
> #line 476
3377c3398
< #line 465
---
> #line 477
3382c3403
< #line 468
---
> #line 480
3384c3405
< #line 469
---
> #line 481
3386c3407
< #line 469
---
> #line 481
3388c3409
< #line 469
---
> #line 481
3391c3412
< #line 469
---
> #line 481
3393c3414
< #line 469
---
> #line 481
3395c3416
< #line 470
---
> #line 482
3397c3418
< #line 470
---
> #line 482
3399c3420
< #line 470
---
> #line 482
3402c3423
< #line 470
---
> #line 482
3404c3425
< #line 470
---
> #line 482
3406c3427
< #line 472
---
> #line 484
3408c3429
< #line 473
---
> #line 485
3410c3431
< #line 474
---
> #line 486
3414c3435
< #line 477 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 489 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3420c3441
< #line 479
---
> #line 491
3422c3443
< #line 481
---
> #line 493
3424c3445
< #line 482
---
> #line 494
3426c3447
< #line 483
---
> #line 495
3428c3449
< #line 484
---
> #line 496
3430c3451
< #line 485
---
> #line 497
3432c3453
< #line 486
---
> #line 498
3436c3457
< #line 512
---
> #line 524
3438c3459
< #line 521
---
> #line 533
3440c3461
< #line 524
---
> #line 536
3442c3463
< #line 527
---
> #line 539
3444c3465
< #line 530 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 542 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3446c3467
< #line 533 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 545 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--32_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/32_7a/drivers/mtd/mtdoops.c.prepared"
3460c3481
< #line 611
---
> #line 617
3462c3483
< #line 589
---
> #line 596
3464c3485
< #line 598
---
> #line 605
3466c3487
< #line 608
---
> #line 614
3468c3489
< #line 609
---
> #line 615
3470c3491
< #line 609
---
> #line 615
3472c3493
< #line 610
---
> #line 616
3477,3480c3498,3501
< #line 617
<   goto ldv_17655;
<   ldv_17654: 
< #line 621
---
> #line 623
>   goto ldv_17668;
>   ldv_17667: 
> #line 627
3482c3503
< #line 621
---
> #line 627
3485c3506
< #line 626
---
> #line 632
3487c3508
< #line 635
---
> #line 640
3489c3510
< #line 636
---
> #line 641
3491c3512
< #line 637
---
> #line 642
3496,3497c3517,3518
< #line 643
<   goto ldv_17648;
---
> #line 648
>   goto ldv_17661;
3499c3520
< #line 656
---
> #line 660
3501c3522
< #line 657
---
> #line 661
3503,3504c3524,3525
< #line 664
<   goto ldv_17648;
---
> #line 668
>   goto ldv_17661;
3506c3527
< #line 677
---
> #line 680
3508c3529
< #line 678
---
> #line 681
3510,3511c3531,3532
< #line 685
<   goto ldv_17648;
---
> #line 688
>   goto ldv_17661;
3513c3534
< #line 698
---
> #line 700
3515c3536
< #line 699
---
> #line 701
3517,3518c3538,3539
< #line 706
<   goto ldv_17648;
---
> #line 708
>   goto ldv_17661;
3520,3521d3540
< #line 719
<   ldv_handler_precall();
3522a3542,3543
>   ldv_handler_precall();
> #line 721
3524,3526d3544
< #line 727
<   goto ldv_17648;
<   default: ;
3528c3546,3549
<   goto ldv_17648;
---
>   goto ldv_17661;
>   default: ;
> #line 729
>   goto ldv_17661;
3530,3532c3551,3553
<   ldv_17648: ;
<   ldv_17655: 
< #line 617
---
>   ldv_17661: ;
>   ldv_17668: 
> #line 623
3534c3555
< #line 617
---
> #line 623
3536,3537c3557,3558
< #line 619
<     goto ldv_17654;
---
> #line 625
>     goto ldv_17667;
