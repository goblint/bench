2305c2305
< #line 511 "include/linux/mtd/mtd.h"
---
> #line 513 "include/linux/mtd/mtd.h"
2311c2311
< #line 537
---
> #line 539
2321c2321
< #line 547 "include/linux/mtd/mtd.h"
---
> #line 549 "include/linux/mtd/mtd.h"
2606a2607,2614
>   if ((unsigned long )mtd->block_markbad == (unsigned long )((int (*)(struct mtd_info * ,
>                                                                       loff_t  ))0)) {
> #line 451
>     return (-95);
>   } else {
> 
>   }
> #line 452
2608c2616
< #line 450
---
> #line 452
2612c2620
< #line 453 "include/linux/mtd/mtd.h"
---
> #line 455 "include/linux/mtd/mtd.h"
2619c2627
< #line 455
---
> #line 457
2621c2629
< #line 456
---
> #line 458
2626c2634
< #line 457
---
> #line 459
2628c2636
< #line 457
---
> #line 459
2630c2638
< #line 457
---
> #line 459
2632c2640
< #line 458
---
> #line 460
2636c2644
< #line 488 "include/linux/mtd/mtd.h"
---
> #line 490 "include/linux/mtd/mtd.h"
2642c2650
< #line 490
---
> #line 492
2647c2655
< #line 520
---
> #line 522
2649c2657
< #line 521
---
> #line 523
2651c2659
< #line 526 "include/linux/mtd/mtd.h"
---
> #line 528 "include/linux/mtd/mtd.h"
2657c2665
< #line 527
---
> #line 529
2975a2984
>   int tmp___0 ;
3094,3095c3103,3105
<   if ((unsigned long )mtd->block_markbad != (unsigned long )((int (*)(struct mtd_info * ,
<                                                                       loff_t  ))0) && ret == -5) {
---
>   tmp___0 = mtd_can_have_bb((struct mtd_info  const  *)mtd);
> #line 246
>   if (tmp___0 != 0 && ret == -5) {
