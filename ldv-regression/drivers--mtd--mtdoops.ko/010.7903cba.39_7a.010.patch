2255c2255
< #line 316 "include/linux/mtd/mtd.h"
---
> #line 89 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2567c2567,2569
< #line 103 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 85 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
> static unsigned long record_size  =    4096UL;
> #line 107 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2569c2571
< #line 105 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 109 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2575c2577
< #line 107
---
> #line 111
2577c2579
< #line 108
---
> #line 112
2581c2583
< #line 110 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 114 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2587c2589
< #line 112
---
> #line 116
2589c2591
< #line 113
---
> #line 117
2593c2595
< #line 115 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 119 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2599c2601
< #line 117
---
> #line 121
2601c2603
< #line 117
---
> #line 121
2605c2607
< #line 120 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 124 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2611c2613
< #line 122
---
> #line 126
2613c2615
< #line 123
---
> #line 127
2615c2617
< #line 124
---
> #line 128
2619c2621
< #line 126 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 130 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2638c2640
< #line 128
---
> #line 132
2640c2642
< #line 129
---
> #line 133
2642,2647d2643
< #line 129
<   start_page_offset = tmp * mtd->erasesize;
< #line 130
<   start_page = start_page_offset / 4096U;
< #line 131
<   erase_pages = mtd->erasesize / 4096U;
2648a2645,2650
>   start_page_offset = tmp * mtd->erasesize;
> #line 134
>   start_page = (u32 )((unsigned long )start_page_offset / record_size);
> #line 135
>   erase_pages = (u32 )((unsigned long )mtd->erasesize / record_size);
> #line 137
2650c2652
< #line 133
---
> #line 137
2652c2654
< #line 133
---
> #line 137
2654c2656
< #line 133
---
> #line 137
2656c2658
< #line 133
---
> #line 137
2658c2660
< #line 133
---
> #line 137
2660c2662
< #line 138
---
> #line 142
2662c2664
< #line 139
---
> #line 143
2664c2666
< #line 140
---
> #line 144
2666c2668
< #line 141
---
> #line 145
2668c2670
< #line 142
---
> #line 146
2670c2672
< #line 143
---
> #line 147
2672c2674
< #line 145
---
> #line 149
2674c2676
< #line 145
---
> #line 149
2676c2678
< #line 146
---
> #line 150
2678c2680
< #line 148
---
> #line 152
2680c2682
< #line 149
---
> #line 153
2682c2684
< #line 150
---
> #line 154
2684c2686
< #line 150
---
> #line 154
2686c2688
< #line 151
---
> #line 155
2688c2690
< #line 152
---
> #line 156
2691c2693
< #line 155
---
> #line 159
2696c2698
< #line 158
---
> #line 162
2698c2700
< #line 159
---
> #line 163
2700c2702
< #line 162
---
> #line 166
2702,2705c2704,2707
< #line 162
<   goto ldv_17610;
<   ldv_17609: 
< #line 163
---
> #line 166
>   goto ldv_17623;
>   ldv_17622: 
> #line 167
2707c2709
< #line 162
---
> #line 166
2709,2710c2711,2712
<   ldv_17610: ;
< #line 162
---
>   ldv_17623: ;
> #line 166
2712,2713c2714,2715
< #line 163
<     goto ldv_17609;
---
> #line 167
>     goto ldv_17622;
2718c2720
< #line 165
---
> #line 169
2722c2724
< #line 168 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 172 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2728c2730
< #line 170
---
> #line 174
2730c2732
< #line 171
---
> #line 175
2732c2734
< #line 172
---
> #line 176
2737c2739
< #line 173
---
> #line 177
2739c2741
< #line 174
---
> #line 178
2741c2743
< #line 175
---
> #line 179
2746c2748
< #line 177
---
> #line 181
2748c2750
< #line 177
---
> #line 181
2750c2752
< #line 178
---
> #line 182
2752c2754
< #line 179
---
> #line 183
2757c2759
< #line 182
---
> #line 186
2759c2761
< #line 184
---
> #line 188
2761c2763
< #line 185
---
> #line 189
2765c2767
< #line 188 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 192 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2777c2779
< #line 191
---
> #line 195
2779c2781
< #line 191
---
> #line 195
2781c2783
< #line 192
---
> #line 196
2783c2785
< #line 193
---
> #line 197
2785c2787
< #line 196
---
> #line 200
2787c2789
< #line 197
---
> #line 201
2792,2794c2794,2796
< #line 199
<   mod = (int )((uint32_t )(cxt->nextpage * 4096) % mtd->erasesize);
< #line 200
---
> #line 203
>   mod = (int )(((unsigned long )cxt->nextpage * record_size) % (unsigned long )mtd->erasesize);
> #line 204
2796,2798c2798,2800
< #line 201
<     cxt->nextpage = (int )((uint32_t )cxt->nextpage + (mtd->erasesize - (uint32_t )mod) / 4096U);
< #line 202
---
> #line 205
>     cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )(mtd->erasesize - (uint32_t )mod) / record_size));
> #line 206
2800c2802
< #line 203
---
> #line 207
2808,2813c2810,2815
< #line 206
<   goto ldv_17629;
<   ldv_17628: 
< #line 207
<   ret = (*(mtd->block_isbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 208
---
> #line 210
>   goto ldv_17642;
>   ldv_17641: 
> #line 211
>   ret = (*(mtd->block_isbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 212
2815,2816c2817,2818
< #line 209
<     goto ldv_17626;
---
> #line 213
>     goto ldv_17639;
2820c2822
< #line 210
---
> #line 214
2822c2824
< #line 211
---
> #line 215
2824c2826
< #line 212
---
> #line 216
2830,2835d2831
< #line 215
<   printk("<4>mtdoops: bad block at %08x\n", cxt->nextpage * 4096);
< #line 217
<   i = i + 1;
< #line 218
<   cxt->nextpage = (int )((uint32_t )cxt->nextpage + mtd->erasesize / 4096U);
2836a2833,2838
>   printk("<4>mtdoops: bad block at %08lx\n", (unsigned long )cxt->nextpage * record_size);
> #line 221
>   i = i + 1;
> #line 222
>   cxt->nextpage = (int )((unsigned int )cxt->nextpage + (unsigned int )((unsigned long )mtd->erasesize / record_size));
> #line 223
2838c2840
< #line 220
---
> #line 224
2843,2845c2845,2847
< #line 221
<   if ((uint32_t )i == (uint32_t )cxt->oops_pages / (mtd->erasesize / 4096U)) {
< #line 222
---
> #line 225
>   if ((unsigned long )i == (unsigned long )cxt->oops_pages / ((unsigned long )mtd->erasesize / record_size)) {
> #line 226
2847c2849
< #line 223
---
> #line 227
2852,2853c2854,2855
<   ldv_17629: ;
< #line 206
---
>   ldv_17642: ;
> #line 210
2856,2857c2858,2859
< #line 207
<     goto ldv_17628;
---
> #line 211
>     goto ldv_17641;
2861,2862c2863,2864
<   ldv_17626: 
< #line 227
---
>   ldv_17639: 
> #line 231
2864c2866
< #line 227
---
> #line 231
2866,2871c2868,2873
< #line 227
<   goto ldv_17631;
<   ldv_17630: 
< #line 228
<   ret = mtdoops_erase_block(cxt, cxt->nextpage * 4096);
< #line 227
---
> #line 231
>   goto ldv_17644;
>   ldv_17643: 
> #line 232
>   ret = mtdoops_erase_block(cxt, (int )((unsigned int )((unsigned long )cxt->nextpage) * (unsigned int )record_size));
> #line 231
2873,2874c2875,2876
<   ldv_17631: ;
< #line 227
---
>   ldv_17644: ;
> #line 231
2876,2877c2878,2879
< #line 228
<     goto ldv_17630;
---
> #line 232
>     goto ldv_17643;
2882c2884
< #line 230
---
> #line 234
2884c2886
< #line 231
---
> #line 235
2886c2888
< #line 233
---
> #line 237
2888c2890
< #line 234
---
> #line 238
2893c2895
< #line 237
---
> #line 241
2896,2898c2898,2900
< #line 238
<     ret = (*(mtd->block_markbad))(mtd, (loff_t )(cxt->nextpage * 4096));
< #line 239
---
> #line 242
>     ret = (*(mtd->block_markbad))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size));
> #line 243
2900c2902
< #line 240
---
> #line 244
2902c2904
< #line 241
---
> #line 245
2910c2912
< #line 244
---
> #line 248
2914c2916
< #line 247 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 251 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2922,2923d2923
< #line 249
<   mtd = cxt->mtd;
2925,2927c2925,2929
<   if (cxt->writecount <= 4095) {
< #line 254
<     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, (size_t )(4096 - cxt->writecount));
---
>   mtd = cxt->mtd;
> #line 257
>   if ((unsigned long )cxt->writecount < record_size) {
> #line 258
>     memset(cxt->oops_buf + (unsigned long )cxt->writecount, 255, record_size - (unsigned long )cxt->writecount);
2931c2933
< #line 257
---
> #line 261
2933,2935c2935,2937
< #line 258
<     ret = (*(mtd->panic_write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                                 (u_char const   *)cxt->oops_buf);
---
> #line 262
>     ret = (*(mtd->panic_write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                                 record_size, & retlen, (u_char const   *)cxt->oops_buf);
2937,2939c2939,2941
< #line 261
<     ret = (*(mtd->write))(mtd, (loff_t )(cxt->nextpage * 4096), 4096UL, & retlen,
<                           (u_char const   *)cxt->oops_buf);
---
> #line 265
>     ret = (*(mtd->write))(mtd, (loff_t )((unsigned long )cxt->nextpage * record_size),
>                           record_size, & retlen, (u_char const   *)cxt->oops_buf);
2941c2943
< #line 264
---
> #line 268
2943,2947c2945,2949
< #line 266
<   if (retlen != 4096UL || ret < 0) {
< #line 267
<     printk("<3>mtdoops: write failure at %d (%td of %d written), error %d\n", cxt->nextpage * 4096,
<            retlen, 4096, ret);
---
> #line 270
>   if (retlen != record_size || ret < 0) {
> #line 271
>     printk("<3>mtdoops: write failure at %ld (%td of %ld written), error %d\n", (unsigned long )cxt->nextpage * record_size,
>            retlen, record_size, ret);
2951c2953
< #line 269
---
> #line 273
2953c2955
< #line 271
---
> #line 275
2955c2957
< #line 272
---
> #line 276
2959c2961
< #line 275 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 279 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2966c2968
< #line 278
---
> #line 282
2968c2970
< #line 278
---
> #line 282
2970c2972
< #line 280
---
> #line 284
2972c2974
< #line 281
---
> #line 285
2976c2978
< #line 283 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 287 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
2988c2990
< #line 285
---
> #line 289
2990c2992
< #line 286
---
> #line 290
2992c2994
< #line 287
---
> #line 291
2994c2996
< #line 290
---
> #line 294
2996,3002d2997
< #line 290
<   goto ldv_17658;
<   ldv_17657: 
< #line 292
<   mark_page_used(cxt, page);
< #line 293
<   ret = (*(mtd->read))(mtd, (loff_t )(page * 4096), 8UL, & retlen, (u_char *)(& count));
3003a2999,3006
>   goto ldv_17671;
>   ldv_17670: 
> #line 296
>   mark_page_used(cxt, page);
> #line 297
>   ret = (*(mtd->read))(mtd, (loff_t )((unsigned long )page * record_size), 8UL, & retlen,
>                        (u_char *)(& count));
> #line 298
3005,3006c3008,3009
< #line 295
<     printk("<3>mtdoops: read failure at %d (%td of 8 read), err %d\n", page * 4096,
---
> #line 299
>     printk("<3>mtdoops: read failure at %ld (%td of 8 read), err %d\n", (unsigned long )page * record_size,
3008,3009c3011,3012
< #line 297
<     goto ldv_17656;
---
> #line 301
>     goto ldv_17669;
3013c3016
< #line 300
---
> #line 304
3015c3018
< #line 301
---
> #line 305
3020c3023
< #line 302
---
> #line 306
3022,3023c3025,3026
< #line 303
<     goto ldv_17656;
---
> #line 307
>     goto ldv_17669;
3027c3030
< #line 304
---
> #line 308
3029,3030c3032,3033
< #line 305
<     goto ldv_17656;
---
> #line 309
>     goto ldv_17669;
3034c3037
< #line 306
---
> #line 310
3036c3039
< #line 307
---
> #line 311
3038c3041
< #line 308
---
> #line 312
3041c3044
< #line 309
---
> #line 313
3043c3046
< #line 310
---
> #line 314
3045c3048
< #line 311
---
> #line 315
3048c3051
< #line 312
---
> #line 316
3050c3053
< #line 313
---
> #line 317
3052c3055
< #line 314
---
> #line 318
3055c3058
< #line 315
---
> #line 319
3057c3060
< #line 317
---
> #line 321
3059c3062
< #line 318
---
> #line 322
3064,3065c3067,3068
<   ldv_17656: 
< #line 290
---
>   ldv_17669: 
> #line 294
3067,3068c3070,3071
<   ldv_17658: ;
< #line 290
---
>   ldv_17671: ;
> #line 294
3070,3071c3073,3074
< #line 291
<     goto ldv_17657;
---
> #line 295
>     goto ldv_17670;
3076c3079
< #line 321
---
> #line 325
3078c3081
< #line 322
---
> #line 326
3080c3083
< #line 323
---
> #line 327
3082c3085
< #line 324
---
> #line 328
3084c3087
< #line 325
---
> #line 329
3089c3092
< #line 328
---
> #line 332
3091c3094
< #line 329
---
> #line 333
3093c3096
< #line 331
---
> #line 335
3095c3098
< #line 332
---
> #line 336
3099c3102
< #line 335 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 339 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3110c3113
< #line 337
---
> #line 341
3112c3115
< #line 338
---
> #line 342
3114,3116c3117,3119
< #line 340
<   __base = 4096U;
< #line 340
---
> #line 344
>   __base = (uint32_t )record_size;
> #line 344
3118c3121
< #line 340
---
> #line 344
3120c3123
< #line 342
---
> #line 346
3122c3125
< #line 342
---
> #line 346
3124c3127
< #line 342
---
> #line 346
3126c3129
< #line 343
---
> #line 347
3134c3137
< #line 345
---
> #line 349
3136c3139
< #line 346
---
> #line 350
3141c3144
< #line 348
---
> #line 352
3143c3146
< #line 349
---
> #line 353
3145c3148
< #line 351
---
> #line 355
3150,3152c3153,3155
< #line 354
<   if (mtd->erasesize <= 4095U) {
< #line 355
---
> #line 358
>   if ((unsigned long )mtd->erasesize < record_size) {
> #line 359
3154c3157
< #line 357
---
> #line 361
3159c3162
< #line 360
---
> #line 364
3161c3164
< #line 361
---
> #line 365
3163c3166
< #line 363
---
> #line 367
3168c3171
< #line 367
---
> #line 371
3170c3173
< #line 367
---
> #line 371
3172c3175
< #line 369
---
> #line 373
3174c3177
< #line 370
---
> #line 374
3176c3179
< #line 371
---
> #line 375
3181c3184
< #line 374
---
> #line 378
3183,3185c3186,3188
< #line 375
<   cxt->oops_pages = (int )mtd->size / 4096;
< #line 376
---
> #line 379
>   cxt->oops_pages = (int )((unsigned long )((int )mtd->size) / record_size);
> #line 380
3187c3190
< #line 377
---
> #line 381
3189c3192
< #line 378
---
> #line 382
3193c3196
< #line 380 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 384 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3199c3202
< #line 382
---
> #line 386
3201c3204
< #line 384
---
> #line 388
3203c3206
< #line 385
---
> #line 389
3208c3211
< #line 387
---
> #line 391
3210c3213
< #line 388
---
> #line 392
3212c3215
< #line 389
---
> #line 393
3216c3219
< #line 391 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 395 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3224c3227
< #line 393
---
> #line 397
3226c3229
< #line 394
---
> #line 398
3228c3231
< #line 397
---
> #line 401
3230c3233
< #line 398
---
> #line 402
3235c3238
< #line 404
---
> #line 408
3237c3240
< #line 405
---
> #line 409
3239c3242
< #line 406
---
> #line 410
3241c3244
< #line 407
---
> #line 411
3246c3249
< #line 409
---
> #line 413
3248c3251
< #line 410
---
> #line 414
3250c3253
< #line 412
---
> #line 416
3254c3257
< #line 412
---
> #line 416
3256c3259
< #line 412
---
> #line 416
3258c3261
< #line 414
---
> #line 418
3261c3264
< #line 416
---
> #line 420
3265c3268
< #line 416
---
> #line 420
3268c3271
< #line 417
---
> #line 421
3272c3275
< #line 420 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 424 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3283c3286
< #line 422
---
> #line 426
3285c3288
< #line 423
---
> #line 427
3287c3290
< #line 426
---
> #line 430
3289c3292
< #line 427
---
> #line 431
3291c3294
< #line 428
---
> #line 432
3296c3299
< #line 431
---
> #line 435
3298c3301
< #line 432
---
> #line 436
3303c3306
< #line 435
---
> #line 439
3305c3308
< #line 438
---
> #line 442
3307c3310
< #line 439
---
> #line 443
3309c3312
< #line 440
---
> #line 444
3314c3317
< #line 443
---
> #line 447
3316c3319
< #line 444
---
> #line 448
3318c3321
< #line 445
---
> #line 449
3320c3323
< #line 445
---
> #line 449
3322c3325
< #line 445
---
> #line 449
3324c3327
< #line 446
---
> #line 450
3326c3329
< #line 447
---
> #line 451
3331,3334c3334,3337
< #line 450
<   if ((unsigned int )cxt->writecount + count > 4096U) {
< #line 451
<     count = (unsigned int )(4096 - cxt->writecount);
---
> #line 454
>   if ((unsigned long )((unsigned int )cxt->writecount + count) > record_size) {
> #line 455
>     count = (unsigned int )record_size - (unsigned int )cxt->writecount;
3338c3341
< #line 453
---
> #line 457
3340c3343
< #line 453
---
> #line 457
3343c3346
< #line 454
---
> #line 458
3345c3348
< #line 456
---
> #line 460
3347,3349c3350,3352
< #line 458
<   if (cxt->writecount == 4096) {
< #line 459
---
> #line 462
>   if ((unsigned long )cxt->writecount == record_size) {
> #line 463
3354c3357
< #line 460
---
> #line 464
3358c3361
< #line 462 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 466 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3364c3367
< #line 464
---
> #line 468
3366c3369
< #line 466
---
> #line 470
3368c3371
< #line 467
---
> #line 471
3373c3376
< #line 468
---
> #line 472
3375c3378
< #line 469
---
> #line 473
3377c3380
< #line 470
---
> #line 474
3382c3385
< #line 472
---
> #line 476
3384c3387
< #line 473
---
> #line 477
3389c3392
< #line 475
---
> #line 479
3391c3394
< #line 476
---
> #line 480
3395c3398
< #line 479 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 483 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3397c3400
< #line 484 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 488 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3399c3402
< #line 484
---
> #line 488
3402c3405
< #line 493 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 497 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3413c3416
< #line 495
---
> #line 499
3415c3418,3436
< #line 497
---
> #line 501
>   if ((record_size & 4095UL) != 0UL) {
> #line 502
>     printk("<3>mtdoops: record_size must be a multiple of 4096\n");
> #line 503
>     return (-22);
>   } else {
> 
>   }
> #line 505
>   if (record_size <= 4095UL) {
> #line 506
>     printk("<3>mtdoops: record_size must be over 4096 bytes\n");
> #line 507
>     return (-22);
>   } else {
> 
>   }
> #line 509
3417,3419c3438,3440
< #line 498
<   cxt->oops_buf = vmalloc(4096UL);
< #line 499
---
> #line 510
>   cxt->oops_buf = vmalloc(record_size);
> #line 511
3421c3442
< #line 500
---
> #line 512
3423c3444
< #line 501
---
> #line 513
3428c3449
< #line 504
---
> #line 516
3430c3451
< #line 505
---
> #line 517
3432c3453
< #line 505
---
> #line 517
3434c3455
< #line 505
---
> #line 517
3437c3458
< #line 505
---
> #line 517
3439c3460
< #line 505
---
> #line 517
3441c3462
< #line 506
---
> #line 518
3443c3464
< #line 506
---
> #line 518
3445c3466
< #line 506
---
> #line 518
3448c3469
< #line 506
---
> #line 518
3450c3471
< #line 506
---
> #line 518
3452c3473
< #line 508
---
> #line 520
3454c3475
< #line 509
---
> #line 521
3456c3477
< #line 510
---
> #line 522
3460c3481
< #line 513 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 525 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3466c3487
< #line 515
---
> #line 527
3468c3489
< #line 517
---
> #line 529
3470c3491
< #line 518
---
> #line 530
3472c3493
< #line 519
---
> #line 531
3474c3495
< #line 520
---
> #line 532
3476c3497
< #line 521
---
> #line 533
3478c3499
< #line 522
---
> #line 534
3482c3503
< #line 548
---
> #line 560
3484c3505
< #line 557
---
> #line 569
3486c3507
< #line 560
---
> #line 572
3488c3509
< #line 563
---
> #line 575
3490c3511
< #line 566 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 578 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3492c3513
< #line 569 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
---
> #line 581 "/work/ldvuser/novikov/work/current--X--drivers/mtd/mtdoops.ko--X--defaultlinux--X--39_7a--X--cpachecker/linux/csd_deg_dscv/11/dscv_tempdir/dscv/ri/39_7a/drivers/mtd/mtdoops.c.prepared"
3506c3527
< #line 647
---
> #line 653
3508c3529
< #line 625
---
> #line 632
3510c3531
< #line 634
---
> #line 641
3512c3533
< #line 644
---
> #line 650
3514c3535
< #line 645
---
> #line 651
3516c3537
< #line 645
---
> #line 651
3518c3539
< #line 646
---
> #line 652
3523,3526c3544,3547
< #line 653
<   goto ldv_17754;
<   ldv_17753: 
< #line 657
---
> #line 659
>   goto ldv_17767;
>   ldv_17766: 
> #line 663
3528c3549
< #line 657
---
> #line 663
3531c3552
< #line 662
---
> #line 668
3533c3554
< #line 671
---
> #line 676
3535c3556
< #line 672
---
> #line 677
3537c3558
< #line 673
---
> #line 678
3542,3543c3563,3564
< #line 679
<   goto ldv_17747;
---
> #line 684
>   goto ldv_17760;
3545c3566
< #line 692
---
> #line 696
3547c3568
< #line 693
---
> #line 697
3549,3550c3570,3571
< #line 700
<   goto ldv_17747;
---
> #line 704
>   goto ldv_17760;
3552c3573
< #line 713
---
> #line 716
3554c3575
< #line 714
---
> #line 717
3556,3557c3577,3578
< #line 721
<   goto ldv_17747;
---
> #line 724
>   goto ldv_17760;
3559c3580
< #line 734
---
> #line 736
3561c3582
< #line 735
---
> #line 737
3563,3564c3584,3585
< #line 742
<   goto ldv_17747;
---
> #line 744
>   goto ldv_17760;
3566,3567d3586
< #line 755
<   ldv_handler_precall();
3568a3588,3589
>   ldv_handler_precall();
> #line 757
3570,3572d3590
< #line 763
<   goto ldv_17747;
<   default: ;
3574c3592,3595
<   goto ldv_17747;
---
>   goto ldv_17760;
>   default: ;
> #line 765
>   goto ldv_17760;
3576,3578c3597,3599
<   ldv_17747: ;
<   ldv_17754: 
< #line 653
---
>   ldv_17760: ;
>   ldv_17767: 
> #line 659
3580c3601
< #line 653
---
> #line 659
3582,3583c3603,3604
< #line 655
<     goto ldv_17753;
---
> #line 661
>     goto ldv_17766;
